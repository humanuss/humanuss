"use strict";(self.webpackChunkpanoView=self.webpackChunkpanoView||[]).push([[179],{118:(Vt,He,Y)=>{function R(i){var r="function"==typeof Symbol&&Symbol.iterator,a=r&&i[r],l=0;if(a)return a.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(i,r){var a="function"==typeof Symbol&&i[Symbol.iterator];if(!a)return i;var h,S,l=a.call(i),v=[];try{for(;(void 0===r||r-- >0)&&!(h=l.next()).done;)v.push(h.value)}catch(M){S={error:M}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(S)throw S.error}}return v}function J(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(Q(arguments[r]));return i}Y.d(He,{Qz:()=>Yi,FP:()=>Fn,A1:()=>du,ZP:()=>Kc,qE:()=>oc});var ue=function(i){return typeof i>"u"},Se=function(){function i(a,l){var h,v;if(this._canceled=!1,l)try{for(var S=R(Object.keys(l)),M=S.next();!M.done;M=S.next()){var N=M.value;this[N]=l[N]}}catch(k){h={error:k}}finally{try{M&&!M.done&&(v=S.return)&&v.call(S)}finally{if(h)throw h.error}}this.eventType=a}var r=i.prototype;return r.stop=function(){this._canceled=!0},r.isCanceled=function(){return this._canceled},i}(),Ue=function(){function i(){this._eventHandler={}}var r=i.prototype;return r.trigger=function(a){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];var S=J(this._eventHandler[a instanceof Se?a.eventType:a]||[]);return S.length<=0||(a instanceof Se?(a.currentTarget=this,S.forEach(function(M){M(a)})):S.forEach(function(M){M.apply(void 0,J(l))})),this},r.once=function(a,l){var h=this;if("object"==typeof a&&ue(l)){var v=a;for(var S in v)this.once(S,v[S]);return this}if("string"==typeof a&&"function"==typeof l){var M=function(){for(var N=[],k=0;k<arguments.length;k++)N[k]=arguments[k];l.apply(void 0,J(N)),h.off(a,M)};this.on(a,M)}return this},r.hasOn=function(a){return!!this._eventHandler[a]},r.on=function(a,l){if("object"==typeof a&&ue(l)){var h=a;for(var v in h)this.on(v,h[v]);return this}if("string"==typeof a&&"function"==typeof l){var S=this._eventHandler[a];ue(S)&&(this._eventHandler[a]=[],S=this._eventHandler[a]),S.push(l)}return this},r.off=function(a,l){var h,v;if(ue(a))return this._eventHandler={},this;if(ue(l)){if("string"==typeof a)return delete this._eventHandler[a],this;var S=a;for(var M in S)this.off(M,S[M]);return this}var N=this._eventHandler[a];if(N){var k=0;try{for(var B=R(N),$=B.next();!$.done;$=B.next()){if($.value===l){N.splice(k,1),N.length<=0&&delete this._eventHandler[a];break}k++}}catch(W){h={error:W}}finally{try{$&&!$.done&&(v=B.return)&&v.call(B)}finally{if(h)throw h.error}}}return this},i.VERSION="3.0.4",i}(),We=Se;const ut=Ue;var Qe=1e-6,we=typeof Float32Array<"u"?Float32Array:Array;function vn(){var i=new we(3);return we!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function Ir(i){return Math.hypot(i[0],i[1],i[2])}function jt(i,r,a){var l=new we(3);return l[0]=i,l[1]=r,l[2]=a,l}function zr(i,r,a){var l=r[0],h=r[1],v=r[2],S=a[0],M=a[1],N=a[2];return i[0]=h*N-v*M,i[1]=v*S-l*N,i[2]=l*M-h*S,i}function wi(i,r,a){var l=r[0],h=r[1],v=r[2],S=a[3]*l+a[7]*h+a[11]*v+a[15];return i[0]=(a[0]*l+a[4]*h+a[8]*v+a[12])/(S=S||1),i[1]=(a[1]*l+a[5]*h+a[9]*v+a[13])/S,i[2]=(a[2]*l+a[6]*h+a[10]*v+a[14])/S,i}function Qn(i,r,a){var l=a[0],h=a[1],v=a[2],M=r[0],N=r[1],k=r[2],B=h*k-v*N,$=v*M-l*k,Z=l*N-h*M,W=h*Z-v*$,le=v*B-l*Z,me=l*$-h*B,ne=2*a[3];return $*=ne,Z*=ne,le*=2,me*=2,i[0]=M+(B*=ne)+(W*=2),i[1]=N+$+le,i[2]=k+Z+me,i}Math,Math,Math.hypot||(Math.hypot=function(){for(var i=0,r=arguments.length;r--;)i+=arguments[r]*arguments[r];return Math.sqrt(i)});function En(){var i=new we(4);return we!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i[3]=1,i}function Nn(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=1,i}function ci(i,r,a){var l=r[0],h=r[1],v=r[2],S=r[3],M=a[0],N=a[1],k=a[2],B=a[3];return i[0]=l*B+S*M+h*k-v*N,i[1]=h*B+S*N+v*M-l*k,i[2]=v*B+S*k+l*N-h*M,i[3]=S*B-l*M-h*N-v*k,i}function is(i,r,a){a*=.5;var l=r[0],h=r[1],v=r[2],S=r[3],M=Math.sin(a),N=Math.cos(a);return i[0]=l*N+S*M,i[1]=h*N+v*M,i[2]=v*N-h*M,i[3]=S*N-l*M,i}function on(i,r,a){a*=.5;var l=r[0],h=r[1],v=r[2],S=r[3],M=Math.sin(a),N=Math.cos(a);return i[0]=l*N-v*M,i[1]=h*N+S*M,i[2]=v*N+l*M,i[3]=S*N-h*M,i}function ss(i,r,a){a*=.5;var l=r[0],h=r[1],v=r[2],S=r[3],M=Math.sin(a),N=Math.cos(a);return i[0]=l*N+h*M,i[1]=h*N-l*M,i[2]=v*N+S*M,i[3]=S*N-v*M,i}vn(),function Rt(){var i=new we(4);we!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0,i[3]=0)}();var ui=function ht(i){var r=new we(4);return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r},Ii=function Pn(i,r){var a=r[0],l=r[1],h=r[2],v=r[3],S=a*a+l*l+h*h+v*v;return S>0&&(S=1/Math.sqrt(S)),i[0]=a*S,i[1]=l*S,i[2]=h*S,i[3]=v*S,i},Fo=function yn(i,r){var a=i[0],l=i[1],h=i[2],v=i[3],S=r[0],M=r[1],N=r[2],k=r[3];return Math.abs(a-S)<=Qe*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(l-M)<=Qe*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(h-N)<=Qe*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(v-k)<=Qe*Math.max(1,Math.abs(v),Math.abs(k))};function ti(){var i=new we(16);return we!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i}function ji(i,r,a){var l=r[0],h=r[1],v=r[2],S=r[3],M=r[4],N=r[5],k=r[6],B=r[7],$=r[8],Z=r[9],W=r[10],le=r[11],me=r[12],ne=r[13],Ae=r[14],ct=r[15],et=a[0],Ze=a[1],at=a[2],lt=a[3];return i[0]=et*l+Ze*M+at*$+lt*me,i[1]=et*h+Ze*N+at*Z+lt*ne,i[2]=et*v+Ze*k+at*W+lt*Ae,i[3]=et*S+Ze*B+at*le+lt*ct,i[4]=(et=a[4])*l+(Ze=a[5])*M+(at=a[6])*$+(lt=a[7])*me,i[5]=et*h+Ze*N+at*Z+lt*ne,i[6]=et*v+Ze*k+at*W+lt*Ae,i[7]=et*S+Ze*B+at*le+lt*ct,i[8]=(et=a[8])*l+(Ze=a[9])*M+(at=a[10])*$+(lt=a[11])*me,i[9]=et*h+Ze*N+at*Z+lt*ne,i[10]=et*v+Ze*k+at*W+lt*Ae,i[11]=et*S+Ze*B+at*le+lt*ct,i[12]=(et=a[12])*l+(Ze=a[13])*M+(at=a[14])*$+(lt=a[15])*me,i[13]=et*h+Ze*N+at*Z+lt*ne,i[14]=et*v+Ze*k+at*W+lt*Ae,i[15]=et*S+Ze*B+at*le+lt*ct,i}vn(),jt(1,0,0),jt(0,1,0),En(),En(),function st(){var i=new we(9);we!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1}();!function hs(){var i=new we(2);we!=Float32Array&&(i[0]=0,i[1]=0)}();var b=function(i,r){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(a[h]=l[h])})(i,r)};function d(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=i}b(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}var g=function(){return g=Object.assign||function(r){for(var a,l=1,h=arguments.length;l<h;l++)for(var v in a=arguments[l])Object.prototype.hasOwnProperty.call(a,v)&&(r[v]=a[v]);return r},g.apply(this,arguments)};var O=typeof window<"u",U=O?window.navigator.userAgent:"",z=!!O&&"getComputedStyle"in window,G=/MSIE|Trident|Windows Phone|Edge/.test(U),te=!!O&&"addEventListener"in document,ce="width",Le="height";function Ct(i,r){return i.getAttribute(r)||""}function ot(i){return[].slice.call(i)}function Zt(i,r){return void 0===r&&(r="data-"),"loading"in i&&"lazy"===i.getAttribute("loading")||!!i.getAttribute(r+"lazy")}function An(i,r,a){te?i.addEventListener(r,a,!1):i.attachEvent?i.attachEvent("on"+r,a):i["on"+r]=a}function qn(i,r,a){i.removeEventListener?i.removeEventListener(r,a,!1):i.detachEvent?i.detachEvent("on"+r,a):i["on"+r]=null}function $n(i,r){return parseFloat(i["client"+r]||i["offset"+r]||function pi(i){return(z?window.getComputedStyle(i):i.currentStyle)||{}}(i)[r.toLowerCase()])||0}var yr=[];function Er(i,r){!yr.length&&An(window,"resize",ri),i.__PREFIX__=r,yr.push(i),Rs(i)}function Rs(i,r){void 0===r&&(r="data-");var a=i.__PREFIX__||r,l=parseInt(Ct(i,""+a+ce),10)||0,h=parseInt(Ct(i,""+a+Le),10)||0;if(Ct(i,a+"fixed")===Le){var S=function _r(i){return $n(i,"Height")}(i)||h;i.style[ce]=l/h*S+"px"}else S=function Kn(i){return $n(i,"Width")}(i)||l,i.style[Le]=h/l*S+"px"}function ri(){yr.forEach(function(i){Rs(i)})}var Gs=function(i){function r(l,h){void 0===h&&(h={});var v=i.call(this)||this;v.isReady=!1,v.isPreReady=!1,v.hasDataSize=!1,v.hasLoading=!1,v.isSkip=!1,v.onCheck=function(M){v.clear(),M&&"error"===M.type&&v.onError(v.element),v.hasLoading&&v.checkElement()||v.onReady(!v.hasDataSize&&!v.hasLoading)},v.options=g({prefix:"data-"},h),v.element=l;var S=v.options.prefix;return v.hasDataSize=function Tt(i,r){return void 0===r&&(r="data-"),!!i.getAttribute(r+"width")}(l,S),v.isSkip=function ln(i,r){return void 0===r&&(r="data-"),!!i.getAttribute(r+"skip")}(l,S),v.hasLoading=Zt(l,S),v}d(r,i);var a=r.prototype;return a.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&Er(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},a.addEvents=function(){var l=this,h=this.element;this.constructor.EVENTS.forEach(function(v){An(h,v,l.onCheck)})},a.clear=function(){var l=this,h=this.element;this.constructor.EVENTS.forEach(function(v){qn(h,v,l.onCheck)}),this.removeAutoSizer()},a.destroy=function(){this.clear(),this.off()},a.removeAutoSizer=function(){this.hasDataSize&&function Co(i,r){var a=yr.indexOf(i);if(!(a<0)){var l=Ct(i,r+"fixed");delete i.__PREFIX__,i.style[l===Le?ce:Le]="",yr.splice(a,1),!yr.length&&qn(window,"resize",ri)}}(this.element,this.options.prefix)},a.onError=function(l){this.trigger("error",{element:this.element,target:l})},a.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},a.onReady=function(l){this.isReady||((l=!this.isPreReady&&l)&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:l,hasLoading:this.hasLoading,isSkip:this.isSkip}))},a.onAlreadyError=function(l){var h=this;setTimeout(function(){h.onError(l)})},a.onAlreadyPreReady=function(){var l=this;setTimeout(function(){l.onPreReady()})},a.onAlreadyReady=function(l){var h=this;setTimeout(function(){h.onReady(l)})},r.EVENTS=[],r}(ut),Yo=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}d(r,i);var a=r.prototype;return a.setHasLoading=function(l){this.hasLoading=l},a.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(Er(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},a.checkElement=function(){return!0},a.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},a.onAlreadyPreReady=function(){i.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},r.EVENTS=[],r}(Gs),it=function(i){function r(l){void 0===l&&(l={});var h=i.call(this)||this;return h.readyCount=0,h.preReadyCount=0,h.totalCount=0,h.totalErrorCount=0,h.isPreReadyOver=!0,h.elementInfos=[],h.options=g({loaders:{},prefix:"data-"},l),h}d(r,i);var a=r.prototype;return a.check=function(l){var h=this,v=this.options.prefix;this.clear(),this.elementInfos=ot(l).map(function(M,N){var k=h.getLoader(M,{prefix:v});return k.check(),k.on("error",function(B){h.onError(N,B.target)}).on("preReady",function(B){var $=h.elementInfos[N];$.hasLoading=B.hasLoading,$.isSkip=B.isSkip;var Z=h.checkPreReady(N);h.onPreReadyElement(N),Z&&h.onPreReady()}).on("ready",function(B){var $=B.withPreReady,W=B.isSkip,le=h.elementInfos[N];le.hasLoading=B.hasLoading,le.isSkip=W;var me=$&&h.checkPreReady(N),ne=h.checkReady(N);$&&h.onPreReadyElement(N),h.onReadyElement(N),me&&h.onPreReady(),ne&&h.onReady()}),{loader:k,element:M,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var S=this.elementInfos.length;return this.totalCount=S,S||setTimeout(function(){h.onPreReady(),h.onReady()}),this},a.getTotalCount=function(){return this.totalCount},a.isPreReady=function(){return this.elementInfos.every(function(l){return l.isPreReady})},a.isReady=function(){return this.elementInfos.every(function(l){return l.isReady})},a.hasError=function(){return this.totalErrorCount>0},a.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(l){l.loader&&l.loader.destroy()}),this.elementInfos=[]},a.destroy=function(){this.clear(),this.off()},a.getLoader=function(l,h){var v=this,S=l.tagName.toLowerCase(),M=this.options.loaders,N=h.prefix,k=Object.keys(M);if(M[S])return new M[S](l,h);var B=new Yo(l,h),$=ot(l.querySelectorAll(k.join(", ")));B.setHasLoading($.some(function(le){return Zt(le,N)}));var Z=!1,W=this.clone().on("error",function(le){B.onError(le.target)}).on("ready",function(){B.onReady(Z)});return B.on("requestChildren",function(){var le=function ni(i,r,a){var l=ot(i.querySelectorAll(function C(){for(var i=0,r=0,a=arguments.length;r<a;r++)i+=arguments[r].length;var l=Array(i),h=0;for(r=0;r<a;r++)for(var v=arguments[r],S=0,M=v.length;S<M;S++,h++)l[h]=v[S];return l}(["["+a+"skip] ["+a+"width]"],r.map(function(h){return["["+a+"skip] "+h,h+"["+a+"skip]","["+a+"width] "+h].join(", ")})).join(", ")));return ot(i.querySelectorAll("["+a+"width], "+r.join(", "))).filter(function(h){return-1===l.indexOf(h)})}(l,k,v.options.prefix);W.check(le).on("preReady",function(me){(Z=me.isReady)||B.onPreReady()})}).on("reqeustReadyChildren",function(){W.check($)}).on("requestDestroy",function(){W.destroy()}),B},a.clone=function(){return new r(g({},this.options))},a.checkPreReady=function(l){return this.elementInfos[l].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},a.checkReady=function(l){return this.elementInfos[l].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},a.onError=function(l,h){var v=this.elementInfos[l];v.hasError=!0,this.trigger(new We("error",{element:v.element,index:l,target:h,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},a.onPreReadyElement=function(l){var h=this.elementInfos[l];this.trigger(new We("preReadyElement",{element:h.element,index:l,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:h.hasLoading,isSkip:h.isSkip}))},a.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new We("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},a.onReadyElement=function(l){var h=this.elementInfos[l];this.trigger(new We("readyElement",{index:l,element:h.element,hasError:h.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:h.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:h.isSkip}))},a.onReady=function(){this.trigger(new We("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},a.getErrorCount=function(){return this.elementInfos.filter(function(l){return l.hasError}).length},a.hasLoading=function(){return this.elementInfos.some(function(l){return l.hasLoading})},r}(ut),ft=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return d(r,i),r.prototype.checkElement=function(){var l=this.element,h=l.getAttribute("src");if(l.complete){if(h)return l.naturalWidth||this.onAlreadyError(l),!1;this.onAlreadyPreReady()}return this.addEvents(),G&&l.setAttribute("src",h),!0},r.EVENTS=["load","error"],r}(Gs),tt=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return d(r,i),r.prototype.checkElement=function(){var l=this.element;return!(l.readyState>=1||(l.error?(this.onAlreadyError(l),1):(this.addEvents(),0)))},r.EVENTS=["loadedmetadata","error"],r}(Gs),Nt=function(i){function r(a){return void 0===a&&(a={}),i.call(this,g({loaders:{img:ft,video:tt}},a))||this}return d(r,i),r}(it);const ii=Nt;function gn(i,r,a,l){return new(a||(a=Promise))(function(v,S){function M(B){try{k(l.next(B))}catch($){S($)}}function N(B){try{k(l.throw(B))}catch($){S($)}}function k(B){B.done?v(B.value):function h(v){return v instanceof a?v:new a(function(S){S(v)})}(B.value).then(M,N)}k((l=l.apply(i,r||[])).next())})}class Ln extends Error{constructor(r,a){super(r),Object.setPrototypeOf(this,Ln.prototype),this.name="View360Error",this.code=a}}var ur_CODES_WRONG_TYPE=0,ur_CODES_ELEMENT_NOT_FOUND=2,ur_CODES_CANVAS_NOT_FOUND=3,ur_CODES_WEBGL_NOT_SUPPORTED=4,ur_CODES_PROVIDE_PROJECTION_FIRST=6,ur_CODES_FAILED_LINKING_PROGRAM=7,ur_CODES_INSUFFICIENT_ARGS=8,ur_MESSAGES_WRONG_TYPE=(i,r)=>`${typeof i} is not a ${r.map(a=>`"${a}"`).join(" or ")}.`,ur_MESSAGES_ELEMENT_NOT_FOUND=i=>`Element with selector "${i}" not found.`,ur_MESSAGES_CANVAS_NOT_FOUND="The canvas element was not found inside the given root element.",ur_MESSAGES_WEBGL_NOT_SUPPORTED="WebGL is not supported on this browser.",ur_MESSAGES_PROVIDE_PROJECTION_FIRST='"projection" should be provided before initialization.',ur_MESSAGES_FAILED_LINKING_PROGRAM=(i,r)=>`Failed linking WebGL program - "${i}\nShader compile Log: ${r}`,ur_MESSAGES_INSUFFICIENT_ARGS=(i,r)=>`Insufficient arguments: given "${i}" for "${r}".`;var Yr=(()=>(function(i){i[i.LEFT=0]="LEFT",i[i.MIDDLE=1]="MIDDLE",i[i.RIGHT=2]="RIGHT"}(Yr||(Yr={})),Yr))();const So=["LEFT","UP","RIGHT","DOWN"];var Ws=(()=>(function(i){i[i.LEFT=37]="LEFT",i[i.UP=38]="UP",i[i.RIGHT=39]="RIGHT",i[i.DOWN=40]="DOWN"}(Ws||(Ws={})),Ws))();const vs={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"},Rn=["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],Yi={CONTAINER:"view360-container",CANVAS:"view360-canvas",CTX_LOST:"view360-ctx-lost",IN_VR:"view360-vr-presenting",HOTSPOT_CONTAINER:"view360-hotspots",HOTSPOT:"view360-hotspot",HOTSPOT_VISIBLE:"view360-hotspot-visible",HOTSPOT_FLIP_X:"view360-hotspot-flip-x",HOTSPOT_FLIP_Y:"view360-hotspot-flip-y"},Fn={READY:"ready",LOAD_START:"loadStart",LOAD:"load",PROJECTION_CHANGE:"projectionChange",RESIZE:"resize",BEFORE_RENDER:"beforeRender",RENDER:"render",INPUT_START:"inputStart",INPUT_END:"inputEnd",VIEW_CHANGE:"viewChange",STATIC_CLICK:"staticClick",VR_START:"vrStart",VR_END:"vrEnd"};var ja;const Fe={INPUT_START:"inputStart",CHANGE:"change",INPUT_END:"inputEnd",ENABLE:"enable",DISABLE:"disable",STATIC_CLICK:"staticClick"},Dr=Math.PI/180,Ys=180/Math.PI,jn=i=>1-Math.pow(1-i,3),qs={min:-1/0,max:1/0},Sa={min:-90,max:90},gi={min:.6,max:10},bo="immersive-vr",_l=null!==(ja=Number.EPSILON)&&void 0!==ja?ja:2220446049250313e-31,Ta=i=>"string"==typeof i,ba=(i,r)=>{let a=null;if(Ta(i)){const h=(r||document).querySelector(i);if(!h)return null;a=h}else(i=>!!i&&i.nodeType===Node.ELEMENT_NODE)(i)&&(a=i);return a},_=(i,r,a)=>Math.max(Math.min(i,a),r),T=(i,r,a)=>i*(1-a)+r*a,P=(i,r,a)=>{const l=Math.abs(a-r);return i<r?i=a-(r-i)%l:i>a&&(i=r+(i-a)%l),i},K=i=>"object"==typeof i?i:{},oe=(i,r)=>2*Math.atan(Math.tan(.5*i)/r),qi=(i,r,a,l)=>{Nn(i);const v=_(a,-89.99,89.99);return on(i,i,r*Dr),is(i,i,v*Dr),ss(i,i,l*Dr),i},qr=i=>{const r=i[0],a=i[1],l=i[2],h=i[3],k=r*r+a*a+l*l+h*h,B=r*h-a*l;let $,Z;if(B>.499995*k)$=Math.PI/2,Z=2*Math.atan2(a,r);else if(B<-.499995*k)$=-Math.PI/2,Z=-2*Math.atan2(a,r);else{const W=jt(0,0,1),le=jt(0,1,0);Qn(W,W,i),Qn(le,le,i);const me=Math.sqrt(W[0]*W[0]+W[2]*W[2]);$=Math.atan2(-W[1],me),Z=Math.atan2(W[0],W[2])}return{pitch:_($*Ys,-90,90),yaw:P(Z*Ys,0,360)}};class Ni{get val(){return this._val}get start(){return this._start}get end(){return this._end}get progress(){return this._progress}get activated(){return this._activated}get duration(){return this._duration}set duration(r){this._duration=r}get loop(){return this._loop}set loop(r){this._loop=r}get range(){return this._range}get easing(){return this._easing}set easing(r){this._easing=r}constructor({duration:r=300,loop:a=!1,range:l={min:0,max:1},easing:h=jn}={}){this._duration=r,this._loop=a,this._range=l,this._easing=h,this._activated=!1,this.reset(0)}update(r){if(!this._activated)return this._val=this._end,0;const a=this._start,l=this._end,v=this._val,S=this._loop,M=this._progress+r/this._duration;this._progress=S?P(M,0,1):_(M,0,1);const N=this._easing(this._progress);return this._val=T(a,l,N),!S&&this._progress>=1&&(this._activated=!1),this._val-v}reset(r){const a=this._range,l=_(r,a.min,a.max);this._start=l,this._end=l,this._val=l,this._progress=0,this._activated=!1}add(r){const a=this._range;this._start=_(this._start+r,a.min,a.max),this._end=_(this._end+r,a.min,a.max),this._val=_(this._val+r,a.min,a.max)}setNewEndByDelta(r){const a=this._range;this._start=this._val,this._end=_(this._end+r,a.min,a.max),this._progress=0,this._activated=!0}setRange(r,a){this._start=_(this._start,r,a),this._end=_(this._end,r,a),this._range={min:r,max:a}}}class vi{get duration(){return this._motion.duration}set duration(r){this._motion.duration=r}get easing(){return this._motion.easing}set easing(r){this._motion.easing=r}constructor(r,a,l,{duration:h=300,easing:v=jn}={}){this._camera=r,this._motion=new Ni({duration:h,easing:v,range:{min:0,max:1}}),this._from=a,this._to=l,this._finishPromise=new Promise(S=>{this._finish=S}),this._motion.setNewEndByDelta(1)}getFinishPromise(){return this._finishPromise}update(r){const a=this._camera,l=this._from,h=this._to,v=this._motion;v.update(r);const S=v.val,M=En(),N=T(l.zoom,h.zoom,S);(function ei(i,r,a,l){var Z,W,le,me,ne,h=r[0],v=r[1],S=r[2],M=r[3],N=a[0],k=a[1],B=a[2],$=a[3];return(W=h*N+v*k+S*B+M*$)<0&&(W=-W,N=-N,k=-k,B=-B,$=-$),1-W>Qe?(Z=Math.acos(W),le=Math.sin(Z),me=Math.sin((1-l)*Z)/le,ne=Math.sin(l*Z)/le):(me=1-l,ne=l),i[0]=me*h+ne*N,i[1]=me*v+ne*k,i[2]=me*S+ne*B,i[3]=me*M+ne*$,i})(M,l.rotation,h.rotation,S),a.rotate(M,N),S>=1&&this._finish()}}class da extends ut{get aspect(){return this._aspect}get changed(){return this._changed}get yawRange(){return this._initialYawRange}set yawRange(r){this._initialYawRange=r}get pitchRange(){return this._initialPitchRange}set pitchRange(r){this._initialPitchRange=r}get zoomRange(){return this._initialZoomRange}set zoomRange(r){this._initialZoomRange=r}constructor({initialYaw:r,initialPitch:a,initialZoom:l,yawRange:h,pitchRange:v,zoomRange:S,fov:M}){super(),this.yaw=r,this.pitch=a,this.zoom=l,this.rollOffset=0,this.initialYaw=r,this.initialPitch=a,this.initialZoom=l,this.position=vn(),this.animation=null,this._up=jt(0,1,0),this._aspect=1,this._initialYawRange=h,this._initialPitchRange=v,this._initialZoomRange=S,this._yawRange=h,this._pitchRange=v,this._zoomRange=S,this.quaternion=En(),this._updateQuaternion(),this.viewMatrix=ti(),this.projectionMatrix=ti(),this.fov=M,this._maxRenderHeight=-1}destroy(){this.off()}resize(r,a){const l=this._aspect;this._aspect=r/a,this._aspect!==l&&this.updateMatrix()}lookAt({yaw:r=this.yaw,pitch:a=this.pitch,zoom:l=this.zoom}){const h=ui(this.quaternion),v=this.zoom;this.yaw=P(r,0,360),this.pitch=_(a,-90,90),this.zoom=l,this._updateQuaternion();const S=Math.abs(l-v);(!Fo(this.quaternion,h)||S>=10*_l)&&this.updateMatrix()}rotate(r,a=this.zoom){const l=Ii(En(),r),h=Fo(this.quaternion,l);!function Rr(i,r){i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3]}(this.quaternion,l);const v=this.zoom,{yaw:S,pitch:M}=qr(l);this.yaw=S,this.pitch=M,this.zoom=a;const N=Math.abs(a-v);(!h||N>=10*_l)&&this.updateMatrix()}animateTo({yaw:r=this.yaw,pitch:a=this.pitch,zoom:l=this.zoom,duration:h=0,easing:v=jn}={}){return gn(this,void 0,void 0,function*(){if(this.yaw===r&&this.pitch===a&&this.zoom===l)return;const S={rotation:ui(this.quaternion),zoom:this.zoom},M={rotation:qi(En(),r,a,this.rollOffset),zoom:l},N=new vi(this,S,M,{duration:h,easing:v}),k=N.getFinishPromise();return this.animation=N,k.then(()=>{this.animation=null,this.trigger("animationEnd",{animation:N})}),k})}restrictYawRange(r,a){this._yawRange={min:r,max:a}}restrictPitchRange(r,a){this._pitchRange={min:r,max:a}}restrictZoomRange(r,a){this._zoomRange={min:r,max:a}}restrictRenderHeight(r){this._maxRenderHeight=r}resetRange(){this._yawRange=this._initialYawRange,this._pitchRange=this._initialPitchRange,this._zoomRange=this._initialZoomRange,this._maxRenderHeight=-1}getYawRange(r){const a=this._yawRange,l=this._maxRenderHeight;if(!a)return qs;const h=.5*this.getHorizontalFov(r);let v=a.min,S=a.max;if(l>0){const M=oe(h*Dr,this._aspect),N=.5*l,k=Math.tan(M),B=Math.sqrt((1+N*N)/(1+k*k)),$=Math.atan(Math.tan(h*Dr)*B)*Ys;v=a.min+$,S=a.max-$}return v>S&&(v=0,S=0),{min:v,max:S}}getPitchRange(r){const a=this._pitchRange;if(!a)return Sa;let h=a.min,v=a.max;if(this._maxRenderHeight>0){const S=.5*this.getVerticalFov(r);h=a.min+S,v=a.max-S}return h>v&&(h=0,v=0),{min:Math.max(h,-90),max:Math.min(v,90)}}getZoomRange(){var r;const a=null!==(r=this._zoomRange)&&void 0!==r?r:gi,l=this.getHorizontalFov(a.max),h=this.getHorizontalFov(a.min),v=this.getHorizontalFov(this.zoom);return{min:Math.max(l,1),max:Math.min(h,180),current:v}}getHorizontalFov(r=this.zoom){return this._getZoomedHorizontalFov(r)*Ys}getVerticalFov(r=this.zoom){const a=this._aspect,l=this._getZoomedHorizontalFov(r);return oe(l,a)*Ys}fovToZoom(r){return Math.tan(Dr*this.fov*.5)/Math.tan(Dr*r*.5)}updateMatrix(){const r=this._up,a=this._aspect,l=this.viewMatrix,h=this.projectionMatrix,v=this.position,S=this.quaternion,M=vn(),N=jt(0,0,-1);Qn(N,N,S),Qn(M,r,S);const k=this._getZoomedHorizontalFov(),B=oe(k,a);(function js(i,r,a,l){var h,v,S,M,N,k,B,$,Z,W,le=r[0],me=r[1],ne=r[2],Ae=l[0],ct=l[1],et=l[2],Ze=a[0],at=a[1],lt=a[2];Math.abs(le-Ze)<Qe&&Math.abs(me-at)<Qe&&Math.abs(ne-lt)<Qe?function hi(i){i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1}(i):(B=le-Ze,$=me-at,Z=ne-lt,h=ct*(Z*=W=1/Math.hypot(B,$,Z))-et*($*=W),v=et*(B*=W)-Ae*Z,S=Ae*$-ct*B,(W=Math.hypot(h,v,S))?(h*=W=1/W,v*=W,S*=W):(h=0,v=0,S=0),M=$*S-Z*v,N=Z*h-B*S,k=B*v-$*h,(W=Math.hypot(M,N,k))?(M*=W=1/W,N*=W,k*=W):(M=0,N=0,k=0),i[0]=h,i[1]=M,i[2]=B,i[3]=0,i[4]=v,i[5]=N,i[6]=$,i[7]=0,i[8]=S,i[9]=k,i[10]=Z,i[11]=0,i[12]=-(h*le+v*me+S*ne),i[13]=-(M*le+N*me+k*ne),i[14]=-(B*le+$*me+Z*ne),i[15]=1)})(l,v,N,M),function Xe(i,r,a,l,h){var S,v=1/Math.tan(r/2);i[0]=v/a,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=v,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,null!=h&&h!==1/0?(i[10]=(h+l)*(S=1/(l-h)),i[14]=2*h*l*S):(i[10]=-1,i[14]=-2*l)}(h,B,a,.1,100),this._changed=!0}onFrameRender(){this._changed=!1}_updateQuaternion(){qi(this.quaternion,this.yaw,this.pitch,this.rollOffset)}_getZoomedHorizontalFov(r=this.zoom){return 2*Math.atan(Math.tan(Dr*this.fov*.5)/r)}}class Ks extends ut{constructor(){super(),this._onMouseDown=r=>{const a=this._el;!a||r.button!==Yr.LEFT||(r.preventDefault(),a.focus?a.focus():window.focus(),this._prevPos[0]=r.clientX,this._prevPos[1]=r.clientY,window.addEventListener("mousemove",this._onMouseMove,!1),window.addEventListener("mouseup",this._onMouseUp,!1),this.trigger(Fe.INPUT_START,{srcEvent:r,isTouch:!1,isKeyboard:!1}))},this._onMouseMove=r=>{r.preventDefault();const a=r.clientX,l=r.clientY,h=this._prevPos;this.trigger(Fe.CHANGE,{delta:{x:a-h[0],y:l-h[1]},isTouch:!1,isKeyboard:!1}),h[0]=a,h[1]=l},this._onMouseUp=()=>{this._prevPos[0]=0,this._prevPos[1]=0,window.removeEventListener("mousemove",this._onMouseMove,!1),window.removeEventListener("mouseup",this._onMouseUp,!1),this.trigger(Fe.INPUT_END,{isTouch:!1,isKeyboard:!1,scrolling:!1})},this._el=null,this._prevPos=[0,0]}enable(r){this._el||(r.addEventListener("mousedown",this._onMouseDown),this._el=r)}disable(){const r=this._el;r&&(r.removeEventListener("mousedown",this._onMouseDown),window.removeEventListener("mousemove",this._onMouseMove,!1),window.removeEventListener("mouseup",this._onMouseUp,!1),this._el=null)}}class Ma extends ut{get scrollable(){return this._scrollable}set scrollable(r){this._scrollable=r}constructor(){super(),this._onTouchStart=r=>{if(r.touches.length>1||this._scrolling)return;const a=r.touches[0];this._isFirstTouch=!0,this._prevPos[0]=a.clientX,this._prevPos[1]=a.clientY,this.trigger(Fe.INPUT_START,{srcEvent:r,isTouch:!0,isKeyboard:!1})},this._onTouchMove=r=>{if(r.touches.length>1||this._scrolling)return;const a=r.touches[0],h=this._prevPos,v=a.clientX,S=a.clientY,M=v-h[0],N=S-h[1];if(this._isFirstTouch){if(this._scrollable&&!(()=>{if(!document)return!1;for(const i of Rn)if(document[i])return!0;return!1})()&&Math.abs(N)>Math.abs(M))return void(this._scrolling=!0);this._isFirstTouch=!1}!1!==r.cancelable&&r.preventDefault(),this.trigger(Fe.CHANGE,{delta:{x:M,y:N},isTouch:!0,isKeyboard:!1}),h[0]=v,h[1]=S},this._onTouchEnd=r=>{if(0!==r.touches.length)return;const a=r.touches[0],l=this._prevPos;a?(l[0]=a.clientX,l[1]=a.clientY):(l[0]=0,l[1]=0,this.trigger(Fe.INPUT_END,{isTouch:!0,isKeyboard:!1,scrolling:this._scrolling})),!1!==r.cancelable&&r.preventDefault(),this._scrolling=!1},this._el=null,this._prevPos=[0,0],this._isFirstTouch=!1,this._scrolling=!1,this._scrollable=!1}enable(r){this._el||(r.addEventListener("touchstart",this._onTouchStart,{passive:!1}),r.addEventListener("touchmove",this._onTouchMove,{passive:!1}),r.addEventListener("touchend",this._onTouchEnd),this._el=r)}disable(){const r=this._el;r&&(r.removeEventListener("touchstart",this._onTouchStart),r.removeEventListener("touchmove",this._onTouchMove),r.removeEventListener("touchend",this._onTouchEnd),this._el=null)}}class jc extends ut{get active(){const r=this._pressed;return r.LEFT||r.UP||r.RIGHT||r.DOWN}constructor(){super(),this._onKeyDown=r=>{if(r.location!==KeyboardEvent.DOM_KEY_LOCATION_STANDARD)return;this._updateKeyPress(r,!0);const a=this._getPressedKeyCount();a<=0||(r.preventDefault(),1===a&&!r.repeat&&this.trigger(Fe.INPUT_START,{srcEvent:r,isTouch:!1,isKeyboard:!0}))},this._onKeyUp=r=>{r.location!==KeyboardEvent.DOM_KEY_LOCATION_STANDARD||(this._updateKeyPress(r,!1),this._getPressedKeyCount()>0)||this.trigger(Fe.INPUT_END,{isTouch:!1,isKeyboard:!0,scrolling:!1})},this._el=null,this._clearPressedKeys()}enable(r){this._el||(r.addEventListener("keydown",this._onKeyDown),r.addEventListener("keyup",this._onKeyUp),this._el=r,this._clearPressedKeys())}disable(){const r=this._el;r&&(r.removeEventListener("keydown",this._onKeyDown),r.removeEventListener("keyup",this._onKeyUp),this._el=null,this._clearPressedKeys())}update(){const r=this._getDeltaByPressedKeys();(0!==r.x||0!==r.y)&&this.trigger(Fe.CHANGE,{delta:r,isTouch:!1,isKeyboard:!0})}_clearPressedKeys(){this._pressed=So.reduce((r,a)=>Object.assign(Object.assign({},r),{[a]:!1}),{})}_updateKeyPress(r,a){const h=null!=r.keyCode?Ws[r.keyCode]:vs[r.key];h&&(this._pressed[h]=a)}_getPressedKeyCount(){return So.filter(r=>this._pressed[r]).length}_getDeltaByPressedKeys(){const r=this._pressed;let a=0,l=0;return r.LEFT&&(a+=1),r.RIGHT&&(a-=1),r.UP&&(l+=1),r.DOWN&&(l-=1),{x:a,y:l}}}class zc extends ut{get enabled(){return this._enabled}get enableBlocked(){return this._enableBlocked}get animating(){return this._keyboardInput.active||this._xMotion.activated||this._yMotion.activated}get yaw(){return this._xMotion}get pitch(){return this._yMotion}get scrollable(){return this._touchInput.scrollable}set scrollable(r){this._touchInput.scrollable=r}get pointerScale(){return this._pointerScale}set pointerScale(r){this._pointerScale=r}get keyboardScale(){return this._keyboardScale}set keyboardScale(r){this._keyboardScale=r}get duration(){return this._duration}set duration(r){this._duration=r,this._xMotion.duration=r,this._yMotion.duration=r}get easing(){return this._easing}set easing(r){this._easing=r,this._xMotion.easing=r,this._yMotion.easing=r}get disablePitch(){return this._disablePitch}set disablePitch(r){this._disablePitch=r}get disableYaw(){return this._disableYaw}set disableYaw(r){this._disableYaw=r}get disableKeyboard(){return this._disableKeyboard}set disableKeyboard(r){this._disableKeyboard=r}constructor(r,a,{duration:l=300,easing:h=jn,pointerScale:v=[1,1],keyboardScale:S=[1,1],disablePitch:M=!1,disableYaw:N=!1,disableKeyboard:k=!1}={}){super(),this._onInputStart=B=>{this._changedWhileDragging=!1,this.trigger(Fe.INPUT_START,Object.assign(Object.assign({},B),{inputType:"rotate"}))},this._onChange=B=>{const $=B.delta,Z=1/this._zoomScale,W=this._screenScale,le=this._keyboardScale,me=this._pointerScale;let ne;ne=B.isKeyboard?[le[0]*Z,le[1]*Z]:[me[0]*W[0]*Z,me[1]*W[1]*Z];const ct=$.y*ne[1];this._xMotion.setNewEndByDelta($.x*ne[0]),this._yMotion.setNewEndByDelta(ct),this._changedWhileDragging=!0},this._onInputEnd=B=>{this.trigger(Fe.INPUT_END,Object.assign(Object.assign({},B),{inputType:"rotate"})),!this._changedWhileDragging&&!B.isKeyboard&&!B.scrolling&&this.trigger(Fe.STATIC_CLICK,{isTouch:B.isTouch}),this._changedWhileDragging=!1},this._controlEl=r,this._pointerScale=v,this._keyboardScale=S,this._duration=l,this._easing=h,this._disablePitch=M,this._disableYaw=N,this._disableKeyboard=k,this._enableBlocked=a,this._mouseInput=new Ks,this._touchInput=new Ma,this._keyboardInput=new jc,this._xMotion=new Ni({duration:l,range:qs,easing:h}),this._yMotion=new Ni({duration:l,range:Sa,easing:h}),this._screenScale=[1,1],this._zoomScale=1,this._enabled=!1,this._changedWhileDragging=!1,this._bindInputs()}destroy(){this.disable(),this._mouseInput.off(),this._touchInput.off(),this._keyboardInput.off(),this.off(),this._changedWhileDragging=!1}update(r){if(!this._enabled)return;const a=this._xMotion,l=this._yMotion;this._disableKeyboard||this._keyboardInput.update(),this._disablePitch||l.update(r),this._disableYaw||a.update(r)}updateRange(r,a){const l=r.getYawRange(a),h=r.getPitchRange(a);this._xMotion.setRange(l.min,l.max),this._yMotion.setRange(h.min,h.max)}setZoomScale(r){this._zoomScale=r}resize(r,a,l,h){const v=oe(r*Dr,a)*Ys;this._screenScale[0]=r/l,this._screenScale[1]=v/h}enable(){if(this._enabled)return;const r=this._controlEl;this._mouseInput.enable(r),this._touchInput.enable(r),this._keyboardInput.enable(r),this._enabled=!0,this._enableBlocked=!1,this.trigger(Fe.ENABLE,{control:this,updateCursor:!0})}disable(){this._enabled&&(this._mouseInput.disable(),this._touchInput.disable(),this._keyboardInput.disable(),this._enabled=!1,this.trigger(Fe.DISABLE,{updateCursor:!0}))}sync(r){this.updateRange(r,r.zoom),this._xMotion.reset(r.yaw),this._yMotion.reset(r.pitch)}_bindInputs(){const r=this._mouseInput,a=this._touchInput,l=this._keyboardInput;r.on(Fe.INPUT_START,this._onInputStart),r.on(Fe.CHANGE,this._onChange),r.on(Fe.INPUT_END,this._onInputEnd),a.on(Fe.INPUT_START,this._onInputStart),a.on(Fe.CHANGE,this._onChange),a.on(Fe.INPUT_END,this._onInputEnd),l.on(Fe.INPUT_START,this._onInputStart),l.on(Fe.CHANGE,this._onChange),l.on(Fe.INPUT_END,this._onInputEnd)}}class ha extends ut{get scrollable(){return this._scrollable}set scrollable(r){this._scrollable=r}constructor(){super(),this._onWheel=r=>{0===r.deltaY||this._scrollable||(r.preventDefault(),r.stopPropagation(),this._inputTimer<0?this.trigger(Fe.INPUT_START,{srcEvent:r,isTouch:!1,isKeyboard:!1}):this._clearTimer(),this.trigger(Fe.CHANGE,{delta:this._baseScale*r.deltaY,isTouch:!1,isKeyboard:!1}),this._inputTimer=window.setTimeout(()=>{this.trigger(Fe.INPUT_END,{isTouch:!1,isKeyboard:!1,scrolling:!1}),this._inputTimer=-1},300))},this._el=null,this._baseScale=.04,this._scrollable=!1,this._inputTimer=-1}enable(r){this._el||(r.addEventListener("wheel",this._onWheel,{passive:!1,capture:!1}),this._el=r,this._clearTimer())}disable(){const r=this._el;r&&(r.removeEventListener("wheel",this._onWheel,!1),this._el=null,this._clearTimer())}_clearTimer(){window.clearTimeout(this._inputTimer),this._inputTimer=-1}}class Ia extends ut{constructor(){super(),this._onTouchMove=r=>{const a=r.touches;if(2!==a.length||!r.cancelable)return;r.preventDefault(),r.stopPropagation();const l=this._prevDistance,h=[a[0].pageX-a[1].pageX,a[0].pageY-a[1].pageY],v=Math.sqrt(h[0]*h[0]+h[1]*h[1])*this._baseScale,S=this._isFirstTouch?0:v-l;this._isFirstTouch&&this.trigger(Fe.INPUT_START,{srcEvent:r,isTouch:!0,isKeyboard:!1}),this._prevDistance=v,this._isFirstTouch=!1,this.trigger(Fe.CHANGE,{delta:S,isTouch:!0,isKeyboard:!1})},this._onTouchEnd=r=>{0===r.touches.length&&(this._isFirstTouch||this.trigger(Fe.INPUT_END,{isTouch:!0,isKeyboard:!1,scrolling:!1}),this._prevDistance=-1,this._isFirstTouch=!0)},this._el=null,this._baseScale=-.2,this._prevDistance=-1,this._isFirstTouch=!0}enable(r){this._el||(r.addEventListener("touchmove",this._onTouchMove,{passive:!1,capture:!1}),r.addEventListener("touchend",this._onTouchEnd),this._el=r,this._prevDistance=-1,this._isFirstTouch=!0)}disable(){const r=this._el;r&&(r.removeEventListener("touchmove",this._onTouchMove,!1),r.removeEventListener("touchend",this._onTouchEnd),this._el=null)}}class $c extends ut{get enabled(){return this._enabled}get enableBlocked(){return this._enableBlocked}get animating(){return this._motion.activated}get zoom(){return this._motion.val}get scrollable(){return this._wheelInput.scrollable}set scrollable(r){this._wheelInput.scrollable=r}get range(){return this._motion.range}get scale(){return this._scale}set scale(r){this._scale=r}get duration(){return this._motion.duration}get easing(){return this._motion.easing}constructor(r,a,{scale:l=1,duration:h=300,easing:v=jn}={}){super(),this._onInputStart=S=>{this.trigger(Fe.INPUT_START,Object.assign(Object.assign({},S),{inputType:"zoom"}))},this._onChange=({delta:S})=>{this._motion.setNewEndByDelta(S*this._scale)},this._onInputEnd=S=>{this.trigger(Fe.INPUT_END,Object.assign(Object.assign({},S),{inputType:"zoom"}))},this._scale=l,this._controlEl=r,this._enableBlocked=a,this._wheelInput=new ha,this._pinchInput=new Ia,this._motion=new Ni({duration:h,easing:v,range:qs}),this._enabled=!1,this._bindInputs()}destroy(){this.disable(),this._wheelInput.off(),this._pinchInput.off(),this.off()}update(r){this._enabled&&this._motion.update(r)}enable(){if(this._enabled)return;const r=this._controlEl;this._wheelInput.enable(r),this._pinchInput.enable(r),this._enabled=!0,this._enableBlocked=!1,this.trigger(Fe.ENABLE,{control:this,updateCursor:!1})}disable(){this._enabled&&(this._wheelInput.disable(),this._pinchInput.disable(),this._enabled=!1,this.trigger(Fe.DISABLE,{updateCursor:!1}))}sync(r){const a=this._motion,l=r.getZoomRange();a.setRange(l.min,l.max),a.reset(l.current)}_bindInputs(){const r=this._wheelInput,a=this._pinchInput;r.on(Fe.INPUT_START,this._onInputStart),r.on(Fe.CHANGE,this._onChange),r.on(Fe.INPUT_END,this._onInputEnd),a.on(Fe.INPUT_START,this._onInputStart),a.on(Fe.CHANGE,this._onChange),a.on(Fe.INPUT_END,this._onInputEnd)}}const _i={PITCH_DELTA:1,YAW_DELTA_BY_ROLL:2,YAW_DELTA_BY_YAW:3};_i[_i.PITCH_DELTA]={targetAxis:[0,1,0],meshPoint:[0,0,1]},_i[_i.YAW_DELTA_BY_ROLL]={targetAxis:[0,1,0],meshPoint:[1,0,0]},_i[_i.YAW_DELTA_BY_YAW]={targetAxis:[1,0,0],meshPoint:[0,0,1]};class Kl extends ut{get enabled(){return this._enabled}get orientationUpdated(){return this._orientationUpdated}get ignoreRoll(){return this._ignoreRoll}set ignoreRoll(r){this._ignoreRoll=r}constructor(){super(),this._onDeviceOrientation=r=>{const a=this._orientation,{alpha:l,beta:h,gamma:v}=r;null==l||null==h||null==v||(a.alpha=l,a.beta=h,a.gamma=v,this._orientationUpdated=!0,this._needsCalibrate&&(this._needsCalibrate=!1,this._calibrateSensor()))},this._updateScreenOrientation=()=>{this._screenOrientation=window.screen&&window.screen.orientation&&void 0!==window.screen.orientation.angle?screen.orientation.angle:void 0!==window.orientation?window.orientation>=0?window.orientation:360+window.orientation:0},this.quaternion=En(),this._orientation={alpha:0,beta:90,gamma:0},this._yawOrigin=0,this._yawOffset=0,this._orientationUpdated=!1,this._screenOrientation=0,this._needsCalibrate=!0,this._enabled=!1}enable(){this._enabled||(window.addEventListener("deviceorientation",this._onDeviceOrientation),window.addEventListener("orientationchange",this._updateScreenOrientation),this._updateScreenOrientation(),this._orientationUpdated=!1,this._needsCalibrate=!0,this._enabled=!0)}disable(){this._enabled&&(window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("orientationchange",this._updateScreenOrientation),this._enabled=!1)}update(){this._updateRotation(),this._orientationUpdated=!1}collectDelta(){if(!this._orientationUpdated)return{pitch:0,yaw:0};const r=ui(this.quaternion);return this._updateRotation(),this._orientationUpdated=!1,this._toEulerDelta(r,this.quaternion)}setInitialRotation(r){this._yawOrigin=r}_calibrateSensor(){const r=this._yawOrigin,a=this.quaternion;this._yawOffset=0,this._updateRotation();const{yaw:l}=qr(a);this._yawOffset=l-r,this._updateRotation(),this._needsCalibrate=!1}_updateRotation(){const r=this.quaternion,{alpha:a,beta:l,gamma:h}=this._orientation;Nn(r),on(r,r,(a-this._yawOffset)*Dr),is(r,r,l*Dr),ss(r,r,-h*Dr);const v=En(),S=.5*-this._screenOrientation*Dr,M=function $r(i,r,a,l){var h=new we(4);return h[0]=i,h[1]=r,h[2]=a,h[3]=l,h}(-Math.sqrt(.5),0,0,Math.sqrt(.5));(function es(i,r,a,l,h){i[0]=r,i[1]=a,i[2]=l,i[3]=h})(v,0,Math.sin(S),0,Math.cos(S)),ci(r,r,v),ci(r,r,M),Ii(r,r)}_toEulerDelta(r,a){return{yaw:this._getDeltaYaw(r,a),pitch:this._getDeltaPitch(r,a)}}_getDeltaYaw(r,a){const l=this._getRotationDelta(r,a,_i.YAW_DELTA_BY_YAW);return this._getRotationDelta(r,a,_i.YAW_DELTA_BY_ROLL)*Math.sin(this._extractPitchFromQuat(a))+l}_getDeltaPitch(r,a){return this._getRotationDelta(r,a,_i.PITCH_DELTA)}_getRotationDelta(r,a,l){const h=jt(_i[l].targetAxis[0],_i[l].targetAxis[1],_i[l].targetAxis[2]),v=_i[l].meshPoint,S=ui(r),M=ui(a);Ii(S,S),Ii(M,M);let N=jt(0,0,1),k=jt(0,0,1);Qn(N,N,S),Qn(k,k,M),Qn(h,h,M);const $=function en(i,r){return i[0]*r[0]+i[1]*r[1]+i[2]*r[2]}(h,zr(vn(),N,k))>0?1:-1,Z=jt(v[0],v[1],v[2]);let W;W=l!==_i.YAW_DELTA_BY_YAW?jt(0,$,0):jt($,0,0),Qn(Z,Z,M),Qn(W,W,M);const le=Z,me=W,ne=vn();zr(ne,le,me),function Ft(i,r){var a=r[0],l=r[1],h=r[2],v=a*a+l*l+h*h;return v>0&&(v=1/Math.sqrt(v)),i[0]=r[0]*v,i[1]=r[1]*v,i[2]=r[2]*v,i}(ne,ne);const Ae=ne[0],ct=ne[1],et=ne[2];k=jt(v[0],v[1],v[2]),Qn(k,k,M),N=jt(v[0],v[1],v[2]),Qn(N,N,S);let Ze=Math.abs(N[0]*Ae+N[1]*ct+N[2]*et);const at=vn();!function oi(i,r,a){i[0]=r[0]-a[0],i[1]=r[1]-a[1],i[2]=r[2]-a[2]}(at,N,function dt(i,r,a){return i[0]=r[0]*a,i[1]=r[1]*a,i[2]=r[2]*a,i}(vn(),ne,Ze));let lt=(at[0]*k[0]+at[1]*k[1]+at[2]*k[2])/(Ir(at)*Ir(k));lt>1&&(lt=1);const Cn=Math.acos(lt),cn=zr(vn(),k,at);let un;return Ze=Ae*cn[0]+ct*cn[1]+et*cn[2],un=l!==_i.YAW_DELTA_BY_YAW?Ze>0?1:-1:Ze<0?1:-1,Cn*un*$*Ys}_extractPitchFromQuat(r){const a=jt(0,0,1);return Qn(a,a,r),-1*Math.atan2(a[1],Math.sqrt(Math.pow(a[0],2)+Math.pow(a[2],2)))}}class Aa extends ut{get enabled(){return this._input.enabled}get enableBlocked(){return this._enableBlocked}get animating(){return this._input.enabled&&this._input.orientationUpdated}get ignoreRoll(){return this._ignoreRoll}set ignoreRoll(r){this._ignoreRoll=r}static isAvailable(){return gn(this,void 0,void 0,function*(){if(!DeviceMotionEvent)return!1;let r;return Promise.race([new Promise(h=>{r=v=>{h(v.rotationRate&&null!=v.rotationRate.alpha)},window.addEventListener("devicemotion",r)}),new Promise(h=>{setTimeout(()=>h(!1),1e3)})]).then(h=>(window.removeEventListener("devicemotion",r),h))})}static requestSensorPermission(){return gn(this,void 0,void 0,function*(){return!(DeviceMotionEvent&&"requestPermission"in DeviceMotionEvent&&window.isSecureContext)||DeviceMotionEvent.requestPermission().then(r=>"granted"===r).catch(()=>!1)})}constructor(r,{ignoreRoll:a=!0}={}){super(),this._enableBlocked=r,this._ignoreRoll=a,this._input=new Kl}destroy(){this.disable(),this._input.off(),this.off()}update(r,a,l,h){this._ignoreRoll?this._updateYawPitch(r,a,l,h):this._updateQuaternion(r,h)}enable(){this._input.enabled||(this._input.enable(),this._enableBlocked=!1,this.trigger(Fe.ENABLE,{control:this,updateCursor:!1}))}disable(){this._input.enabled&&(this._input.disable(),this.trigger(Fe.DISABLE,{updateCursor:!1}))}sync(){}_updateYawPitch(r,a,l,h){const v=this._input;if(!v.enabled)return;const{yaw:S,pitch:M}=v.collectDelta();a.add(S),l.add(M),r.lookAt({yaw:a.val,pitch:l.val,zoom:h})}_updateQuaternion(r,a){const l=this._input;l.enabled&&(l.update(),r.rotate(l.quaternion,a))}}class Wd{get useGrabCursor(){return this._useGrabCursor}set useGrabCursor(r){r!==this._useGrabCursor&&(this._useGrabCursor=r,r&&this._enabled?this._setCursor("grab"):r||this._setCursor(""))}get disableContextMenu(){return this._disableContextMenu}set disableContextMenu(r){r!==this._disableContextMenu&&(this._disableContextMenu=r,r&&this._enabled?this._blockContextMenu():r||this._restoreContextMenu())}get scrollable(){return this._rotateControl.scrollable}set scrollable(r){this._rotateControl.scrollable=r}get wheelScrollable(){return this._zoomControl.scrollable}set wheelScrollable(r){this._zoomControl.scrollable=r}get ignoreZoomScale(){return this._ignoreZoomScale}set ignoreZoomScale(r){this._ignoreZoomScale=r}get enabled(){return this._enabled}get rotate(){return this._rotateControl}get zoom(){return this._zoomControl}get gyro(){return this._gyroControl}get animating(){return this._rotateControl.animating||this._zoomControl.animating||this._gyroControl.animating}constructor(r,a,{useGrabCursor:l,scrollable:h,wheelScrollable:v,disableContextMenu:S,rotate:M,zoom:N,gyro:k}){this._preventContextMenu=B=>{B.preventDefault()},this._onInputStart=B=>{this._useGrabCursor&&!B.isKeyboard&&this._setCursor("grabbing")},this._onInputEnd=B=>{this._useGrabCursor&&!B.isKeyboard&&this._setCursor("grab")},this._onEnable=({control:B,updateCursor:$})=>{$&&this._useGrabCursor&&this._setCursor("grab"),B.sync(this._camera)},this._onDisable=({updateCursor:B})=>{B&&this._setCursor("")},this._onCameraAnimationEnd=({animation:B})=>{B.getFinishPromise().then(()=>{this.sync()})},this._useGrabCursor=l,this._disableContextMenu=S,this._camera=a,this._controlEl=r,this._ignoreZoomScale=!1,this._enabled=!1,this._rotateControl=new zc(r,!M,K(M)),this._zoomControl=new $c(r,!N,K(N)),this._gyroControl=new Aa(!k,K(k)),this._rotateControl.scrollable=h,this._zoomControl.scrollable=v,this._bindEvents()}destroy(){this.disable(),this._rotateControl.destroy(),this._zoomControl.destroy(),this._setCursor("")}resize(r,a){const l=this._camera;this._rotateControl.resize(l.fov,l.aspect,r,a)}enable(){return gn(this,void 0,void 0,function*(){this._enabled||(this._rotateControl.enableBlocked||this._rotateControl.enable(),this._zoomControl.enableBlocked||this._zoomControl.enable(),this._gyroControl.enableBlocked||(yield Aa.isAvailable())&&this._gyroControl.enable(),this.sync(),this._disableContextMenu&&this._blockContextMenu(),this._enabled=!0)})}disable(){this._enabled&&(this._rotateControl.disable(),this._zoomControl.disable(),this._gyroControl.disable(),this._restoreContextMenu(),this._enabled=!1)}update(r){const a=this._camera,l=this._rotateControl,h=this._zoomControl,v=this._gyroControl;h.update(r);const S=((i,r)=>Math.tan(Dr*i*.5)/Math.tan(Dr*r*.5))(a.fov,h.zoom),M=this._ignoreZoomScale?1:Math.max(S,1);l.setZoomScale(M),l.updateRange(a,S),l.update(r);const N=l.yaw,k=l.pitch;v.enabled?v.update(a,N,k,S):a.lookAt({yaw:N.val,pitch:k.val,zoom:S})}sync(){const r=this._camera;this._zoomControl.sync(r),this._rotateControl.sync(r)}_blockContextMenu(){this._controlEl.addEventListener("contextmenu",this._preventContextMenu)}_restoreContextMenu(){this._controlEl.removeEventListener("contextmenu",this._preventContextMenu)}_setCursor(r){(this._useGrabCursor||""===r)&&(this._controlEl.style.cursor=r)}_bindEvents(){const r=this._rotateControl,a=this._zoomControl;r.on(Fe.INPUT_START,this._onInputStart),r.on(Fe.INPUT_END,this._onInputEnd),r.on(Fe.ENABLE,this._onEnable),r.on(Fe.DISABLE,this._onDisable),a.on(Fe.ENABLE,this._onEnable),a.on(Fe.DISABLE,this._onDisable),this._camera.on("animationEnd",this._onCameraAnimationEnd)}}class Zl{constructor({width:r,height:a,flipY:l}){this.width=r,this.height=a,this.flipY=l,this.wrapS=WebGLRenderingContext.CLAMP_TO_EDGE,this.wrapT=WebGLRenderingContext.CLAMP_TO_EDGE}destroy(){}isVideo(){return!1}isCube(){return!1}}class Ql extends Zl{constructor({source:r,width:a,height:l,flipY:h}){super({width:a,height:l,flipY:h}),this.source=r}}class Gc extends Ql{destroy(){const r=this.source;r.pause(),r.removeAttribute("src"),r.load()}isVideo(){return!0}isPaused(){const r=this.source;return r.paused||r.ended||r.readyState<=2}hasAudio(){const r=this.source;return r.audioTracks?r.audioTracks.length>0:null!=r.webkitAudioDecodedByteCount?r.webkitAudioDecodedByteCount>0:null==r.mozHasAudio||r.mozHasAudio}}class Ga extends Zl{constructor({sources:r,width:a,height:l,flipY:h}){super({width:a,height:l,flipY:h}),this.sources=r}isCube(){return!0}}class Xl{constructor(){this._loadChecker=new ii}load(r,a){return gn(this,void 0,void 0,function*(){if(a)return this.loadVideo(r,K(a));if(Array.isArray(r)&&r.length>1)return this.loadCubeImage(r);{const l=Array.isArray(r)?r[0]:r;return this.loadImage(l)}})}loadImage(r){return gn(this,void 0,void 0,function*(){const a=this._toImageArray(r);return this._load(a,l=>{const h=a[0];l(new Ql({source:h,width:h.naturalWidth,height:h.naturalHeight,flipY:!0}))})})}loadCubeImage(r){return gn(this,void 0,void 0,function*(){const a=this._toImageArray(r);return this._load(a,l=>{l(new Ga({sources:a,width:a[0].naturalWidth,height:a[0].naturalHeight,flipY:!1}))})})}loadVideo(r,a){return gn(this,void 0,void 0,function*(){const l=Object.assign({autoplay:!0,muted:!0,loop:!1,volume:1},a),h=this._toVideoElement(r,l);return this._load([h],v=>{const{autoplay:S,muted:M}=l;h.currentTime=0,S&&M&&h.play().catch(()=>{}),v(new Gc({source:h,width:h.videoWidth,height:h.videoHeight,flipY:!0}))})})}_load(r,a){const l=this._loadChecker;return new Promise((h,v)=>{l.once("ready",S=>{S.errorCount>0||a(h)}),l.once("error",v),l.check(r)})}_toImageArray(r){return(Array.isArray(r)?r:[r]).map(l=>{if(Ta(l)){const h=new Image;return h.crossOrigin="anonymous",h.src=l,h}return l})}_toVideoElement(r,{muted:a,loop:l,volume:h}){if(r instanceof HTMLVideoElement)return r;const v=document.createElement("video");return v.crossOrigin="anonymous",v.playsInline=!0,v.setAttribute("webkit-playsinline",""),v.muted=a,v.volume=h,v.loop=l,Array.isArray(r)?r.forEach(M=>this._appendSourceElement(v,M)):this._appendSourceElement(v,r),v.querySelectorAll("source").length>0&&v.readyState<1&&v.load(),v}_appendSourceElement(r,a){if(a instanceof HTMLSourceElement)return a;const l=document.createElement("source");l.src=a,r.appendChild(l)}}class Wc{constructor(r,a=window){this.maxDeltaTime=r,this._context=a,this._rafId=-1,this._rafTimer=-1,this._lastUpdateTime=-1}start(r){const a=this._context;if(!a||!r||this._rafId>=0||this._rafTimer>=0)return;const l=(h,v)=>{const S=Date.now(),M=Math.min(S-this._lastUpdateTime,1e3*this.maxDeltaTime);r(M,v),this._lastUpdateTime=S,this._rafId=a.requestAnimationFrame(l)};this._lastUpdateTime=Date.now(),this._rafId=a.requestAnimationFrame(l)}stop(){this._rafId>=0&&this._context.cancelAnimationFrame(this._rafId),this._rafTimer>=0&&clearTimeout(this._rafTimer),this._rafId=-1,this._rafTimer=-1}changeContext(r){this.stop(),this._context=r}}class Jl{get useResizeObserver(){return this._useResizeObserver}get enabled(){return this._enabled}constructor(r,a){this._skipFirstResize=(()=>{let l=!0;return()=>{l?l=!1:this._onResize()}})(),this._useResizeObserver=r,this._enabled=!1,this._resizeObserver=null,this._onResize=a}enable(r){if(this._enabled&&this.disable(),this._useResizeObserver&&window.ResizeObserver){const a=r.getBoundingClientRect(),h=new ResizeObserver(0!==a.width||0!==a.height?this._skipFirstResize:this._onResize);h.observe(r),this._resizeObserver=h}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this}disable(){if(!this._enabled)return this;const r=this._resizeObserver;return r?(r.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this}}class Yd{get enabled(){return this._enabled}get enableBlocked(){return this._enableBlocked}get playing(){return this._enabled&&!this._interrupted}get delay(){return this._delay}set delay(r){this._delay=r}get delayOnMouseLeave(){return this._delayOnMouseLeave}set delayOnMouseLeave(r){this._delayOnMouseLeave=r}get speed(){return this._speed}set speed(r){this._speed=r}get pauseOnHover(){return this._pauseOnHover}set pauseOnHover(r){this._pauseOnHover=r}get canInterrupt(){return this._canInterrupt}set canInterrupt(r){this._canInterrupt=r}get disableOnInterrupt(){return this._disableOnInterrupt}set disableOnInterrupt(r){this._disableOnInterrupt=r}constructor(r,a,l){this._onInputStart=()=>{this._canInterrupt&&(this._interrupted=!0,this._clearTimeout())},this._onInputEnd=()=>{this._setUninterruptedAfterDelay(this._delay)},this._onGyroEnable=()=>{this.disable()},this._onMouseEnter=()=>{this._pauseOnHover&&(this._interrupted=!0,this._hovering=!0)},this._onMouseLeave=()=>{this._pauseOnHover&&(this._hovering=!1,this._setUninterruptedAfterDelay(this._delayOnMouseLeave))},this._camera=r.camera,this._control=r.control,this._element=a,this._enabled=!1,this._interrupted=!1,this._interruptionTimer=-1,this._hovering=!1;const{delay:h=2e3,delayOnMouseLeave:v=0,speed:S=1,pauseOnHover:M=!1,canInterrupt:N=!0,disableOnInterrupt:k=!1}=K(l);this._enableBlocked=!l,this._delay=h,this._delayOnMouseLeave=v,this._speed=S,this._pauseOnHover=M,this._canInterrupt=N,this._disableOnInterrupt=k}destroy(){this.disable()}update(r){if(!this._enabled)return;if(this._interrupted)return void(this._disableOnInterrupt&&this.disable());const a=this._camera;a.yaw=P(a.yaw+-this._speed*r/100,0,360)}enable(){const r=this._control,a=this._element;this._enabled||r.gyro.enabled||(r.rotate.on(Fe.INPUT_START,this._onInputStart),r.rotate.on(Fe.INPUT_END,this._onInputEnd),r.zoom.on(Fe.INPUT_START,this._onInputStart),r.zoom.on(Fe.INPUT_END,this._onInputEnd),r.gyro.on(Fe.ENABLE,this._onGyroEnable),a.addEventListener("mouseenter",this._onMouseEnter,!1),a.addEventListener("mouseleave",this._onMouseLeave,!1),this._enabled=!0,this._enableBlocked=!1)}enableAfterDelay(){this.enable(),this._interrupted=!0,this._setUninterruptedAfterDelay(this._delay)}disable(){if(!this._enabled)return;const r=this._control,a=this._element;r.rotate.off(Fe.INPUT_START,this._onInputStart),r.rotate.off(Fe.INPUT_END,this._onInputEnd),r.zoom.off(Fe.INPUT_START,this._onInputStart),r.zoom.off(Fe.INPUT_END,this._onInputEnd),r.gyro.off(Fe.ENABLE,this._onGyroEnable),a.removeEventListener("mouseenter",this._onMouseEnter,!1),a.removeEventListener("mouseleave",this._onMouseLeave,!1),this._enabled=!1,this._interrupted=!1,this._hovering=!1,this._clearTimeout()}_setUninterruptedAfterDelay(r){this._hovering||(this._clearTimeout(),r>0?this._interruptionTimer=window.setTimeout(()=>{this._interrupted=!1,this._interruptionTimer=-1},r):(this._interrupted=!1,this._interruptionTimer=-1))}_clearTimeout(){this._interruptionTimer>=0&&(window.clearTimeout(this._interruptionTimer),this._interruptionTimer=-1)}}class ec extends ut{constructor(r,a={}){super(),this.destroy=()=>{this.exit(),this.off()},this._onSessionEnd=()=>{this.exit(),this.trigger(Fn.VR_END)},this._xrSession=null,this._xrRefSpace=null,this._ctx=r,this._options=a}isAvailable(){return gn(this,void 0,void 0,function*(){const r=window.navigator.xr;return!!r&&r.isSessionSupported(bo).then(a=>a).catch(()=>!1)})}enter(){return gn(this,void 0,void 0,function*(){const r=this._ctx,a=window.navigator.xr;if(!a)return;yield Aa.requestSensorPermission();const l=Object.assign({requiredFeatures:["local"]},this._options);yield r.makeXRCompatible();const h=yield a.requestSession(bo,l);r.bindXRLayer(h);const v=yield h.requestReferenceSpace("local");this._setSession(h,v),this.trigger(Fn.VR_START,{session:h})})}exit(){const r=this._xrSession;r&&r.end().catch(()=>{}),this._xrSession=null,this._xrRefSpace=null}canRender(r){const a=this._xrRefSpace;return!!a&&!!r.getViewerPose(a)}getEyeParams(r){const a=r.session,l=r.getViewerPose(this._xrRefSpace);if(!l)return null;const h=a.renderState.baseLayer;return h?l.views.map(v=>({viewport:h.getViewport(v),vMatrix:v.transform.inverse.matrix,pMatrix:v.projectionMatrix})):null}_setSession(r,a){this._xrSession=r,this._xrRefSpace=a,r.addEventListener("end",this._onSessionEnd)}}class tc{constructor(r,a){this.element=r,this.position=a}}class Yc{constructor(r,a,{zoom:l=!1}){this._containerEl=ba(`.${Yi.HOTSPOT_CONTAINER}`,r),this._renderer=a,this._hotspots=[],this._zoom=l}refresh(){const r=this._containerEl;if(!r)return;const a=[].slice.apply(r.querySelectorAll(`.${Yi.HOTSPOT}`));this._hotspots=a.map(l=>this._parseHotspot(l))}render(r){const l=.5*this._renderer.width,h=.5*this._renderer.height,S="translate(-50%, -50%)",M=this._zoom?`scale(${r.zoom})`:"";this._hotspots.forEach(N=>{const k=N.position,B=vn();if(function Zi(i,r){i[0]=r[0],i[1]=r[1],i[2]=r[2]}(B,k),wi(B,B,r.viewMatrix),wi(B,B,r.projectionMatrix),B[2]>1||B[2]<0)return void N.element.classList.remove(Yi.HOTSPOT_VISIBLE);const $=function jo(i,r){var a=new we(2);return a[0]=i,a[1]=r,a}(B[0]*l+l,-B[1]*h+h);N.element.classList.add(Yi.HOTSPOT_VISIBLE),N.element.style.transform=[S,`translate(${$[0]}px, ${$[1]}px)`,M].join(" ")})}_parseHotspot(r){const a=r.dataset.yaw,l=r.dataset.pitch,h=r.dataset.position;if(a||l){const v=a?parseFloat(a):0,S=l?parseFloat(l):0,M=this._yawPitchToVec3(v,S);return new tc(r,M)}if(h){const v=h.split(" ").map(S=>parseFloat(S));if(v.length<3)throw new Ln(ur_MESSAGES_INSUFFICIENT_ARGS(h,'hotspot attribute "data-position"'),ur_CODES_INSUFFICIENT_ARGS);return new tc(r,jt(v[0],v[1],v[2]))}{const v=jt(0,0,-1);return new tc(r,v)}}_yawPitchToVec3(r,a){const l=r*Dr,h=a*Dr,v=vn();return v[1]=Math.sin(h),v[2]=Math.cos(h),v[0]=v[2]*Math.sin(-l),v[2]=-v[2]*Math.cos(-l),v}}class qc{get count(){return this.geometry.indicies.count}constructor(r,a,l){this.obj=r,this.geometry=a,this.buffers=l}}class El{get canvas(){return this._canvas}get maxTextureSize(){return this._maxTextureSize}get isWebGL2(){return this._isWebGL2}get supportVAO(){return this._isWebGL2||!!this._extensions.vao}get lost(){return this._contextLost}get debug(){return this._debug}constructor(r,a){this._onContextLost=()=>{this._canvas.classList.add(Yi.CTX_LOST),this._contextLost=!0},this._onContextRestore=()=>{this._canvas.classList.remove(Yi.CTX_LOST),this._contextLost=!1},this._canvas=r,this._contextLost=!1,this._debug=a,this._extensions={vao:null,loseContext:null}}init(){const r=this._canvas,{gl:a,isWebGL2:l}=this._getContext(r);this._gl=a,this._maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),this._isWebGL2=l,this._isWebGL2||(this._extensions.vao=a.getExtension("OES_vertex_array_object")),this._extensions.loseContext=a.getExtension("WEBGL_lose_context"),r.addEventListener("webglcontextlost",this._onContextLost),r.addEventListener("webglcontextrestored",this._onContextRestore)}destroy(){const r=this._gl,a=this._canvas;r&&(r.bindBuffer(r.ARRAY_BUFFER,null),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null)),a.removeEventListener("webglcontextlost",this._onContextLost),a.removeEventListener("webglcontextrestored",this._onContextRestore)}forceLoseContext(){const r=this._extensions.loseContext;r&&r.loseContext()}forceRestoreContext(){const r=this._extensions.loseContext;r&&r.restoreContext()}clear(){const r=this._gl;r.clear(r.COLOR_BUFFER_BIT)}resize(){const r=this._gl;r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight)}viewport(r,a,l,h){this._gl.viewport(r,a,l,h)}createVAO(r,a){const l=this._createNativeVAO(),h=new qc(l,r,{indicies:this._createBuffer(),position:this._createBuffer(),uv:this._createBuffer()});return l&&(this._bindNativeVAO(l),this._supplyGeometryData(h,a),this._bindNativeVAO(null),this._unbindBuffers()),h}draw(r,a){const l=this._gl;r.obj?this._bindNativeVAO(r.obj):this._supplyGeometryData(r,a),l.drawElements(l.TRIANGLES,r.count,l.UNSIGNED_SHORT,0),r.obj?this._bindNativeVAO(null):this._unbindBuffers()}releaseVAO(r){r.obj&&this._deleteNativeVAO(r.obj),this._deleteBuffer(r.buffers.indicies),this._deleteBuffer(r.buffers.position),this._deleteBuffer(r.buffers.uv)}getUniformLocations(r,a){const l=this._gl,h=Object.keys(a).reduce((v,S)=>(v[S]=l.getUniformLocation(r,S),v),{});return Object.assign(Object.assign({},this._getCommonUniformLocations(r)),h)}updateCommonUniforms(r,a,l){const h=this._gl,v=l.uniformLocations,S=r.matrix,M=ti();ji(M,a.viewMatrix,S),h.uniformMatrix4fv(v.uMVMatrix,!1,M),h.uniformMatrix4fv(v.uPMatrix,!1,a.projectionMatrix)}updateVRUniforms(r,a,l,h){const v=this._gl,S=r.uniformLocations;v.uniformMatrix4fv(S.uMVMatrix,!1,a),v.uniformMatrix4fv(S.uPMatrix,!1,l),S.uEye&&v.uniform1f(S.uEye,h)}updateUniforms(r){const a=this._gl,l=r.uniforms,h=r.uniformLocations;for(const v in l){const S=l[v];S&&S.needsUpdate&&S.update(a,h[v],this._isWebGL2)}}releaseShaderResources(r){const a=this._gl,l=r.uniforms;for(const h in l){const v=l[h];v&&v.needsUpdate&&v.destroy(a)}a.deleteProgram(r.program)}useProgram(r){this._gl.useProgram(r.program)}createProgram(r,a){const l=this._gl,h=l.createProgram(),v=this._compileShader(l.VERTEX_SHADER,r),S=this._compileShader(l.FRAGMENT_SHADER,a);if(l.attachShader(h,v),l.attachShader(h,S),l.bindAttribLocation(h,0,"position"),l.bindAttribLocation(h,1,"uv"),l.linkProgram(h),this._debug&&!l.getProgramParameter(h,l.LINK_STATUS)){let M=null;throw l.getShaderParameter(v,l.COMPILE_STATUS)?l.getShaderParameter(S,l.COMPILE_STATUS)||(M=l.getShaderInfoLog(S)):M=l.getShaderInfoLog(v),new Ln(ur_MESSAGES_FAILED_LINKING_PROGRAM(l.getProgramInfoLog(h),M),ur_CODES_FAILED_LINKING_PROGRAM)}return l.deleteShader(v),l.deleteShader(S),h}createWebGLTexture(r){const a=this._gl,l=a.createTexture();return a.bindTexture(a.TEXTURE_2D,l),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,r.wrapS),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,r.wrapT),!r.isVideo()&&this._isWebGL2&&a.texStorage2D(a.TEXTURE_2D,1,a.RGBA8,r.width,r.height),l}createWebGLCubeTexture(r,a){const l=this._gl,h=l.createTexture();return l.bindTexture(l.TEXTURE_CUBE_MAP,h),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_MIN_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_MAG_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_WRAP_S,r.wrapS),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_WRAP_T,r.wrapT),this._isWebGL2&&l.texStorage2D(l.TEXTURE_CUBE_MAP,1,l.RGBA8,a,a),h}makeXRCompatible(){return gn(this,void 0,void 0,function*(){const r=this._gl,a=r.getContextAttributes();a&&!0!==a.xrCompatible&&(yield r.makeXRCompatible())})}bindXRLayer(r){const l=new XRWebGLLayer(r,this._gl);r.updateRenderState({baseLayer:l})}bindXRFrame(r){const a=this._gl;a.bindFramebuffer(a.FRAMEBUFFER,r.session.renderState.baseLayer.framebuffer)}useDefaultFrameBuffer(){const r=this._gl;r.bindFramebuffer(r.FRAMEBUFFER,null)}_createBuffer(){return this._gl.createBuffer()}_deleteBuffer(r){return this._gl.deleteBuffer(r)}_createNativeVAO(){return this._isWebGL2?this._gl.createVertexArray():this._extensions.vao?.createVertexArrayOES()||null}_bindNativeVAO(r){this._isWebGL2?this._gl.bindVertexArray(r):this._extensions.vao?.bindVertexArrayOES(r)}_deleteNativeVAO(r){this._isWebGL2?this._gl.deleteVertexArray(r):this._extensions.vao?.deleteVertexArrayOES(r)}_supplyGeometryData(r,a){const l=r.geometry;this._supplyIndiciesData(l.indicies,r.buffers.indicies),this._supplyAttributeData(l.vertices,a.program,"position",r.buffers.position),this._supplyAttributeData(l.uvs,a.program,"uv",r.buffers.uv)}_unbindBuffers(){const r=this._gl;r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null),r.bindBuffer(r.ARRAY_BUFFER,null)}_supplyIndiciesData(r,a){const l=this._gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,a),l.bufferData(l.ELEMENT_ARRAY_BUFFER,r.data,l.STATIC_DRAW)}_supplyAttributeData(r,a,l,h){const v=this._gl,S=v.getAttribLocation(a,l);S<0||(v.bindBuffer(v.ARRAY_BUFFER,h),v.bufferData(v.ARRAY_BUFFER,r.data,v.STATIC_DRAW),v.vertexAttribPointer(S,r.itemSize,v.FLOAT,!1,0,0),v.enableVertexAttribArray(S))}_compileShader(r,a){const l=this._gl,h=l.createShader(r);return l.shaderSource(h,a),l.compileShader(h),h}_getCommonUniformLocations(r){const a=this._gl;return{uMVMatrix:a.getUniformLocation(r,"uMVMatrix"),uPMatrix:a.getUniformLocation(r,"uPMatrix")}}_getContext(r){const a=["webgl2","webgl","experimental-webgl","webkit-3d","moz-webgl"];let l=null,h=!1;const v={preserveDrawingBuffer:!1,antialias:!1},S=M=>M.statusMessage;r.addEventListener("webglcontextcreationerror",S);for(const M of a){try{l=r.getContext(M,v),h="webgl2"===M}catch{}if(l)break}if(r.removeEventListener("webglcontextcreationerror",S),!l)throw new Ln(ur_MESSAGES_WEBGL_NOT_SUPPORTED,ur_CODES_WEBGL_NOT_SUPPORTED);return{gl:l,isWebGL2:h}}}class qd{get canvas(){return this._canvas}get width(){return this._elementSize.x}get height(){return this._elementSize.y}get pixelRatio(){return this._pixelRatio}get aspect(){return this._elementSize.x/this._elementSize.y}constructor(r,a){this._canvas=r,this._elementSize={x:0,y:0},this._pixelRatio=1,this.ctx=new El(r,a)}destroy(){const r=this._canvas;this.ctx.destroy(),r.width=1,r.height=1}resize(){const r=this._canvas,a=this._elementSize,l=window.devicePixelRatio;a.x=r.clientWidth,a.y=r.clientHeight,r.width=a.x*l,r.height=a.y*l,this._pixelRatio=l,this.ctx.resize()}render(r,a){const l=this.ctx,h=r.getMesh();l.lost||!h||(l.clear(),l.useProgram(h.program),l.updateCommonUniforms(h,a,h.program),r.update(a),l.updateUniforms(h.program),l.draw(h.vao,h.program))}renderVR(r,a,l){const h=this.ctx,v=r.getMesh(),S=a.getEyeParams(l);!S||!v||(h.bindXRFrame(l),h.useProgram(v.program),h.updateUniforms(v.program),S.forEach((M,N)=>{const k=M.viewport,B=ji(ti(),M.vMatrix,v.matrix);h.viewport(k.x,k.y,k.width,k.height),h.updateVRUniforms(v.program,B,M.pMatrix,N),h.draw(v.vao,v.program)}))}}let Kc=(()=>{class i extends ut{get rootEl(){return this._rootEl}get renderer(){return this._renderer}get camera(){return this._camera}get control(){return this._control}get vr(){return this._vr}get hotspot(){return this._hotspot}get plugins(){return this._plugins}get projection(){return this._projection}set projection(a){this._initialized&&a?this.load(a):this._projection=a}get initialized(){return this._initialized}get autoplay(){return this._autoplay}get autoInit(){return this._autoInit}get autoResize(){return this._autoResize}get canvasSelector(){return this._canvasSelector}get useResizeObserver(){return this._useResizeObserver}get tabIndex(){return this._tabIndex}set tabIndex(a){const l=this._renderer.canvas;this._tabIndex=a,null!=a?l.tabIndex=a:l.removeAttribute("tabindex")}get maxDeltaTime(){return this._animator.maxDeltaTime}set maxDeltaTime(a){this._animator.maxDeltaTime=a}get debug(){return this._debug}set debug(a){this._debug=a}get initialYaw(){return this._camera.initialYaw}set initialYaw(a){this._camera.initialYaw=a}get initialPitch(){return this._camera.initialPitch}set initialPitch(a){this._camera.initialPitch=a}get initialZoom(){return this._camera.initialZoom}set initialZoom(a){this._camera.initialZoom=a}get yawRange(){return this._camera.yawRange}set yawRange(a){this._camera.yawRange=a,this._projection&&this._projection.updateCamera(this._camera)}get pitchRange(){return this._camera.pitchRange}set pitchRange(a){this._camera.pitchRange=a,this._projection&&this._projection.updateCamera(this._camera)}get zoomRange(){return this._camera.zoomRange}set zoomRange(a){this._camera.zoomRange=a,this._projection&&this._projection.updateCamera(this._camera)}get fov(){return this._camera.fov}set fov(a){const l=this._camera,h=this._control;l.fov=a,l.updateMatrix(),h.sync()}get rotate(){return this._control.rotate}get zoom(){return this._control.zoom}get gyro(){return this._control.gyro}get useGrabCursor(){return this._control.useGrabCursor}set useGrabCursor(a){this._control.useGrabCursor=a}get disableContextMenu(){return this._control.disableContextMenu}set disableContextMenu(a){this._control.disableContextMenu=a}get scrollable(){return this._control.scrollable}set scrollable(a){this._control.scrollable=a}get wheelScrollable(){return this._control.wheelScrollable}set wheelScrollable(a){this._control.wheelScrollable=a}constructor(a,{projection:l=null,initialYaw:h=0,initialPitch:v=0,initialZoom:S=1,yawRange:M=null,pitchRange:N=null,zoomRange:k=null,fov:B=90,useGrabCursor:$=!0,disableContextMenu:Z=!1,rotate:W=!0,zoom:le=!0,gyro:me=!1,scrollable:ne=!0,wheelScrollable:Ae=!1,autoplay:ct=!1,hotspot:et={},autoInit:Ze=!0,autoResize:at=!0,canvasSelector:lt="canvas",useResizeObserver:Cn=!0,on:cn={},plugins:un=[],maxDeltaTime:mn=1/30,tabIndex:On=0,debug:Sn=!1}={}){super(),this.renderFrame=yt=>{const dn=this._camera,xi=this._renderer,si=this._control,Ps=this._hotspot,Ki=this._autoplay,lc=this._projection;lc&&(this._emit(Fn.BEFORE_RENDER),Ki.playing&&(Ki.update(yt),si.sync()),dn.animation?dn.animation.update(yt):si.update(yt),xi.render(lc,dn),Ps.render(dn),dn.changed&&this._emit(Fn.VIEW_CHANGE,{yaw:dn.yaw,pitch:dn.pitch,zoom:dn.zoom,quaternion:[dn.quaternion[0],dn.quaternion[1],dn.quaternion[2],dn.quaternion[3]]}),dn.onFrameRender(),this._emit(Fn.RENDER))},this._renderFrameOnDemand=yt=>{var dn;const xi=this._camera,si=this._control,Ps=this._autoplay,Ki=null===(dn=this._projection)||void 0===dn?void 0:dn.getTexture();!this._initialized||!Ki||!xi.animation&&!si.animating&&!Ps.playing&&!Ki.isVideo()||this.renderFrame(yt)},this._renderVRFrame=(yt,dn)=>{const xi=this._vr,si=this._projection,Ps=this._renderer;si&&(this._emit(Fn.BEFORE_RENDER),Ps.renderVR(si,xi,dn),this._emit(Fn.RENDER))},this._rootEl=((i,r)=>{const a=ba(i,void 0);if(!a)throw Ta(i)?new Ln(ur_MESSAGES_ELEMENT_NOT_FOUND(i),ur_CODES_ELEMENT_NOT_FOUND):new Ln(ur_MESSAGES_WRONG_TYPE(i,["HTMLElement","string"]),ur_CODES_WRONG_TYPE);return a})(a),this._plugins=un,this._initialized=!1,this._autoInit=Ze,this._autoResize=at,this._canvasSelector=lt,this._useResizeObserver=Cn,this._tabIndex=On,this._debug=Sn;const Dn=((i,r)=>{const a=this._rootEl.querySelector(r);if(!a)throw new Ln(ur_MESSAGES_CANVAS_NOT_FOUND,ur_CODES_CANVAS_NOT_FOUND);return a})(0,lt);this._renderer=new qd(Dn,Sn),this._camera=new da({initialYaw:h,initialPitch:v,initialZoom:S,fov:B,yawRange:M,pitchRange:N,zoomRange:k}),this._control=new Wd(Dn,this._camera,{useGrabCursor:$,scrollable:ne,wheelScrollable:Ae,disableContextMenu:Z,rotate:W,zoom:le,gyro:me}),this._animator=new Wc(mn),this._autoplay=new Yd(this,Dn,ct),this._projection=l,this._autoResizer=new Jl(Cn,()=>this.resize()),this._vr=new ec(this._renderer.ctx),this._hotspot=new Yc(this._rootEl,this._renderer,et),this._addEventHandlers(cn),l&&Ze&&this.init()}destroy(){this._camera.destroy(),this._animator.stop(),this._renderer.destroy(),this._control.destroy(),this._autoResizer.disable(),this._projection&&(this._projection.releaseAllResources(this._renderer.ctx),this._projection=null),this._plugins.forEach(a=>a.destroy(this)),this._initialized=!1}init(){return gn(this,void 0,void 0,function*(){if(!this._projection)throw new Ln(ur_MESSAGES_PROVIDE_PROJECTION_FIRST,ur_CODES_PROVIDE_PROJECTION_FIRST);const a=this._renderer,l=this._camera,h=this._control,v=this._animator,S=this._hotspot,M=this._projection,N=a.canvas;this._bindComponentEvents(),a.ctx.init(),this._resizeComponents(),l.updateMatrix(),this._autoResize&&this._autoResizer.enable(N),this._autoplay.enableBlocked||this._autoplay.enable(),this._plugins.forEach(B=>{B.init(this)});const k=yield this._loadTexture(M);this._applyProjection(M,k,null),S.refresh(),v.start(this._renderFrameOnDemand),yield h.enable(),null!=this._tabIndex&&!N.hasAttribute("tabIndex")&&(N.tabIndex=this._tabIndex),this._initialized=!0,this.renderFrame(0),this._emit(Fn.READY)})}load(a){return gn(this,void 0,void 0,function*(){if(!a)return!1;if(this._initialized){const l=yield this._loadTexture(a);this._applyProjection(a,l,this._projection),this.renderFrame(0)}else this._projection=a,this.init();return!0})}resize(){if(!this._initialized)return;this._resizeComponents(),this.renderFrame(0);const{width:a,height:l}=this._renderer;this._emit(Fn.RESIZE,{width:a,height:l})}addPlugins(...a){this._initialized&&a.forEach(l=>{l.init(this)}),this._plugins.push(...a)}removePlugins(...a){a.forEach(l=>{const h=this._plugins.indexOf(l);h<0||(l.destroy(this),this._plugins.splice(h,1))})}_emit(a,...l){this.trigger(a,Object.assign({type:a,target:this},l?l[0]:{}))}_applyProjection(a,l,h){const v=this._camera,S=this._control,M=this._renderer;h&&h.releaseAllResources(this._renderer.ctx),a.applyTexture(M.ctx,l),a.updateCamera(v),a.updateControl(S),this._projection=a,this._emit(Fn.PROJECTION_CHANGE,{projection:a})}_loadTexture(a){return gn(this,void 0,void 0,function*(){const l=new Xl,{src:h,video:v}=a;this._emit(Fn.LOAD_START,{src:h,video:v});const S=yield l.load(h,v);return this._emit(Fn.LOAD,{src:h,video:v}),S})}_resizeComponents(){const a=this._renderer,l=this._camera,h=this._control;a.resize(),l.resize(a.width,a.height),h.resize(a.width,a.height)}_addEventHandlers(a){Object.keys(a).forEach(l=>{this.on(l,a[l])})}_bindComponentEvents(){const a=this._rootEl,l=this._control,h=this._animator,v=this._renderer,S=this._vr;[Fe.STATIC_CLICK,Fe.INPUT_START,Fe.INPUT_END].forEach(N=>{l.rotate.on(N,k=>{this._emit(N,k)}),l.zoom.on(N,k=>{this._emit(N,k)})}),S.on(Fn.VR_START,N=>{a.classList.add(Yi.IN_VR),h.changeContext(N.session),h.start(this._renderVRFrame),this._emit(Fn.VR_START)}),S.on(Fn.VR_END,()=>{a.classList.remove(Yi.IN_VR),v.ctx.useDefaultFrameBuffer(),h.changeContext(window),h.start(this._renderFrameOnDemand),this.resize(),this._emit(Fn.VR_END)})}}return i.VERSION="4.0.0-beta.5",i})();class Dl{constructor(){this.matrix=ti(),this.rotation=En(),this.position=jt(0,0,0),this.scale=jt(1,1,1)}updateMatrix(){!function mo(i,r,a,l){var h=r[0],v=r[1],S=r[2],M=r[3],N=h+h,k=v+v,B=S+S,$=h*N,Z=h*k,W=h*B,le=v*k,me=v*B,ne=S*B,Ae=M*N,ct=M*k,et=M*B,Ze=l[0],at=l[1],lt=l[2];i[0]=(1-(le+ne))*Ze,i[1]=(Z+et)*Ze,i[2]=(W-ct)*Ze,i[3]=0,i[4]=(Z-et)*at,i[5]=(1-($+ne))*at,i[6]=(me+Ae)*at,i[7]=0,i[8]=(W+ct)*lt,i[9]=(me-Ae)*lt,i[10]=(1-($+le))*lt,i[11]=0,i[12]=a[0],i[13]=a[1],i[14]=a[2],i[15]=1}(this.matrix,this.rotation,this.position,this.scale)}}class wl{constructor({src:r,video:a=!1}){this.src=r,this.video=a,this._mesh=null}releaseAllResources(r){var a;null===(a=this._mesh)||void 0===a||a.destroy(r)}updateCamera(r){r.resetRange()}updateControl(r){r.ignoreZoomScale=!1}update(r){}getTexture(){return this._mesh?this._mesh.program.uniforms.uTexture.texture:null}getMesh(){return this._mesh}}class nu{constructor(){this.needsUpdate=!0}destroy(r){}}class fa extends Dl{constructor(r,a){super(),this.vao=r,this.program=a}destroy(r){r.releaseVAO(this.vao),r.releaseShaderResources(this.program)}}class pa{constructor(r,a,l,h){this.program=r.createProgram(a,l),this.uniforms=h,this.uniformLocations=r.getUniformLocations(this.program,h)}}class Kr{constructor(r,a){this.data=r,this.itemSize=a,this.count=r.length/a}}class Cl{constructor(r,a,l){this.vertices=new Kr(new Float32Array(r),3),this.indicies=new Kr(new Uint16Array(a),1),this.uvs=new Kr(new Float32Array(l),2)}}class ga extends nu{constructor(r,a){super(),this.texture=a,this._webglTexture=r.createWebGLTexture(a)}destroy(r){this.texture.destroy(),r.deleteTexture(this._webglTexture)}update(r,a,l){const h=this.texture,v=h.isVideo();r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,h.flipY),r.uniform1i(a,0),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this._webglTexture),!v&&l?r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,h.source):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,h.source),v||(this.needsUpdate=!1)}}class uu extends Cl{constructor(){const l=-.5*Math.PI,h=[],v=[],S=[];let M,N;for(M=0;M<=60;M++){const k=(M/60-.5)*Math.PI,B=Math.sin(k),$=Math.cos(k);for(N=0;N<=60;N++){const Z=2*(N/60-.5)*Math.PI+l,W=Math.sin(Z),me=Math.cos(Z)*$,ne=B,Ae=W*$;if(h.push(N/60,M/60),v.push(me,ne,Ae),60!==N&&60!==M){const Ze=61*M+N,at=Ze+60+1;S.push(Ze,Ze+1,at,at,Ze+1,at+1)}}}super(v,S,h)}}class du extends wl{constructor(r){super(r)}applyTexture(r,a){const l={uTexture:new ga(r,a)},h=new uu,v=new pa(r,"#define GLSLIFY 1\nattribute vec3 position;attribute vec2 uv;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;varying highp vec2 vUV;void main(){vUV=uv;gl_Position=uPMatrix*uMVMatrix*vec4(position,1.0);}","#define GLSLIFY 1\nuniform sampler2D uTexture;varying highp vec2 vUV;void main(){gl_FragColor=texture2D(uTexture,vUV.st);}",l),S=r.createVAO(h,v),M=new fa(S,v);this._mesh=M}}const oc=(i,r)=>{[ut.prototype,Kc.prototype].forEach(a=>{Object.getOwnPropertyNames(a).filter(l=>"_"!==l.charAt(0)&&"constructor"!==l).forEach(l=>{const h=Object.getOwnPropertyDescriptor(a,l);if(h.value)Object.defineProperty(i,l,{value:function(...v){return h.value.call(this[r],...v)}});else{const v={};h.get&&(v.get=function(){var S;return this[r]&&(null===(S=h.get)||void 0===S?void 0:S.call(this[r]))}),h.set&&(v.set=function(...S){var M;return null===(M=h.set)||void 0===M?void 0:M.call(this[r],...S)}),Object.defineProperty(i,l,v)}})})}},296:(Vt,He,Y)=>{var R=Y(481),Q=Y(432),J=Y(256);const ue=[{path:"latvanytervek",loadChildren:()=>Y.e(669).then(Y.bind(Y,424)).then(b=>b.LatvanytervekModule)}];let Se=(()=>{class b{}return b.\u0275fac=function(g){return new(g||b)},b.\u0275mod=J.oAB({type:b}),b.\u0275inj=J.cJS({imports:[Q.Bz.forRoot(ue),Q.Bz]}),b})();var Ue=Y(118),We=Y(895),ut=Y(579),Qe=Y(421),we=Y(751),ye=Y(577),ze=Y(144),bt=Y(576),Pe=Y(268);const gt=["addListener","removeListener"],st=["addEventListener","removeEventListener"],zt=["on","off"];function Gt(b,d,g,C){if((0,bt.m)(g)&&(C=g,g=void 0),C)return Gt(b,d,g).pipe((0,Pe.Z)(C));const[O,U]=function xe(b){return(0,bt.m)(b.addEventListener)&&(0,bt.m)(b.removeEventListener)}(b)?st.map(z=>G=>b[z](d,G,g)):function Ke(b){return(0,bt.m)(b.addListener)&&(0,bt.m)(b.removeListener)}(b)?gt.map(Ut(b,d)):function Ye(b){return(0,bt.m)(b.on)&&(0,bt.m)(b.off)}(b)?zt.map(Ut(b,d)):[];if(!O&&(0,ze.z)(b))return(0,ye.z)(z=>Gt(z,d,g))((0,Qe.Xf)(b));if(!O)throw new TypeError("Invalid event target");return new we.y(z=>{const G=(...te)=>z.next(1<te.length?te:te[0]);return O(G),()=>U(G)})}function Ut(b,d){return g=>C=>b[g](d,C)}var mt=Y(482),Wt=Y(403),Ee=Y(32),Me=Y(655);const Ve=["canvas"],pt=["*"];let Xt=(()=>{class b{}return(0,Me.gn)([Ue.qE,(0,Me.w6)("design:type",Ue.ZP)],b.prototype,"_view360",void 0),b})();const ae=Object.getOwnPropertyNames(Ue.ZP.prototype).filter(b=>{const d=Object.getOwnPropertyDescriptor(Ue.ZP.prototype,b);return!(b.startsWith("_")||"constructor"===b||d?.value)}).filter(b=>!!Object.getOwnPropertyDescriptor(Ue.ZP.prototype,b).set);let de=(()=>{class b extends Xt{constructor(g,C,O){super(),this._elRef=g,this._platformId=C,this._ngZone=O,this.readyEmitter=new J.vpe,this.loadStartEmitter=new J.vpe,this.loadEmitter=new J.vpe,this.projectionChangeEmitter=new J.vpe,this.resizeEmitter=new J.vpe,this.beforeRenderEmitter=new J.vpe,this.renderEmitter=new J.vpe,this.inputStartEmitter=new J.vpe,this.inputEndEmitter=new J.vpe,this.viewChangeEmitter=new J.vpe,this.staticClickEmitter=new J.vpe,this.vrStartEmitter=new J.vpe,this.vrEndEmitter=new J.vpe,this._destroy$=new ut.x,this._view360=null}get element(){return this._elRef.nativeElement}get _canvasElClass(){return`${Ue.Qz.CANVAS} ${this.canvasClass??""}`.trim()}ngAfterViewInit(){if((0,We.PM)(this._platformId))return;const g=this._elRef.nativeElement,C=this.options??{};this._view360=this._ngZone.runOutsideAngular(()=>new Ue.ZP(g,C)),this._bindEvents()}ngOnDestroy(){this._destroy$.next(),this._view360?.destroy()}ngOnChanges(g){const C=this._view360;if(!C)return;const O=g.options;if(!O)return;const U=O.previousValue,z=O.currentValue;ae.forEach(G=>{const ce=z[G];ce!==U[G]&&(C[G]=ce)})}_bindEvents(){const g=this._view360;Object.keys(Ue.FP).forEach(C=>{const O=Ue.FP[C];Gt(g,O).pipe(function je(b){return(0,mt.e)((d,g)=>{(0,Qe.Xf)(b).subscribe((0,Wt.x)(g,()=>g.complete(),Ee.Z)),!g.closed&&d.subscribe(g)})}(this._destroy$)).subscribe(U=>{const z=this[`${O}Emitter`];z&&z.observers.length>0&&this._ngZone.run(()=>z.emit(U))})})}}return b.\u0275fac=function(g){return new(g||b)(J.Y36(J.SBq),J.Y36(J.Lbi),J.Y36(J.R0b))},b.\u0275cmp=J.Xpm({type:b,selectors:[["ngx-view360"],["","NgxView360",""]],viewQuery:function(g,C){if(1&g&&J.Gf(Ve,5),2&g){let O;J.iGM(O=J.CRH())&&(C.canvas=O.first)}},hostAttrs:[1,"view360-container",2,"display","block"],inputs:{options:"options",canvasClass:"canvasClass"},outputs:{readyEmitter:"ready",loadStartEmitter:"loadStart",loadEmitter:"load",projectionChangeEmitter:"projectionChange",resizeEmitter:"resize",beforeRenderEmitter:"beforeRender",renderEmitter:"render",inputStartEmitter:"inputStart",inputEndEmitter:"inputEnd",viewChangeEmitter:"viewChange",staticClickEmitter:"staticClick",vrStartEmitter:"vrStart",vrEndEmitter:"vrEnd"},features:[J.qOj,J.TTD],ngContentSelectors:pt,decls:3,vars:1,consts:[[3,"ngClass"],["canvas",""]],template:function(g,C){1&g&&(J.F$t(),J._UZ(0,"canvas",0,1),J.Hsn(2)),2&g&&J.Q6J("ngClass",C._canvasElClass)},dependencies:[We.mk],encapsulation:2}),b})(),he=(()=>{class b{}return b.\u0275fac=function(g){return new(g||b)},b.\u0275mod=J.oAB({type:b}),b.\u0275inj=J.cJS({imports:[We.ez]}),b})(),De=(()=>{class b{constructor(){this.options={projection:new Ue.A1({src:"/assets/360test.png"})}}changeOption(){this.options={...this.options,projection:new Ue.A1({src:"/assets/360test.png"})}}}return b.\u0275fac=function(g){return new(g||b)},b.\u0275cmp=J.Xpm({type:b,selectors:[["app-root"]],decls:3,vars:1,consts:[["id","myPanoViewer"],[1,"is-16by9",3,"options"]],template:function(g,C){1&g&&J._UZ(0,"div",0)(1,"ngx-view360",1)(2,"router-outlet"),2&g&&(J.xp6(1),J.Q6J("options",C.options))},dependencies:[Q.lC,de]}),b})();class ke{}class Ce{}const Oe="*";function Ht(b,d=null){return{type:2,steps:b,options:d}}function Mt(b){return{type:6,styles:b,offset:null}}function Zi(b){Promise.resolve().then(b)}class jr{constructor(d=0,g=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=d+g}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Zi(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(d=>d()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(d){this._position=this.totalTime?d*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(d){const g="start"==d?this._onStartFns:this._onDoneFns;g.forEach(C=>C()),g.length=0}}class Un{constructor(d){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=d;let g=0,C=0,O=0;const U=this.players.length;0==U?Zi(()=>this._onFinish()):this.players.forEach(z=>{z.onDone(()=>{++g==U&&this._onFinish()}),z.onDestroy(()=>{++C==U&&this._onDestroy()}),z.onStart(()=>{++O==U&&this._onStart()})}),this.totalTime=this.players.reduce((z,G)=>Math.max(z,G.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this.players.forEach(d=>d.init())}onStart(d){this._onStartFns.push(d)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(d=>d()),this._onStartFns=[])}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(d=>d.play())}pause(){this.players.forEach(d=>d.pause())}restart(){this.players.forEach(d=>d.restart())}finish(){this._onFinish(),this.players.forEach(d=>d.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(d=>d.destroy()),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}reset(){this.players.forEach(d=>d.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(d){const g=d*this.totalTime;this.players.forEach(C=>{const O=C.totalTime?Math.min(1,g/C.totalTime):1;C.setPosition(O)})}getPosition(){const d=this.players.reduce((g,C)=>null===g||C.totalTime>g.totalTime?C:g,null);return null!=d?d.getPosition():0}beforeDestroy(){this.players.forEach(d=>{d.beforeDestroy&&d.beforeDestroy()})}triggerCallback(d){const g="start"==d?this._onStartFns:this._onDoneFns;g.forEach(C=>C()),g.length=0}}const oi="!";function Qi(b){return new J.vHH(3e3,!1)}function Be(){return typeof window<"u"&&typeof window.document<"u"}function vt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Rt(b){switch(b.length){case 0:return new jr;case 1:return b[0];default:return new Un(b)}}function ht(b,d,g,C,O=new Map,U=new Map){const z=[],G=[];let te=-1,ce=null;if(C.forEach(Le=>{const qe=Le.get("offset"),Pt=qe==te,Ct=Pt&&ce||new Map;Le.forEach((ot,Tt)=>{let Zt=Tt,ln=ot;if("offset"!==Tt)switch(Zt=d.normalizePropertyName(Zt,z),ln){case oi:ln=O.get(Tt);break;case Oe:ln=U.get(Tt);break;default:ln=d.normalizeStyleValue(Tt,Zt,ln,z)}Ct.set(Zt,ln)}),Pt||G.push(Ct),ce=Ct,te=qe}),z.length)throw function Ar(b){return new J.vHH(3502,!1)}();return G}function $r(b,d,g,C){switch(d){case"start":b.onStart(()=>C(g&&Rr(g,"start",b)));break;case"done":b.onDone(()=>C(g&&Rr(g,"done",b)));break;case"destroy":b.onDestroy(()=>C(g&&Rr(g,"destroy",b)))}}function Rr(b,d,g){const U=es(b.element,b.triggerName,b.fromState,b.toState,d||b.phaseName,g.totalTime??b.totalTime,!!g.disabled),z=b._data;return null!=z&&(U._data=z),U}function es(b,d,g,C,O="",U=0,z){return{element:b,triggerName:d,fromState:g,toState:C,phaseName:O,totalTime:U,disabled:!!z}}function ir(b,d,g){let C=b.get(d);return C||b.set(d,C=g),C}function Xr(b){const d=b.indexOf(":");return[b.substring(1,d),b.slice(d+1)]}let Or=(b,d)=>!1,No=(b,d,g)=>[],ro=null;function io(b){const d=b.parentNode||b.host;return d===ro?null:d}(vt()||typeof Element<"u")&&(Be()?(ro=(()=>document.documentElement)(),Or=(b,d)=>{for(;d;){if(d===b)return!0;d=io(d)}return!1}):Or=(b,d)=>b.contains(d),No=(b,d,g)=>{if(g)return Array.from(b.querySelectorAll(d));const C=b.querySelector(d);return C?[C]:[]});let Pr=null,ts=!1;const Qt=Or,Bn=No;let Si=(()=>{class b{validateStyleProperty(g){return function Jo(b){Pr||(Pr=function ns(){return typeof document<"u"?document.body:null}()||{},ts=!!Pr.style&&"WebkitAppearance"in Pr.style);let d=!0;return Pr.style&&!function so(b){return"ebkit"==b.substring(1,6)}(b)&&(d=b in Pr.style,!d&&ts&&(d="Webkit"+b.charAt(0).toUpperCase()+b.slice(1)in Pr.style)),d}(g)}matchesElement(g,C){return!1}containsElement(g,C){return Qt(g,C)}getParentElement(g){return io(g)}query(g,C,O){return Bn(g,C,O)}computeStyle(g,C,O){return O||""}animate(g,C,O,U,z,G=[],te){return new jr(O,U)}}return b.\u0275fac=function(g){return new(g||b)},b.\u0275prov=J.Yz7({token:b,factory:b.\u0275fac}),b})(),Pn=(()=>{class b{}return b.NOOP=new Si,b})();const Bi=1e3,Nr="ng-enter",Ge="ng-leave",_t="ng-trigger",pn=".ng-trigger",pr="ng-animating",Sr=".ng-animating";function yn(b){if("number"==typeof b)return b;const d=b.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:Jr(parseFloat(d[1]),d[2])}function Jr(b,d){return"s"===d?b*Bi:b}function sn(b,d,g){return b.hasOwnProperty("duration")?b:function Ds(b,d,g){let O,U=0,z="";if("string"==typeof b){const G=b.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===G)return d.push(Qi()),{duration:0,delay:0,easing:""};O=Jr(parseFloat(G[1]),G[2]);const te=G[3];null!=te&&(U=Jr(parseFloat(te),G[4]));const ce=G[5];ce&&(z=ce)}else O=b;if(!g){let G=!1,te=d.length;O<0&&(d.push(function Po(){return new J.vHH(3100,!1)}()),G=!0),U<0&&(d.push(function St(){return new J.vHH(3101,!1)}()),G=!0),G&&d.splice(te,0,Qi())}return{duration:O,delay:U,easing:z}}(b,d,g)}function li(b,d={}){return Object.keys(b).forEach(g=>{d[g]=b[g]}),d}function Ot(b){const d=new Map;return Object.keys(b).forEach(g=>{d.set(g,b[g])}),d}function bn(b,d=new Map,g){if(g)for(let[C,O]of g)d.set(C,O);for(let[C,O]of b)d.set(C,O);return d}function En(b,d,g){return g?d+":"+g+";":""}function Nn(b){let d="";for(let g=0;g<b.style.length;g++){const C=b.style.item(g);d+=En(0,C,b.style.getPropertyValue(C))}for(const g in b.style)b.style.hasOwnProperty(g)&&!g.startsWith("_")&&(d+=En(0,Fs(g),b.style[g]));b.setAttribute("style",d)}function xn(b,d,g){b.style&&(d.forEach((C,O)=>{const U=Hi(O);g&&!g.has(O)&&g.set(O,b.style[U]),b.style[U]=C}),vt()&&Nn(b))}function sr(b,d){b.style&&(d.forEach((g,C)=>{const O=Hi(C);b.style[O]=""}),vt()&&Nn(b))}function Wn(b){return Array.isArray(b)?1==b.length?b[0]:Ht(b):b}const is=new RegExp("{{\\s*(.+?)\\s*}}","g");function on(b){let d=[];if("string"==typeof b){let g;for(;g=is.exec(b);)d.push(g[1]);is.lastIndex=0}return d}function ss(b,d,g){const C=b.toString(),O=C.replace(is,(U,z)=>{let G=d[z];return null==G&&(g.push(function ys(b){return new J.vHH(3003,!1)}()),G=""),G.toString()});return O==C?b:O}function os(b){const d=[];let g=b.next();for(;!g.done;)d.push(g.value),g=b.next();return d}const ao=/-+([a-z0-9])/g;function Hi(b){return b.replace(ao,(...d)=>d[1].toUpperCase())}function Fs(b){return b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xr(b,d,g){switch(d.type){case 7:return b.visitTrigger(d,g);case 0:return b.visitState(d,g);case 1:return b.visitTransition(d,g);case 2:return b.visitSequence(d,g);case 3:return b.visitGroup(d,g);case 4:return b.visitAnimate(d,g);case 5:return b.visitKeyframes(d,g);case 6:return b.visitStyle(d,g);case 8:return b.visitReference(d,g);case 9:return b.visitAnimateChild(d,g);case 10:return b.visitAnimateRef(d,g);case 11:return b.visitQuery(d,g);case 12:return b.visitStagger(d,g);default:throw function rn(b){return new J.vHH(3004,!1)}()}}function gr(b,d){return window.getComputedStyle(b)[d]}const bi="*";function Lo(b,d){const g=[];return"string"==typeof b?b.split(/\s*,\s*/).forEach(C=>function Mi(b,d,g){if(":"==b[0]){const te=function cs(b,d){switch(b){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(g,C)=>parseFloat(C)>parseFloat(g);case":decrement":return(g,C)=>parseFloat(C)<parseFloat(g);default:return d.push(function wi(b){return new J.vHH(3016,!1)}()),"* => *"}}(b,g);if("function"==typeof te)return void d.push(te);b=te}const C=b.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==C||C.length<4)return g.push(function Es(b){return new J.vHH(3015,!1)}()),d;const O=C[1],U=C[2],z=C[3];d.push(ta(O,z));"<"==U[0]&&!(O==bi&&z==bi)&&d.push(ta(z,O))}(C,g,d)):g.push(b),g}const ws=new Set(["true","1"]),ks=new Set(["false","0"]);function ta(b,d){const g=ws.has(b)||ks.has(b),C=ws.has(d)||ks.has(d);return(O,U)=>{let z=b==bi||b==O,G=d==bi||d==U;return!z&&g&&"boolean"==typeof O&&(z=O?ws.has(b):ks.has(b)),!G&&C&&"boolean"==typeof U&&(G=U?ws.has(d):ks.has(d)),z&&G}}const ya=new RegExp("s*:selfs*,?","g");function Ii(b,d,g,C){return new Fo(b).build(d,g,C)}class Fo{constructor(d){this._driver=d}build(d,g,C){const O=new Us(g);return this._resetContextStyleTimingState(O),xr(this,Wn(d),O)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,g){let C=g.queryCount=0,O=g.depCount=0;const U=[],z=[];return"@"==d.name.charAt(0)&&g.errors.push(function be(){return new J.vHH(3006,!1)}()),d.definitions.forEach(G=>{if(this._resetContextStyleTimingState(g),0==G.type){const te=G,ce=te.name;ce.toString().split(/\s*,\s*/).forEach(Le=>{te.name=Le,U.push(this.visitState(te,g))}),te.name=ce}else if(1==G.type){const te=this.visitTransition(G,g);C+=te.queryCount,O+=te.depCount,z.push(te)}else g.errors.push(function hr(){return new J.vHH(3007,!1)}())}),{type:7,name:d.name,states:U,transitions:z,queryCount:C,depCount:O,options:null}}visitState(d,g){const C=this.visitStyle(d.styles,g),O=d.options&&d.options.params||null;if(C.containsDynamicStyles){const U=new Set,z=O||{};C.styles.forEach(G=>{G instanceof Map&&G.forEach(te=>{on(te).forEach(ce=>{z.hasOwnProperty(ce)||U.add(ce)})})}),U.size&&(os(U.values()),g.errors.push(function Fi(b,d){return new J.vHH(3008,!1)}()))}return{type:0,name:d.name,style:C,options:O?{params:O}:null}}visitTransition(d,g){g.queryCount=0,g.depCount=0;const C=xr(this,Wn(d.animation),g);return{type:1,matchers:Lo(d.expr,g.errors),animation:C,queryCount:g.queryCount,depCount:g.depCount,options:di(d.options)}}visitSequence(d,g){return{type:2,steps:d.steps.map(C=>xr(this,C,g)),options:di(d.options)}}visitGroup(d,g){const C=g.currentTime;let O=0;const U=d.steps.map(z=>{g.currentTime=C;const G=xr(this,z,g);return O=Math.max(O,g.currentTime),G});return g.currentTime=O,{type:3,steps:U,options:di(d.options)}}visitAnimate(d,g){const C=function Ea(b,d){if(b.hasOwnProperty("duration"))return b;if("number"==typeof b)return ko(sn(b,d).duration,0,"");const g=b;if(g.split(/\s+/).some(U=>"{"==U.charAt(0)&&"{"==U.charAt(1))){const U=ko(0,0,"");return U.dynamic=!0,U.strValue=g,U}const O=sn(g,d);return ko(O.duration,O.delay,O.easing)}(d.timings,g.errors);g.currentAnimateTimings=C;let O,U=d.styles?d.styles:Mt({});if(5==U.type)O=this.visitKeyframes(U,g);else{let z=d.styles,G=!1;if(!z){G=!0;const ce={};C.easing&&(ce.easing=C.easing),z=Mt(ce)}g.currentTime+=C.duration+C.delay;const te=this.visitStyle(z,g);te.isEmptyStep=G,O=te}return g.currentAnimateTimings=null,{type:4,timings:C,style:O,options:null}}visitStyle(d,g){const C=this._makeStyleAst(d,g);return this._validateStyleAst(C,g),C}_makeStyleAst(d,g){const C=[],O=Array.isArray(d.styles)?d.styles:[d.styles];for(let G of O)"string"==typeof G?G===Oe?C.push(G):g.errors.push(new J.vHH(3002,!1)):C.push(Ot(G));let U=!1,z=null;return C.forEach(G=>{if(G instanceof Map&&(G.has("easing")&&(z=G.get("easing"),G.delete("easing")),!U))for(let te of G.values())if(te.toString().indexOf("{{")>=0){U=!0;break}}),{type:6,styles:C,easing:z,offset:d.offset,containsDynamicStyles:U,options:null}}_validateStyleAst(d,g){const C=g.currentAnimateTimings;let O=g.currentTime,U=g.currentTime;C&&U>0&&(U-=C.duration+C.delay),d.styles.forEach(z=>{"string"!=typeof z&&z.forEach((G,te)=>{const ce=g.collectedStyles.get(g.currentQuerySelector),Le=ce.get(te);let qe=!0;Le&&(U!=O&&U>=Le.startTime&&O<=Le.endTime&&(g.errors.push(function Qr(b,d,g,C,O){return new J.vHH(3010,!1)}()),qe=!1),U=Le.startTime),qe&&ce.set(te,{startTime:U,endTime:O}),g.options&&function ci(b,d,g){const C=d.params||{},O=on(b);O.length&&O.forEach(U=>{C.hasOwnProperty(U)||g.push(function Cr(b){return new J.vHH(3001,!1)}())})}(G,g.options,g.errors)})})}visitKeyframes(d,g){const C={type:5,styles:[],options:null};if(!g.currentAnimateTimings)return g.errors.push(function Ft(){return new J.vHH(3011,!1)}()),C;let U=0;const z=[];let G=!1,te=!1,ce=0;const Le=d.steps.map(ln=>{const An=this._makeStyleAst(ln,g);let qn=null!=An.offset?An.offset:function ti(b){if("string"==typeof b)return null;let d=null;if(Array.isArray(b))b.forEach(g=>{if(g instanceof Map&&g.has("offset")){const C=g;d=parseFloat(C.get("offset")),C.delete("offset")}});else if(b instanceof Map&&b.has("offset")){const g=b;d=parseFloat(g.get("offset")),g.delete("offset")}return d}(An.styles),Kn=0;return null!=qn&&(U++,Kn=An.offset=qn),te=te||Kn<0||Kn>1,G=G||Kn<ce,ce=Kn,z.push(Kn),An});te&&g.errors.push(function en(){return new J.vHH(3012,!1)}()),G&&g.errors.push(function zr(){return new J.vHH(3200,!1)}());const qe=d.steps.length;let Pt=0;U>0&&U<qe?g.errors.push(function hn(){return new J.vHH(3202,!1)}()):0==U&&(Pt=1/(qe-1));const Ct=qe-1,ot=g.currentTime,Tt=g.currentAnimateTimings,Zt=Tt.duration;return Le.forEach((ln,An)=>{const qn=Pt>0?An==Ct?1:Pt*An:z[An],Kn=qn*Zt;g.currentTime=ot+Tt.delay+Kn,Tt.duration=Kn,this._validateStyleAst(ln,g),ln.offset=qn,C.styles.push(ln)}),C}visitReference(d,g){return{type:8,animation:xr(this,Wn(d.animation),g),options:di(d.options)}}visitAnimateChild(d,g){return g.depCount++,{type:9,options:di(d.options)}}visitAnimateRef(d,g){return{type:10,animation:this.visitReference(d.animation,g),options:di(d.options)}}visitQuery(d,g){const C=g.currentQuerySelector,O=d.options||{};g.queryCount++,g.currentQuery=d;const[U,z]=function na(b){const d=!!b.split(/\s*,\s*/).find(g=>":self"==g);return d&&(b=b.replace(ya,"")),b=b.replace(/@\*/g,pn).replace(/@\w+/g,g=>pn+"-"+g.slice(1)).replace(/:animating/g,Sr),[b,d]}(d.selector);g.currentQuerySelector=C.length?C+" "+U:U,ir(g.collectedStyles,g.currentQuerySelector,new Map);const G=xr(this,Wn(d.animation),g);return g.currentQuery=null,g.currentQuerySelector=C,{type:11,selector:U,limit:O.limit||0,optional:!!O.optional,includeSelf:z,animation:G,originalSelector:d.selector,options:di(d.options)}}visitStagger(d,g){g.currentQuery||g.errors.push(function ki(){return new J.vHH(3013,!1)}());const C="full"===d.timings?{duration:0,delay:0,easing:"full"}:sn(d.timings,g.errors,!0);return{type:12,animation:xr(this,Wn(d.animation),g),timings:C,options:null}}}class Us{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function di(b){return b?(b=li(b)).params&&(b.params=function ra(b){return b?li(b):null}(b.params)):b={},b}function ko(b,d,g){return{duration:b,delay:d,easing:g}}function Ai(b,d,g,C,O,U,z=null,G=!1){return{type:1,element:b,keyframes:d,preStyleProps:g,postStyleProps:C,duration:O,delay:U,totalTime:O+U,easing:z,subTimeline:G}}class hi{constructor(){this._map=new Map}get(d){return this._map.get(d)||[]}append(d,g){let C=this._map.get(d);C||this._map.set(d,C=[]),C.push(...g)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const Uo=new RegExp(":enter","g"),ji=new RegExp(":leave","g");function Ri(b,d,g,C,O,U=new Map,z=new Map,G,te,ce=[]){return(new zi).buildKeyframes(b,d,g,C,O,U,z,G,te,ce)}class zi{buildKeyframes(d,g,C,O,U,z,G,te,ce,Le=[]){ce=ce||new hi;const qe=new fo(d,g,ce,O,U,Le,[]);qe.options=te;const Pt=te.delay?yn(te.delay):0;qe.currentTimeline.delayNextStep(Pt),qe.currentTimeline.setStyles([z],null,qe.errors,te),xr(this,C,qe);const Ct=qe.timelines.filter(ot=>ot.containsAnimation());if(Ct.length&&G.size){let ot;for(let Tt=Ct.length-1;Tt>=0;Tt--){const Zt=Ct[Tt];if(Zt.element===g){ot=Zt;break}}ot&&!ot.allowOnlyTimelineStyles()&&ot.setStyles([G],null,qe.errors,te)}return Ct.length?Ct.map(ot=>ot.buildKeyframes()):[Ai(g,[],[],[],0,Pt,"",!1)]}visitTrigger(d,g){}visitState(d,g){}visitTransition(d,g){}visitAnimateChild(d,g){const C=g.subInstructions.get(g.element);if(C){const O=g.createSubContext(d.options),U=g.currentTimeline.currentTime,z=this._visitSubInstructions(C,O,O.options);U!=z&&g.transformIntoNewTimeline(z)}g.previousNode=d}visitAnimateRef(d,g){const C=g.createSubContext(d.options);C.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],g,C),this.visitReference(d.animation,C),g.transformIntoNewTimeline(C.currentTimeline.currentTime),g.previousNode=d}_applyAnimationRefDelays(d,g,C){for(const O of d){const U=O?.delay;if(U){const z="number"==typeof U?U:yn(ss(U,O?.params??{},g.errors));C.delayNextStep(z)}}}_visitSubInstructions(d,g,C){let U=g.currentTimeline.currentTime;const z=null!=C.duration?yn(C.duration):null,G=null!=C.delay?yn(C.delay):null;return 0!==z&&d.forEach(te=>{const ce=g.appendInstructionToTimeline(te,z,G);U=Math.max(U,ce.duration+ce.delay)}),U}visitReference(d,g){g.updateOptions(d.options,!0),xr(this,d.animation,g),g.previousNode=d}visitSequence(d,g){const C=g.subContextCount;let O=g;const U=d.options;if(U&&(U.params||U.delay)&&(O=g.createSubContext(U),O.transformIntoNewTimeline(),null!=U.delay)){6==O.previousNode.type&&(O.currentTimeline.snapshotCurrentStyles(),O.previousNode=Oi);const z=yn(U.delay);O.delayNextStep(z)}d.steps.length&&(d.steps.forEach(z=>xr(this,z,O)),O.currentTimeline.applyStylesToKeyframe(),O.subContextCount>C&&O.transformIntoNewTimeline()),g.previousNode=d}visitGroup(d,g){const C=[];let O=g.currentTimeline.currentTime;const U=d.options&&d.options.delay?yn(d.options.delay):0;d.steps.forEach(z=>{const G=g.createSubContext(d.options);U&&G.delayNextStep(U),xr(this,z,G),O=Math.max(O,G.currentTimeline.currentTime),C.push(G.currentTimeline)}),C.forEach(z=>g.currentTimeline.mergeTimelineCollectedStyles(z)),g.transformIntoNewTimeline(O),g.previousNode=d}_visitTiming(d,g){if(d.dynamic){const C=d.strValue;return sn(g.params?ss(C,g.params,g.errors):C,g.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,g){const C=g.currentAnimateTimings=this._visitTiming(d.timings,g),O=g.currentTimeline;C.delay&&(g.incrementTime(C.delay),O.snapshotCurrentStyles());const U=d.style;5==U.type?this.visitKeyframes(U,g):(g.incrementTime(C.duration),this.visitStyle(U,g),O.applyStylesToKeyframe()),g.currentAnimateTimings=null,g.previousNode=d}visitStyle(d,g){const C=g.currentTimeline,O=g.currentAnimateTimings;!O&&C.hasCurrentStyleProperties()&&C.forwardFrame();const U=O&&O.easing||d.easing;d.isEmptyStep?C.applyEmptyStep(U):C.setStyles(d.styles,U,g.errors,g.options),g.previousNode=d}visitKeyframes(d,g){const C=g.currentAnimateTimings,O=g.currentTimeline.duration,U=C.duration,G=g.createSubContext().currentTimeline;G.easing=C.easing,d.styles.forEach(te=>{G.forwardTime((te.offset||0)*U),G.setStyles(te.styles,te.easing,g.errors,g.options),G.applyStylesToKeyframe()}),g.currentTimeline.mergeTimelineCollectedStyles(G),g.transformIntoNewTimeline(O+U),g.previousNode=d}visitQuery(d,g){const C=g.currentTimeline.currentTime,O=d.options||{},U=O.delay?yn(O.delay):0;U&&(6===g.previousNode.type||0==C&&g.currentTimeline.hasCurrentStyleProperties())&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=Oi);let z=C;const G=g.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!O.optional,g.errors);g.currentQueryTotal=G.length;let te=null;G.forEach((ce,Le)=>{g.currentQueryIndex=Le;const qe=g.createSubContext(d.options,ce);U&&qe.delayNextStep(U),ce===g.element&&(te=qe.currentTimeline),xr(this,d.animation,qe),qe.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,qe.currentTimeline.currentTime)}),g.currentQueryIndex=0,g.currentQueryTotal=0,g.transformIntoNewTimeline(z),te&&(g.currentTimeline.mergeTimelineCollectedStyles(te),g.currentTimeline.snapshotCurrentStyles()),g.previousNode=d}visitStagger(d,g){const C=g.parentContext,O=g.currentTimeline,U=d.timings,z=Math.abs(U.duration),G=z*(g.currentQueryTotal-1);let te=z*g.currentQueryIndex;switch(U.duration<0?"reverse":U.easing){case"reverse":te=G-te;break;case"full":te=C.currentStaggerTime}const Le=g.currentTimeline;te&&Le.delayNextStep(te);const qe=Le.currentTime;xr(this,d.animation,g),g.previousNode=d,C.currentStaggerTime=O.currentTime-qe+(O.startTime-C.currentTimeline.startTime)}}const Oi={};class fo{constructor(d,g,C,O,U,z,G,te){this._driver=d,this.element=g,this.subInstructions=C,this._enterClassName=O,this._leaveClassName=U,this.errors=z,this.timelines=G,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Oi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=te||new mr(this._driver,g,0),G.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,g){if(!d)return;const C=d;let O=this.options;null!=C.duration&&(O.duration=yn(C.duration)),null!=C.delay&&(O.delay=yn(C.delay));const U=C.params;if(U){let z=O.params;z||(z=this.options.params={}),Object.keys(U).forEach(G=>{(!g||!z.hasOwnProperty(G))&&(z[G]=ss(U[G],z,this.errors))})}}_copyOptions(){const d={};if(this.options){const g=this.options.params;if(g){const C=d.params={};Object.keys(g).forEach(O=>{C[O]=g[O]})}}return d}createSubContext(d=null,g,C){const O=g||this.element,U=new fo(this._driver,O,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(O,C||0));return U.previousNode=this.previousNode,U.currentAnimateTimings=this.currentAnimateTimings,U.options=this._copyOptions(),U.updateOptions(d),U.currentQueryIndex=this.currentQueryIndex,U.currentQueryTotal=this.currentQueryTotal,U.parentContext=this,this.subContextCount++,U}transformIntoNewTimeline(d){return this.previousNode=Oi,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,g,C){const O={duration:g??d.duration,delay:this.currentTimeline.currentTime+(C??0)+d.delay,easing:""},U=new Bs(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,O,d.stretchStartingKeyframe);return this.timelines.push(U),O}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,g,C,O,U,z){let G=[];if(O&&G.push(this.element),d.length>0){d=(d=d.replace(Uo,"."+this._enterClassName)).replace(ji,"."+this._leaveClassName);let ce=this._driver.query(this.element,d,1!=C);0!==C&&(ce=C<0?ce.slice(ce.length+C,ce.length):ce.slice(0,C)),G.push(...ce)}return!U&&0==G.length&&z.push(function Di(b){return new J.vHH(3014,!1)}()),G}}class mr{constructor(d,g,C,O){this._driver=d,this.element=g,this.startTime=C,this._elementTimelineStylesLookup=O,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(g),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(g,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const g=1===this._keyframes.size&&this._pendingStyles.size;this.duration||g?(this.forwardTime(this.currentTime+d),g&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,g){return this.applyStylesToKeyframe(),new mr(this._driver,d,g||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,g){this._localTimelineStyles.set(d,g),this._globalTimelineStyles.set(d,g),this._styleSummary.set(d,{time:this.currentTime,value:g})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[g,C]of this._globalTimelineStyles)this._backFill.set(g,C||Oe),this._currentKeyframe.set(g,Oe);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,g,C,O){g&&this._previousKeyframe.set("easing",g);const U=O&&O.params||{},z=function er(b,d){const g=new Map;let C;return b.forEach(O=>{if("*"===O){C=C||d.keys();for(let U of C)g.set(U,Oe)}else bn(O,g)}),g}(d,this._globalTimelineStyles);for(let[G,te]of z){const ce=ss(te,U,C);this._pendingStyles.set(G,ce),this._localTimelineStyles.has(G)||this._backFill.set(G,this._globalTimelineStyles.get(G)??Oe),this._updateStyle(G,ce)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,g)=>{this._currentKeyframe.set(g,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,g)=>{this._currentKeyframe.has(g)||this._currentKeyframe.set(g,d)}))}snapshotCurrentStyles(){for(let[d,g]of this._localTimelineStyles)this._pendingStyles.set(d,g),this._updateStyle(d,g)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let g in this._currentKeyframe)d.push(g);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((g,C)=>{const O=this._styleSummary.get(C);(!O||g.time>O.time)&&this._updateStyle(C,g.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,g=new Set,C=1===this._keyframes.size&&0===this.duration;let O=[];this._keyframes.forEach((G,te)=>{const ce=bn(G,new Map,this._backFill);ce.forEach((Le,qe)=>{Le===oi?d.add(qe):Le===Oe&&g.add(qe)}),C||ce.set("offset",te/this.duration),O.push(ce)});const U=d.size?os(d.values()):[],z=g.size?os(g.values()):[];if(C){const G=O[0],te=new Map(G);G.set("offset",0),te.set("offset",1),O=[G,te]}return Ai(this.element,O,U,z,this.duration,this.startTime,this.easing,!1)}}class Bs extends mr{constructor(d,g,C,O,U,z,G=!1){super(d,g,z.delay),this.keyframes=C,this.preStyleProps=O,this.postStyleProps=U,this._stretchStartingKeyframe=G,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:g,duration:C,easing:O}=this.timings;if(this._stretchStartingKeyframe&&g){const U=[],z=C+g,G=g/z,te=bn(d[0]);te.set("offset",0),U.push(te);const ce=bn(d[0]);ce.set("offset",Vs(G)),U.push(ce);const Le=d.length-1;for(let qe=1;qe<=Le;qe++){let Pt=bn(d[qe]);const Ct=Pt.get("offset");Pt.set("offset",Vs((g+Ct*C)/z)),U.push(Pt)}C=z,g=0,O="",d=U}return Ai(this.element,d,this.preStyleProps,this.postStyleProps,C,g,O,!0)}}function Vs(b,d=3){const g=Math.pow(10,d-1);return Math.round(b*g)/g}class Hs{}const po=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class go extends Hs{normalizePropertyName(d,g){return Hi(d)}normalizeStyleValue(d,g,C,O){let U="";const z=C.toString().trim();if(po.has(g)&&0!==C&&"0"!==C)if("number"==typeof C)U="px";else{const G=C.match(/^[+-]?[\d\.]+([a-z]*)$/);G&&0==G[1].length&&O.push(function dt(b,d){return new J.vHH(3005,!1)}())}return z+U}}function $i(b,d,g,C,O,U,z,G,te,ce,Le,qe,Pt){return{type:0,element:b,triggerName:d,isRemovalTransition:O,fromState:g,fromStyles:U,toState:C,toStyles:z,timelines:G,queriedElements:te,preStyleProps:ce,postStyleProps:Le,totalTime:qe,errors:Pt}}const ar={};class Cs{constructor(d,g,C){this._triggerName=d,this.ast=g,this._stateStyles=C}match(d,g,C,O){return function mo(b,d,g,C,O){return b.some(U=>U(d,g,C,O))}(this.ast.matchers,d,g,C,O)}buildStyles(d,g,C){let O=this._stateStyles.get("*");return void 0!==d&&(O=this._stateStyles.get(d?.toString())||O),O?O.buildStyles(g,C):new Map}build(d,g,C,O,U,z,G,te,ce,Le){const qe=[],Pt=this.ast.options&&this.ast.options.params||ar,ot=this.buildStyles(C,G&&G.params||ar,qe),Tt=te&&te.params||ar,Zt=this.buildStyles(O,Tt,qe),ln=new Set,An=new Map,qn=new Map,Kn="void"===O,_r={params:Fr(Tt,Pt),delay:this.ast.options?.delay},pi=Le?[]:Ri(d,g,this.ast.animation,U,z,ot,Zt,_r,ce,qe);let $n=0;if(pi.forEach(yr=>{$n=Math.max(yr.duration+yr.delay,$n)}),qe.length)return $i(g,this._triggerName,C,O,Kn,ot,Zt,[],[],An,qn,$n,qe);pi.forEach(yr=>{const Er=yr.element,Co=ir(An,Er,new Set);yr.preStyleProps.forEach(ri=>Co.add(ri));const Rs=ir(qn,Er,new Set);yr.postStyleProps.forEach(ri=>Rs.add(ri)),Er!==g&&ln.add(Er)});const ni=os(ln.values());return $i(g,this._triggerName,C,O,Kn,ot,Zt,pi,ni,An,qn,$n)}}function Fr(b,d){const g=li(d);for(const C in b)b.hasOwnProperty(C)&&null!=b[C]&&(g[C]=b[C]);return g}class ia{constructor(d,g,C){this.styles=d,this.defaultParams=g,this.normalizer=C}buildStyles(d,g){const C=new Map,O=li(this.defaultParams);return Object.keys(d).forEach(U=>{const z=d[U];null!==z&&(O[U]=z)}),this.styles.styles.forEach(U=>{"string"!=typeof U&&U.forEach((z,G)=>{z&&(z=ss(z,O,g));const te=this.normalizer.normalizePropertyName(G,g);z=this.normalizer.normalizeStyleValue(G,te,z,g),C.set(G,z)})}),C}}class Xe{constructor(d,g,C){this.name=d,this.ast=g,this._normalizer=C,this.transitionFactories=[],this.states=new Map,g.states.forEach(O=>{this.states.set(O.name,new ia(O.style,O.options&&O.options.params||{},C))}),Da(this.states,"true","1"),Da(this.states,"false","0"),g.transitions.forEach(O=>{this.transitionFactories.push(new Cs(d,O,this.states))}),this.fallbackTransition=function Ss(b,d,g){return new Cs(b,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,G)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,g,C,O){return this.transitionFactories.find(z=>z.match(d,g,C,O))||null}matchStyles(d,g,C){return this.fallbackTransition.buildStyles(d,g,C)}}function Da(b,d,g){b.has(d)?b.has(g)||b.set(g,b.get(d)):b.has(g)&&b.set(d,b.get(g))}const wa=new hi;class Ts{constructor(d,g,C){this.bodyNode=d,this._driver=g,this._normalizer=C,this._animations=new Map,this._playersById=new Map,this.players=[]}register(d,g){const C=[],O=[],U=Ii(this._driver,g,C,O);if(C.length)throw function Xn(b){return new J.vHH(3503,!1)}();this._animations.set(d,U)}_buildPlayer(d,g,C){const O=d.element,U=ht(0,this._normalizer,0,d.keyframes,g,C);return this._driver.animate(O,U,d.duration,d.delay,d.easing,[],!0)}create(d,g,C={}){const O=[],U=this._animations.get(d);let z;const G=new Map;if(U?(z=Ri(this._driver,g,U,Nr,Ge,new Map,new Map,C,wa,O),z.forEach(Le=>{const qe=ir(G,Le.element,new Map);Le.postStyleProps.forEach(Pt=>qe.set(Pt,null))})):(O.push(function At(){return new J.vHH(3300,!1)}()),z=[]),O.length)throw function fn(b){return new J.vHH(3504,!1)}();G.forEach((Le,qe)=>{Le.forEach((Pt,Ct)=>{Le.set(Ct,this._driver.computeStyle(qe,Ct,Oe))})});const ce=Rt(z.map(Le=>{const qe=G.get(Le.element);return this._buildPlayer(Le,new Map,qe)}));return this._playersById.set(d,ce),ce.onDestroy(()=>this.destroy(d)),this.players.push(ce),ce}destroy(d){const g=this._getPlayer(d);g.destroy(),this._playersById.delete(d);const C=this.players.indexOf(g);C>=0&&this.players.splice(C,1)}_getPlayer(d){const g=this._playersById.get(d);if(!g)throw function no(b){return new J.vHH(3301,!1)}();return g}listen(d,g,C,O){const U=es(g,"","","");return $r(this._getPlayer(d),C,U,O),()=>{}}command(d,g,C,O){if("register"==C)return void this.register(d,O[0]);if("create"==C)return void this.create(d,g,O[0]||{});const U=this._getPlayer(d);switch(C){case"play":U.play();break;case"pause":U.pause();break;case"reset":U.reset();break;case"restart":U.restart();break;case"finish":U.finish();break;case"init":U.init();break;case"setPosition":U.setPosition(parseFloat(O[0]));break;case"destroy":this.destroy(d)}}}const bs="ng-animate-queued",js="ng-animate-disabled",Vo=[],Ho={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},lr="__ng_removed";class Wr{get params(){return this.options.params}constructor(d,g=""){this.namespaceId=g;const C=d&&d.hasOwnProperty("value");if(this.value=function cr(b){return b??null}(C?d.value:d),C){const U=li(d);delete U.value,this.options=U}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const g=d.params;if(g){const C=this.options.params;Object.keys(g).forEach(O=>{null==C[O]&&(C[O]=g[O])})}}}const kr="void",$s=new Wr(kr);class ds{constructor(d,g,C){this.id=d,this.hostElement=g,this._engine=C,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,Ur(g,this._hostClassName)}listen(d,g,C,O){if(!this._triggers.has(g))throw function ai(b,d){return new J.vHH(3302,!1)}();if(null==C||0==C.length)throw function Ji(b){return new J.vHH(3303,!1)}();if(!function oa(b){return"start"==b||"done"==b}(C))throw function Ci(b,d){return new J.vHH(3400,!1)}();const U=ir(this._elementListeners,d,[]),z={name:g,phase:C,callback:O};U.push(z);const G=ir(this._engine.statesByElement,d,new Map);return G.has(g)||(Ur(d,_t),Ur(d,_t+"-"+g),G.set(g,$s)),()=>{this._engine.afterFlush(()=>{const te=U.indexOf(z);te>=0&&U.splice(te,1),this._triggers.has(g)||G.delete(g)})}}register(d,g){return!this._triggers.has(d)&&(this._triggers.set(d,g),!0)}_getTrigger(d){const g=this._triggers.get(d);if(!g)throw function re(b){return new J.vHH(3401,!1)}();return g}trigger(d,g,C,O=!0){const U=this._getTrigger(g),z=new fs(this.id,g,d);let G=this._engine.statesByElement.get(d);G||(Ur(d,_t),Ur(d,_t+"-"+g),this._engine.statesByElement.set(d,G=new Map));let te=G.get(g);const ce=new Wr(C,this.id);if(!(C&&C.hasOwnProperty("value"))&&te&&ce.absorbOptions(te.options),G.set(g,ce),te||(te=$s),ce.value!==kr&&te.value===ce.value){if(!function $o(b,d){const g=Object.keys(b),C=Object.keys(d);if(g.length!=C.length)return!1;for(let O=0;O<g.length;O++){const U=g[O];if(!d.hasOwnProperty(U)||b[U]!==d[U])return!1}return!0}(te.params,ce.params)){const Tt=[],Zt=U.matchStyles(te.value,te.params,Tt),ln=U.matchStyles(ce.value,ce.params,Tt);Tt.length?this._engine.reportError(Tt):this._engine.afterFlush(()=>{sr(d,Zt),xn(d,ln)})}return}const Pt=ir(this._engine.playersByElement,d,[]);Pt.forEach(Tt=>{Tt.namespaceId==this.id&&Tt.triggerName==g&&Tt.queued&&Tt.destroy()});let Ct=U.matchTransition(te.value,ce.value,d,ce.params),ot=!1;if(!Ct){if(!O)return;Ct=U.fallbackTransition,ot=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:g,transition:Ct,fromState:te,toState:ce,player:z,isFallbackTransition:ot}),ot||(Ur(d,bs),z.onStart(()=>{Ms(d,bs)})),z.onDone(()=>{let Tt=this.players.indexOf(z);Tt>=0&&this.players.splice(Tt,1);const Zt=this._engine.playersByElement.get(d);if(Zt){let ln=Zt.indexOf(z);ln>=0&&Zt.splice(ln,1)}}),this.players.push(z),Pt.push(z),z}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(g=>g.delete(d)),this._elementListeners.forEach((g,C)=>{this._elementListeners.set(C,g.filter(O=>O.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const g=this._engine.playersByElement.get(d);g&&(g.forEach(C=>C.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,g){const C=this._engine.driver.query(d,pn,!0);C.forEach(O=>{if(O[lr])return;const U=this._engine.fetchNamespacesByElement(O);U.size?U.forEach(z=>z.triggerLeaveAnimation(O,g,!1,!0)):this.clearElementCache(O)}),this._engine.afterFlushAnimationsDone(()=>C.forEach(O=>this.clearElementCache(O)))}triggerLeaveAnimation(d,g,C,O){const U=this._engine.statesByElement.get(d),z=new Map;if(U){const G=[];if(U.forEach((te,ce)=>{if(z.set(ce,te.value),this._triggers.has(ce)){const Le=this.trigger(d,ce,kr,O);Le&&G.push(Le)}}),G.length)return this._engine.markElementAsRemoved(this.id,d,!0,g,z),C&&Rt(G).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const g=this._elementListeners.get(d),C=this._engine.statesByElement.get(d);if(g&&C){const O=new Set;g.forEach(U=>{const z=U.name;if(O.has(z))return;O.add(z);const te=this._triggers.get(z).fallbackTransition,ce=C.get(z)||$s,Le=new Wr(kr),qe=new fs(this.id,z,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:z,transition:te,fromState:ce,toState:Le,player:qe,isFallbackTransition:!0})})}}removeNode(d,g){const C=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,g),this.triggerLeaveAnimation(d,g,!0))return;let O=!1;if(C.totalAnimations){const U=C.players.length?C.playersByQueriedElement.get(d):[];if(U&&U.length)O=!0;else{let z=d;for(;z=z.parentNode;)if(C.statesByElement.get(z)){O=!0;break}}}if(this.prepareLeaveAnimationListeners(d),O)C.markElementAsRemoved(this.id,d,!1,g);else{const U=d[lr];(!U||U===Ho)&&(C.afterFlush(()=>this.clearElementCache(d)),C.destroyInnerAnimations(d),C._onRemovalComplete(d,g))}}insertNode(d,g){Ur(d,this._hostClassName)}drainQueuedTransitions(d){const g=[];return this._queue.forEach(C=>{const O=C.player;if(O.destroyed)return;const U=C.element,z=this._elementListeners.get(U);z&&z.forEach(G=>{if(G.name==C.triggerName){const te=es(U,C.triggerName,C.fromState.value,C.toState.value);te._data=d,$r(C.player,G.phase,te,G.callback)}}),O.markedForDestroy?this._engine.afterFlush(()=>{O.destroy()}):g.push(C)}),this._queue=[],g.sort((C,O)=>{const U=C.transition.ast.depCount,z=O.transition.ast.depCount;return 0==U||0==z?U-z:this._engine.driver.containsElement(C.element,O.element)?1:-1})}destroy(d){this.players.forEach(g=>g.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}elementContainsData(d){let g=!1;return this._elementListeners.has(d)&&(g=!0),g=!!this._queue.find(C=>C.element===d)||g,g}}class hs{_onRemovalComplete(d,g){this.onRemovalComplete(d,g)}constructor(d,g,C){this.bodyNode=d,this.driver=g,this._normalizer=C,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(O,U)=>{}}get queuedPlayers(){const d=[];return this._namespaceList.forEach(g=>{g.players.forEach(C=>{C.queued&&d.push(C)})}),d}createNamespace(d,g){const C=new ds(d,g,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,g)?this._balanceNamespaceList(C,g):(this.newHostElements.set(g,C),this.collectEnterElement(g)),this._namespaceLookup[d]=C}_balanceNamespaceList(d,g){const C=this._namespaceList,O=this.namespacesByHostElement;if(C.length-1>=0){let z=!1,G=this.driver.getParentElement(g);for(;G;){const te=O.get(G);if(te){const ce=C.indexOf(te);C.splice(ce+1,0,d),z=!0;break}G=this.driver.getParentElement(G)}z||C.unshift(d)}else C.push(d);return O.set(g,d),d}register(d,g){let C=this._namespaceLookup[d];return C||(C=this.createNamespace(d,g)),C}registerTrigger(d,g,C){let O=this._namespaceLookup[d];O&&O.register(g,C)&&this.totalAnimations++}destroy(d,g){if(!d)return;const C=this._fetchNamespace(d);this.afterFlush(()=>{this.namespacesByHostElement.delete(C.hostElement),delete this._namespaceLookup[d];const O=this._namespaceList.indexOf(C);O>=0&&this._namespaceList.splice(O,1)}),this.afterFlushAnimationsDone(()=>C.destroy(g))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const g=new Set,C=this.statesByElement.get(d);if(C)for(let O of C.values())if(O.namespaceId){const U=this._fetchNamespace(O.namespaceId);U&&g.add(U)}return g}trigger(d,g,C,O){if(Tr(g)){const U=this._fetchNamespace(d);if(U)return U.trigger(g,C,O),!0}return!1}insertNode(d,g,C,O){if(!Tr(g))return;const U=g[lr];if(U&&U.setForRemoval){U.setForRemoval=!1,U.setForMove=!0;const z=this.collectedLeaveElements.indexOf(g);z>=0&&this.collectedLeaveElements.splice(z,1)}if(d){const z=this._fetchNamespace(d);z&&z.insertNode(g,C)}O&&this.collectEnterElement(g)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,g){g?this.disabledNodes.has(d)||(this.disabledNodes.add(d),Ur(d,js)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),Ms(d,js))}removeNode(d,g,C,O){if(Tr(g)){const U=d?this._fetchNamespace(d):null;if(U?U.removeNode(g,O):this.markElementAsRemoved(d,g,!1,O),C){const z=this.namespacesByHostElement.get(g);z&&z.id!==d&&z.removeNode(g,O)}}else this._onRemovalComplete(g,O)}markElementAsRemoved(d,g,C,O,U){this.collectedLeaveElements.push(g),g[lr]={namespaceId:d,setForRemoval:O,hasAnimation:C,removedBeforeQueried:!1,previousTriggersValues:U}}listen(d,g,C,O,U){return Tr(g)?this._fetchNamespace(d).listen(g,C,O,U):()=>{}}_buildInstruction(d,g,C,O,U){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,C,O,d.fromState.options,d.toState.options,g,U)}destroyInnerAnimations(d){let g=this.driver.query(d,pn,!0);g.forEach(C=>this.destroyActiveAnimationsForElement(C)),0!=this.playersByQueriedElement.size&&(g=this.driver.query(d,Sr,!0),g.forEach(C=>this.finishActiveQueriedAnimationOnElement(C)))}destroyActiveAnimationsForElement(d){const g=this.playersByElement.get(d);g&&g.forEach(C=>{C.queued?C.markedForDestroy=!0:C.destroy()})}finishActiveQueriedAnimationOnElement(d){const g=this.playersByQueriedElement.get(d);g&&g.forEach(C=>C.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return Rt(this.players).onDone(()=>d());d()})}processLeaveNode(d){const g=d[lr];if(g&&g.setForRemoval){if(d[lr]=Ho,g.namespaceId){this.destroyInnerAnimations(d);const C=this._fetchNamespace(g.namespaceId);C&&C.clearElementCache(d)}this._onRemovalComplete(d,g.setForRemoval)}d.classList?.contains(js)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(C=>{this.markElementAsDisabled(C,!1)})}flush(d=-1){let g=[];if(this.newHostElements.size&&(this.newHostElements.forEach((C,O)=>this._balanceNamespaceList(C,O)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let C=0;C<this.collectedEnterElements.length;C++)Ur(this.collectedEnterElements[C],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const C=[];try{g=this._flushAnimations(C,d)}finally{for(let O=0;O<C.length;O++)C[O]()}}else for(let C=0;C<this.collectedLeaveElements.length;C++)this.processLeaveNode(this.collectedLeaveElements[C]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(C=>C()),this._flushFns=[],this._whenQuietFns.length){const C=this._whenQuietFns;this._whenQuietFns=[],g.length?Rt(g).onDone(()=>{C.forEach(O=>O())}):C.forEach(O=>O())}}reportError(d){throw function X(b){return new J.vHH(3402,!1)}()}_flushAnimations(d,g){const C=new hi,O=[],U=new Map,z=[],G=new Map,te=new Map,ce=new Map,Le=new Set;this.disabledNodes.forEach(it=>{Le.add(it);const ft=this.driver.query(it,".ng-animate-queued",!0);for(let tt=0;tt<ft.length;tt++)Le.add(ft[tt])});const qe=this.bodyNode,Pt=Array.from(this.statesByElement.keys()),Ct=aa(Pt,this.collectedEnterElements),ot=new Map;let Tt=0;Ct.forEach((it,ft)=>{const tt=Nr+Tt++;ot.set(ft,tt),it.forEach(Nt=>Ur(Nt,tt))});const Zt=[],ln=new Set,An=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const ft=this.collectedLeaveElements[it],tt=ft[lr];tt&&tt.setForRemoval&&(Zt.push(ft),ln.add(ft),tt.hasAnimation?this.driver.query(ft,".ng-star-inserted",!0).forEach(Nt=>ln.add(Nt)):An.add(ft))}const qn=new Map,Kn=aa(Pt,Array.from(ln));Kn.forEach((it,ft)=>{const tt=Ge+Tt++;qn.set(ft,tt),it.forEach(Nt=>Ur(Nt,tt))}),d.push(()=>{Ct.forEach((it,ft)=>{const tt=ot.get(ft);it.forEach(Nt=>Ms(Nt,tt))}),Kn.forEach((it,ft)=>{const tt=qn.get(ft);it.forEach(Nt=>Ms(Nt,tt))}),Zt.forEach(it=>{this.processLeaveNode(it)})});const _r=[],pi=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(g).forEach(tt=>{const Nt=tt.player,Gn=tt.element;if(_r.push(Nt),this.collectedEnterElements.length){const _e=Gn[lr];if(_e&&_e.setForMove){if(_e.previousTriggersValues&&_e.previousTriggersValues.has(tt.triggerName)){const rr=_e.previousTriggersValues.get(tt.triggerName),an=this.statesByElement.get(tt.element);if(an&&an.has(tt.triggerName)){const Yr=an.get(tt.triggerName);Yr.value=rr,an.set(tt.triggerName,Yr)}}return void Nt.destroy()}}const ii=!qe||!this.driver.containsElement(qe,Gn),gn=qn.get(Gn),Ln=ot.get(Gn),Vn=this._buildInstruction(tt,C,Ln,gn,ii);if(Vn.errors&&Vn.errors.length)return void pi.push(Vn);if(ii)return Nt.onStart(()=>sr(Gn,Vn.fromStyles)),Nt.onDestroy(()=>xn(Gn,Vn.toStyles)),void O.push(Nt);if(tt.isFallbackTransition)return Nt.onStart(()=>sr(Gn,Vn.fromStyles)),Nt.onDestroy(()=>xn(Gn,Vn.toStyles)),void O.push(Nt);const Ca=[];Vn.timelines.forEach(_e=>{_e.stretchStartingKeyframe=!0,this.disabledNodes.has(_e.element)||Ca.push(_e)}),Vn.timelines=Ca,C.append(Gn,Vn.timelines),z.push({instruction:Vn,player:Nt,element:Gn}),Vn.queriedElements.forEach(_e=>ir(G,_e,[]).push(Nt)),Vn.preStyleProps.forEach((_e,rr)=>{if(_e.size){let an=te.get(rr);an||te.set(rr,an=new Set),_e.forEach((Yr,Hn)=>an.add(Hn))}}),Vn.postStyleProps.forEach((_e,rr)=>{let an=ce.get(rr);an||ce.set(rr,an=new Set),_e.forEach((Yr,Hn)=>an.add(Hn))})});if(pi.length){const it=[];pi.forEach(ft=>{it.push(function ie(b,d){return new J.vHH(3505,!1)}())}),_r.forEach(ft=>ft.destroy()),this.reportError(it)}const $n=new Map,ni=new Map;z.forEach(it=>{const ft=it.element;C.has(ft)&&(ni.set(ft,ft),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,$n))}),O.forEach(it=>{const ft=it.element;this._getPreviousPlayers(ft,!1,it.namespaceId,it.triggerName,null).forEach(Nt=>{ir($n,ft,[]).push(Nt),Nt.destroy()})});const yr=Zt.filter(it=>gs(it,te,ce)),Er=new Map;fi(Er,this.driver,An,ce,Oe).forEach(it=>{gs(it,te,ce)&&yr.push(it)});const Rs=new Map;Ct.forEach((it,ft)=>{fi(Rs,this.driver,new Set(it),te,oi)}),yr.forEach(it=>{const ft=Er.get(it),tt=Rs.get(it);Er.set(it,new Map([...Array.from(ft?.entries()??[]),...Array.from(tt?.entries()??[])]))});const ri=[],Gs=[],Yo={};z.forEach(it=>{const{element:ft,player:tt,instruction:Nt}=it;if(C.has(ft)){if(Le.has(ft))return tt.onDestroy(()=>xn(ft,Nt.toStyles)),tt.disabled=!0,tt.overrideTotalTime(Nt.totalTime),void O.push(tt);let Gn=Yo;if(ni.size>1){let gn=ft;const Ln=[];for(;gn=gn.parentNode;){const Vn=ni.get(gn);if(Vn){Gn=Vn;break}Ln.push(gn)}Ln.forEach(Vn=>ni.set(Vn,Gn))}const ii=this._buildAnimation(tt.namespaceId,Nt,$n,U,Rs,Er);if(tt.setRealPlayer(ii),Gn===Yo)ri.push(tt);else{const gn=this.playersByElement.get(Gn);gn&&gn.length&&(tt.parentPlayer=Rt(gn)),O.push(tt)}}else sr(ft,Nt.fromStyles),tt.onDestroy(()=>xn(ft,Nt.toStyles)),Gs.push(tt),Le.has(ft)&&O.push(tt)}),Gs.forEach(it=>{const ft=U.get(it.element);if(ft&&ft.length){const tt=Rt(ft);it.setRealPlayer(tt)}}),O.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<Zt.length;it++){const ft=Zt[it],tt=ft[lr];if(Ms(ft,Ge),tt&&tt.hasAnimation)continue;let Nt=[];if(G.size){let ii=G.get(ft);ii&&ii.length&&Nt.push(...ii);let gn=this.driver.query(ft,Sr,!0);for(let Ln=0;Ln<gn.length;Ln++){let Vn=G.get(gn[Ln]);Vn&&Vn.length&&Nt.push(...Vn)}}const Gn=Nt.filter(ii=>!ii.destroyed);Gn.length?la(this,ft,Gn):this.processLeaveNode(ft)}return Zt.length=0,ri.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const ft=this.players.indexOf(it);this.players.splice(ft,1)}),it.play()}),ri}elementContainsData(d,g){let C=!1;const O=g[lr];return O&&O.setForRemoval&&(C=!0),this.playersByElement.has(g)&&(C=!0),this.playersByQueriedElement.has(g)&&(C=!0),this.statesByElement.has(g)&&(C=!0),this._fetchNamespace(d).elementContainsData(g)||C}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,g,C,O,U){let z=[];if(g){const G=this.playersByQueriedElement.get(d);G&&(z=G)}else{const G=this.playersByElement.get(d);if(G){const te=!U||U==kr;G.forEach(ce=>{ce.queued||!te&&ce.triggerName!=O||z.push(ce)})}}return(C||O)&&(z=z.filter(G=>!(C&&C!=G.namespaceId||O&&O!=G.triggerName))),z}_beforeAnimationBuild(d,g,C){const U=g.element,z=g.isRemovalTransition?void 0:d,G=g.isRemovalTransition?void 0:g.triggerName;for(const te of g.timelines){const ce=te.element,Le=ce!==U,qe=ir(C,ce,[]);this._getPreviousPlayers(ce,Le,z,G,g.toState).forEach(Ct=>{const ot=Ct.getRealPlayer();ot.beforeDestroy&&ot.beforeDestroy(),Ct.destroy(),qe.push(Ct)})}sr(U,g.fromStyles)}_buildAnimation(d,g,C,O,U,z){const G=g.triggerName,te=g.element,ce=[],Le=new Set,qe=new Set,Pt=g.timelines.map(ot=>{const Tt=ot.element;Le.add(Tt);const Zt=Tt[lr];if(Zt&&Zt.removedBeforeQueried)return new jr(ot.duration,ot.delay);const ln=Tt!==te,An=function zo(b){const d=[];return Is(b,d),d}((C.get(Tt)||Vo).map($n=>$n.getRealPlayer())).filter($n=>!!$n.element&&$n.element===Tt),qn=U.get(Tt),Kn=z.get(Tt),_r=ht(0,this._normalizer,0,ot.keyframes,qn,Kn),pi=this._buildPlayer(ot,_r,An);if(ot.subTimeline&&O&&qe.add(Tt),ln){const $n=new fs(d,G,Tt);$n.setRealPlayer(pi),ce.push($n)}return pi});ce.forEach(ot=>{ir(this.playersByQueriedElement,ot.element,[]).push(ot),ot.onDone(()=>function jo(b,d,g){let C=b.get(d);if(C){if(C.length){const O=C.indexOf(g);C.splice(O,1)}0==C.length&&b.delete(d)}return C}(this.playersByQueriedElement,ot.element,ot))}),Le.forEach(ot=>Ur(ot,pr));const Ct=Rt(Pt);return Ct.onDestroy(()=>{Le.forEach(ot=>Ms(ot,pr)),xn(te,g.toStyles)}),qe.forEach(ot=>{ir(O,ot,[]).push(Ct)}),Ct}_buildPlayer(d,g,C){return g.length>0?this.driver.animate(d.element,g,d.duration,d.delay,d.easing,C):new jr(d.duration,d.delay)}}class fs{constructor(d,g,C){this.namespaceId=d,this.triggerName=g,this.element=C,this._player=new jr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((g,C)=>{g.forEach(O=>$r(d,C,void 0,O))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const g=this._player;g.triggerCallback&&d.onStart(()=>g.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,g){ir(this._queuedCallbacks,d,[]).push(g)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const g=this._player;g.triggerCallback&&g.triggerCallback(d)}}function Tr(b){return b&&1===b.nodeType}function ps(b,d){const g=b.style.display;return b.style.display=d??"none",g}function fi(b,d,g,C,O){const U=[];g.forEach(te=>U.push(ps(te)));const z=[];C.forEach((te,ce)=>{const Le=new Map;te.forEach(qe=>{const Pt=d.computeStyle(ce,qe,O);Le.set(qe,Pt),(!Pt||0==Pt.length)&&(ce[lr]=Yn,z.push(ce))}),b.set(ce,Le)});let G=0;return g.forEach(te=>ps(te,U[G++])),z}function aa(b,d){const g=new Map;if(b.forEach(G=>g.set(G,[])),0==d.length)return g;const C=1,O=new Set(d),U=new Map;function z(G){if(!G)return C;let te=U.get(G);if(te)return te;const ce=G.parentNode;return te=g.has(ce)?ce:O.has(ce)?C:z(ce),U.set(G,te),te}return d.forEach(G=>{const te=z(G);te!==C&&g.get(te).push(G)}),g}function Ur(b,d){b.classList?.add(d)}function Ms(b,d){b.classList?.remove(d)}function la(b,d,g){Rt(g).onDone(()=>b.processLeaveNode(d))}function Is(b,d){for(let g=0;g<b.length;g++){const C=b[g];C instanceof Un?Is(C.players,d):d.push(C)}}function gs(b,d,g){const C=g.get(b);if(!C)return!1;let O=d.get(b);return O?C.forEach(U=>O.add(U)):d.set(b,C),g.delete(b),!0}class ms{constructor(d,g,C){this.bodyNode=d,this._driver=g,this._normalizer=C,this._triggerCache={},this.onRemovalComplete=(O,U)=>{},this._transitionEngine=new hs(d,g,C),this._timelineEngine=new Ts(d,g,C),this._transitionEngine.onRemovalComplete=(O,U)=>this.onRemovalComplete(O,U)}registerTrigger(d,g,C,O,U){const z=d+"-"+O;let G=this._triggerCache[z];if(!G){const te=[],ce=[],Le=Ii(this._driver,U,te,ce);if(te.length)throw function Xi(b,d){return new J.vHH(3404,!1)}();G=function vo(b,d,g){return new Xe(b,d,g)}(O,Le,this._normalizer),this._triggerCache[z]=G}this._transitionEngine.registerTrigger(g,O,G)}register(d,g){this._transitionEngine.register(d,g)}destroy(d,g){this._transitionEngine.destroy(d,g)}onInsert(d,g,C,O){this._transitionEngine.insertNode(d,g,C,O)}onRemove(d,g,C,O){this._transitionEngine.removeNode(d,g,O||!1,C)}disableAnimations(d,g){this._transitionEngine.markElementAsDisabled(d,g)}process(d,g,C,O){if("@"==C.charAt(0)){const[U,z]=Xr(C);this._timelineEngine.command(U,g,z,O)}else this._transitionEngine.trigger(d,g,C,O)}listen(d,g,C,O,U){if("@"==C.charAt(0)){const[z,G]=Xr(C);return this._timelineEngine.listen(z,g,G,U)}return this._transitionEngine.listen(d,g,C,O,U)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _o=(()=>{class b{constructor(g,C,O){this._element=g,this._startStyles=C,this._endStyles=O,this._state=0;let U=b.initialStylesByElement.get(g);U||b.initialStylesByElement.set(g,U=new Map),this._initialStyles=U}start(){this._state<1&&(this._startStyles&&xn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xn(this._element,this._initialStyles),this._endStyles&&(xn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(b.initialStylesByElement.delete(this._element),this._startStyles&&(sr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sr(this._element,this._endStyles),this._endStyles=null),xn(this._element,this._initialStyles),this._state=3)}}return b.initialStylesByElement=new WeakMap,b})();function yo(b){let d=null;return b.forEach((g,C)=>{(function ca(b){return"display"===b||"position"===b})(C)&&(d=d||new Map,d.set(C,g))}),d}class As{constructor(d,g,C,O){this.element=d,this.keyframes=g,this.options=C,this._specialStyles=O,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=C.duration,this._delay=C.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const g=[];return d.forEach(C=>{g.push(Object.fromEntries(C))}),g}_triggerWebAnimation(d,g,C){return d.animate(this._convertKeyframesToObject(g),C)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((C,O)=>{"offset"!==O&&d.set(O,this._finished?C:gr(this.element,O))}),this.currentSnapshot=d}triggerCallback(d){const g="start"===d?this._onStartFns:this._onDoneFns;g.forEach(C=>C()),g.length=0}}class Wo{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}matchesElement(d,g){return!1}containsElement(d,g){return Qt(d,g)}getParentElement(d){return io(d)}query(d,g,C){return Bn(d,g,C)}computeStyle(d,g,C){return window.getComputedStyle(d)[g]}animate(d,g,C,O,U,z=[]){const te={duration:C,delay:O,fill:0==O?"both":"forwards"};U&&(te.easing=U);const ce=new Map,Le=z.filter(Ct=>Ct instanceof As);(function ei(b,d){return 0===b||0===d})(C,O)&&Le.forEach(Ct=>{Ct.currentSnapshot.forEach((ot,Tt)=>ce.set(Tt,ot))});let qe=function oo(b){return b.length?b[0]instanceof Map?b:b.map(d=>Ot(d)):[]}(g).map(Ct=>bn(Ct));qe=function or(b,d,g){if(g.size&&d.length){let C=d[0],O=[];if(g.forEach((U,z)=>{C.has(z)||O.push(z),C.set(z,U)}),O.length)for(let U=1;U<d.length;U++){let z=d[U];O.forEach(G=>z.set(G,gr(b,G)))}}return d}(d,qe,ce);const Pt=function Go(b,d){let g=null,C=null;return Array.isArray(d)&&d.length?(g=yo(d[0]),d.length>1&&(C=yo(d[d.length-1]))):d instanceof Map&&(g=yo(d)),g||C?new _o(b,g,C):null}(d,qe);return new As(d,qe,te,Pt)}}let Eo=(()=>{class b extends ke{constructor(g,C){super(),this._nextAnimationId=0,this._renderer=g.createRenderer(C.body,{id:"0",encapsulation:J.ifc.None,styles:[],data:{animation:[]}})}build(g){const C=this._nextAnimationId.toString();this._nextAnimationId++;const O=Array.isArray(g)?Ht(g):g;return tr(this._renderer,null,C,"register",[O]),new Do(C,this._renderer)}}return b.\u0275fac=function(g){return new(g||b)(J.LFG(J.FYo),J.LFG(We.K0))},b.\u0275prov=J.Yz7({token:b,factory:b.\u0275fac}),b})();class Do extends Ce{constructor(d,g){super(),this._id=d,this._renderer=g}create(d,g){return new wo(this._id,d,g||{},this._renderer)}}class wo{constructor(d,g,C,O){this.id=d,this.element=g,this._renderer=O,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",C)}_listen(d,g){return this._renderer.listen(this.element,`@@${this.id}:${d}`,g)}_command(d,...g){return tr(this._renderer,this.element,this.id,d,g)}onDone(d){this._listen("done",d)}onStart(d){this._listen("start",d)}onDestroy(d){this._listen("destroy",d)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(d){this._command("setPosition",d)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tr(b,d,g,C,O){return b.setProperty(d,`@@${g}:${C}`,O)}const wn="@.disabled";let E=(()=>{class b{constructor(g,C,O){this.delegate=g,this.engine=C,this._zone=O,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),C.onRemovalComplete=(U,z)=>{const G=z?.parentNode(U);G&&z.removeChild(G,U)}}createRenderer(g,C){const U=this.delegate.createRenderer(g,C);if(!(g&&C&&C.data&&C.data.animation)){let Le=this._rendererCache.get(U);return Le||(Le=new A("",U,this.engine,()=>this._rendererCache.delete(U)),this._rendererCache.set(U,Le)),Le}const z=C.id,G=C.id+"-"+this._currentId;this._currentId++,this.engine.register(G,g);const te=Le=>{Array.isArray(Le)?Le.forEach(te):this.engine.registerTrigger(z,G,g,Le.name,Le)};return C.data.animation.forEach(te),new w(this,G,U,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(g,C,O){g>=0&&g<this._microtaskId?this._zone.run(()=>C(O)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(U=>{const[z,G]=U;z(G)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([C,O]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return b.\u0275fac=function(g){return new(g||b)(J.LFG(J.FYo),J.LFG(ms),J.LFG(J.R0b))},b.\u0275prov=J.Yz7({token:b,factory:b.\u0275fac}),b})();class A{constructor(d,g,C,O){this.namespaceId=d,this.delegate=g,this.engine=C,this._onDestroy=O,this.destroyNode=this.delegate.destroyNode?U=>g.destroyNode(U):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(d,g){return this.delegate.createElement(d,g)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,g){this.delegate.appendChild(d,g),this.engine.onInsert(this.namespaceId,g,d,!1)}insertBefore(d,g,C,O=!0){this.delegate.insertBefore(d,g,C),this.engine.onInsert(this.namespaceId,g,d,O)}removeChild(d,g,C){this.engine.onRemove(this.namespaceId,g,this.delegate,C)}selectRootElement(d,g){return this.delegate.selectRootElement(d,g)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,g,C,O){this.delegate.setAttribute(d,g,C,O)}removeAttribute(d,g,C){this.delegate.removeAttribute(d,g,C)}addClass(d,g){this.delegate.addClass(d,g)}removeClass(d,g){this.delegate.removeClass(d,g)}setStyle(d,g,C,O){this.delegate.setStyle(d,g,C,O)}removeStyle(d,g,C){this.delegate.removeStyle(d,g,C)}setProperty(d,g,C){"@"==g.charAt(0)&&g==wn?this.disableAnimations(d,!!C):this.delegate.setProperty(d,g,C)}setValue(d,g){this.delegate.setValue(d,g)}listen(d,g,C){return this.delegate.listen(d,g,C)}disableAnimations(d,g){this.engine.disableAnimations(d,g)}}class w extends A{constructor(d,g,C,O,U){super(g,C,O,U),this.factory=d,this.namespaceId=g}setProperty(d,g,C){"@"==g.charAt(0)?"."==g.charAt(1)&&g==wn?this.disableAnimations(d,C=void 0===C||!!C):this.engine.process(this.namespaceId,d,g.slice(1),C):this.delegate.setProperty(d,g,C)}listen(d,g,C){if("@"==g.charAt(0)){const O=function L(b){switch(b){case"body":return document.body;case"document":return document;case"window":return window;default:return b}}(d);let U=g.slice(1),z="";return"@"!=U.charAt(0)&&([U,z]=function j(b){const d=b.indexOf(".");return[b.substring(0,d),b.slice(d+1)]}(U)),this.engine.listen(this.namespaceId,O,U,z,G=>{this.factory.scheduleListenerCallback(G._data||-1,C,G)})}return this.delegate.listen(d,g,C)}}const Yt=[{provide:ke,useClass:Eo},{provide:Hs,useFactory:function ge(){return new go}},{provide:ms,useClass:(()=>{class b extends ms{constructor(g,C,O,U){super(g.body,C,O)}ngOnDestroy(){this.flush()}}return b.\u0275fac=function(g){return new(g||b)(J.LFG(We.K0),J.LFG(Pn),J.LFG(Hs),J.LFG(J.z2F))},b.\u0275prov=J.Yz7({token:b,factory:b.\u0275fac}),b})()},{provide:J.FYo,useFactory:function Je(b,d,g){return new E(b,d,g)},deps:[R.se,ms,J.R0b]}],qt=[{provide:Pn,useFactory:()=>new Wo},{provide:J.QbO,useValue:"BrowserAnimations"},...Yt],Jt=[{provide:Pn,useClass:Si},{provide:J.QbO,useValue:"NoopAnimations"},...Yt];let $t=(()=>{class b{static withConfig(g){return{ngModule:b,providers:g.disableAnimations?Jt:qt}}}return b.\u0275fac=function(g){return new(g||b)},b.\u0275mod=J.oAB({type:b}),b.\u0275inj=J.cJS({providers:qt,imports:[R.b2]}),b})(),Gi=(()=>{class b{}return b.\u0275fac=function(g){return new(g||b)},b.\u0275mod=J.oAB({type:b,bootstrap:[De]}),b.\u0275inj=J.cJS({imports:[R.b2,Se,$t,he]}),b})();R.q6().bootstrapModule(Gi).catch(b=>console.error(b))},751:(Vt,He,Y)=>{Y.d(He,{y:()=>ut});var R=Y(930),Q=Y(727),J=Y(822),ue=Y(635),Se=Y(416),Ue=Y(576),We=Y(806);let ut=(()=>{class ze{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const gt=new ze;return gt.source=this,gt.operator=Pe,gt}subscribe(Pe,gt,st){const zt=function ye(ze){return ze&&ze instanceof R.Lv||function we(ze){return ze&&(0,Ue.m)(ze.next)&&(0,Ue.m)(ze.error)&&(0,Ue.m)(ze.complete)}(ze)&&(0,Q.Nn)(ze)}(Pe)?Pe:new R.Hp(Pe,gt,st);return(0,We.x)(()=>{const{operator:Gt,source:Ut}=this;zt.add(Gt?Gt.call(zt,Ut):Ut?this._subscribe(zt):this._trySubscribe(zt))}),zt}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(gt){Pe.error(gt)}}forEach(Pe,gt){return new(gt=Qe(gt))((st,zt)=>{const Gt=new R.Hp({next:Ut=>{try{Pe(Ut)}catch(Ke){zt(Ke),Gt.unsubscribe()}},error:zt,complete:st});this.subscribe(Gt)})}_subscribe(Pe){var gt;return null===(gt=this.source)||void 0===gt?void 0:gt.subscribe(Pe)}[J.L](){return this}pipe(...Pe){return(0,ue.U)(Pe)(this)}toPromise(Pe){return new(Pe=Qe(Pe))((gt,st)=>{let zt;this.subscribe(Gt=>zt=Gt,Gt=>st(Gt),()=>gt(zt))})}}return ze.create=bt=>new ze(bt),ze})();function Qe(ze){var bt;return null!==(bt=ze??Se.v.Promise)&&void 0!==bt?bt:Promise}},579:(Vt,He,Y)=>{Y.d(He,{x:()=>We});var R=Y(751),Q=Y(727);const ue=(0,Y(888).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=Y(737),Ue=Y(806);let We=(()=>{class Qe extends R.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const ze=new ut(this,this);return ze.operator=ye,ze}_throwIfClosed(){if(this.closed)throw new ue}next(ye){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ze of this.currentObservers)ze.next(ye)}})}error(ye){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:ze}=this;for(;ze.length;)ze.shift().error(ye)}})}complete(){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:ze,isStopped:bt,observers:Pe}=this;return ze||bt?Q.Lc:(this.currentObservers=null,Pe.push(ye),new Q.w0(()=>{this.currentObservers=null,(0,Se.P)(Pe,ye)}))}_checkFinalizedStatuses(ye){const{hasError:ze,thrownError:bt,isStopped:Pe}=this;ze?ye.error(bt):Pe&&ye.complete()}asObservable(){const ye=new R.y;return ye.source=this,ye}}return Qe.create=(we,ye)=>new ut(we,ye),Qe})();class ut extends We{constructor(we,ye){super(),this.destination=we,this.source=ye}next(we){var ye,ze;null===(ze=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===ze||ze.call(ye,we)}error(we){var ye,ze;null===(ze=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===ze||ze.call(ye,we)}complete(){var we,ye;null===(ye=null===(we=this.destination)||void 0===we?void 0:we.complete)||void 0===ye||ye.call(we)}_subscribe(we){var ye,ze;return null!==(ze=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(we))&&void 0!==ze?ze:Q.Lc}}},930:(Vt,He,Y)=>{Y.d(He,{Hp:()=>st,Lv:()=>ze});var R=Y(576),Q=Y(727),J=Y(416),ue=Y(849),Se=Y(32);const Ue=Qe("C",void 0,void 0);function Qe(Ye,xe,mt){return{kind:Ye,value:xe,error:mt}}var we=Y(410),ye=Y(806);class ze extends Q.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,Q.Nn)(xe)&&xe.add(this)):this.destination=Ke}static create(xe,mt,Wt){return new st(xe,mt,Wt)}next(xe){this.isStopped?Ut(function ut(Ye){return Qe("N",Ye,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?Ut(function We(Ye){return Qe("E",void 0,Ye)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?Ut(Ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const bt=Function.prototype.bind;function Pe(Ye,xe){return bt.call(Ye,xe)}class gt{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:mt}=this;if(mt.next)try{mt.next(xe)}catch(Wt){zt(Wt)}}error(xe){const{partialObserver:mt}=this;if(mt.error)try{mt.error(xe)}catch(Wt){zt(Wt)}else zt(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(mt){zt(mt)}}}class st extends ze{constructor(xe,mt,Wt){let Ee;if(super(),(0,R.m)(xe)||!xe)Ee={next:xe??void 0,error:mt??void 0,complete:Wt??void 0};else{let je;this&&J.v.useDeprecatedNextContext?(je=Object.create(xe),je.unsubscribe=()=>this.unsubscribe(),Ee={next:xe.next&&Pe(xe.next,je),error:xe.error&&Pe(xe.error,je),complete:xe.complete&&Pe(xe.complete,je)}):Ee=xe}this.destination=new gt(Ee)}}function zt(Ye){J.v.useDeprecatedSynchronousErrorHandling?(0,ye.O)(Ye):(0,ue.h)(Ye)}function Ut(Ye,xe){const{onStoppedNotification:mt}=J.v;mt&&we.z.setTimeout(()=>mt(Ye,xe))}const Ke={closed:!0,next:Se.Z,error:function Gt(Ye){throw Ye},complete:Se.Z}},727:(Vt,He,Y)=>{Y.d(He,{Lc:()=>Ue,w0:()=>Se,Nn:()=>We});var R=Y(576);const J=(0,Y(888).d)(Qe=>function(ye){Qe(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((ze,bt)=>`${bt+1}) ${ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var ue=Y(737);class Se{constructor(we){this.initialTeardown=we,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let we;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const Pe of ye)Pe.remove(this);else ye.remove(this);const{initialTeardown:ze}=this;if((0,R.m)(ze))try{ze()}catch(Pe){we=Pe instanceof J?Pe.errors:[Pe]}const{_finalizers:bt}=this;if(bt){this._finalizers=null;for(const Pe of bt)try{ut(Pe)}catch(gt){we=we??[],gt instanceof J?we=[...we,...gt.errors]:we.push(gt)}}if(we)throw new J(we)}}add(we){var ye;if(we&&we!==this)if(this.closed)ut(we);else{if(we instanceof Se){if(we.closed||we._hasParent(this))return;we._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(we)}}_hasParent(we){const{_parentage:ye}=this;return ye===we||Array.isArray(ye)&&ye.includes(we)}_addParent(we){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(we),ye):ye?[ye,we]:we}_removeParent(we){const{_parentage:ye}=this;ye===we?this._parentage=null:Array.isArray(ye)&&(0,ue.P)(ye,we)}remove(we){const{_finalizers:ye}=this;ye&&(0,ue.P)(ye,we),we instanceof Se&&we._removeParent(this)}}Se.EMPTY=(()=>{const Qe=new Se;return Qe.closed=!0,Qe})();const Ue=Se.EMPTY;function We(Qe){return Qe instanceof Se||Qe&&"closed"in Qe&&(0,R.m)(Qe.remove)&&(0,R.m)(Qe.add)&&(0,R.m)(Qe.unsubscribe)}function ut(Qe){(0,R.m)(Qe)?Qe():Qe.unsubscribe()}},416:(Vt,He,Y)=>{Y.d(He,{v:()=>R});const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Vt,He,Y)=>{Y.d(He,{E:()=>Q});const Q=new(Y(751).y)(Se=>Se.complete())},76:(Vt,He,Y)=>{Y.d(He,{D:()=>Wt});var R=Y(421),Q=Y(672),J=Y(482),ue=Y(403);function Se(Ee,je=0){return(0,J.e)((Me,Ve)=>{Me.subscribe((0,ue.x)(Ve,pt=>(0,Q.f)(Ve,Ee,()=>Ve.next(pt),je),()=>(0,Q.f)(Ve,Ee,()=>Ve.complete(),je),pt=>(0,Q.f)(Ve,Ee,()=>Ve.error(pt),je)))})}function Ue(Ee,je=0){return(0,J.e)((Me,Ve)=>{Ve.add(Ee.schedule(()=>Me.subscribe(Ve),je))})}var Qe=Y(751),ye=Y(202),ze=Y(576);function Pe(Ee,je){if(!Ee)throw new Error("Iterable cannot be null");return new Qe.y(Me=>{(0,Q.f)(Me,je,()=>{const Ve=Ee[Symbol.asyncIterator]();(0,Q.f)(Me,je,()=>{Ve.next().then(pt=>{pt.done?Me.complete():Me.next(pt.value)})},0,!0)})})}var gt=Y(670),st=Y(239),zt=Y(144),Gt=Y(495),Ut=Y(206),Ke=Y(532),Ye=Y(260);function Wt(Ee,je){return je?function mt(Ee,je){if(null!=Ee){if((0,gt.c)(Ee))return function We(Ee,je){return(0,R.Xf)(Ee).pipe(Ue(je),Se(je))}(Ee,je);if((0,zt.z)(Ee))return function we(Ee,je){return new Qe.y(Me=>{let Ve=0;return je.schedule(function(){Ve===Ee.length?Me.complete():(Me.next(Ee[Ve++]),Me.closed||this.schedule())})})}(Ee,je);if((0,st.t)(Ee))return function ut(Ee,je){return(0,R.Xf)(Ee).pipe(Ue(je),Se(je))}(Ee,je);if((0,Ut.D)(Ee))return Pe(Ee,je);if((0,Gt.T)(Ee))return function bt(Ee,je){return new Qe.y(Me=>{let Ve;return(0,Q.f)(Me,je,()=>{Ve=Ee[ye.h](),(0,Q.f)(Me,je,()=>{let pt,Xt;try{({value:pt,done:Xt}=Ve.next())}catch(rt){return void Me.error(rt)}Xt?Me.complete():Me.next(pt)},0,!0)}),()=>(0,ze.m)(Ve?.return)&&Ve.return()})}(Ee,je);if((0,Ye.L)(Ee))return function xe(Ee,je){return Pe((0,Ye.Q)(Ee),je)}(Ee,je)}throw(0,Ke.z)(Ee)}(Ee,je):(0,R.Xf)(Ee)}},421:(Vt,He,Y)=>{Y.d(He,{Xf:()=>bt});var R=Y(655),Q=Y(144),J=Y(239),ue=Y(751),Se=Y(670),Ue=Y(206),We=Y(532),ut=Y(495),Qe=Y(260),we=Y(576),ye=Y(849),ze=Y(822);function bt(Ye){if(Ye instanceof ue.y)return Ye;if(null!=Ye){if((0,Se.c)(Ye))return function Pe(Ye){return new ue.y(xe=>{const mt=Ye[ze.L]();if((0,we.m)(mt.subscribe))return mt.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ye);if((0,Q.z)(Ye))return function gt(Ye){return new ue.y(xe=>{for(let mt=0;mt<Ye.length&&!xe.closed;mt++)xe.next(Ye[mt]);xe.complete()})}(Ye);if((0,J.t)(Ye))return function st(Ye){return new ue.y(xe=>{Ye.then(mt=>{xe.closed||(xe.next(mt),xe.complete())},mt=>xe.error(mt)).then(null,ye.h)})}(Ye);if((0,Ue.D)(Ye))return Gt(Ye);if((0,ut.T)(Ye))return function zt(Ye){return new ue.y(xe=>{for(const mt of Ye)if(xe.next(mt),xe.closed)return;xe.complete()})}(Ye);if((0,Qe.L)(Ye))return function Ut(Ye){return Gt((0,Qe.Q)(Ye))}(Ye)}throw(0,We.z)(Ye)}function Gt(Ye){return new ue.y(xe=>{(function Ke(Ye,xe){var mt,Wt,Ee,je;return(0,R.mG)(this,void 0,void 0,function*(){try{for(mt=(0,R.KL)(Ye);!(Wt=yield mt.next()).done;)if(xe.next(Wt.value),xe.closed)return}catch(Me){Ee={error:Me}}finally{try{Wt&&!Wt.done&&(je=mt.return)&&(yield je.call(mt))}finally{if(Ee)throw Ee.error}}xe.complete()})})(Ye,xe).catch(mt=>xe.error(mt))})}},403:(Vt,He,Y)=>{Y.d(He,{x:()=>Q});var R=Y(930);function Q(ue,Se,Ue,We,ut){return new J(ue,Se,Ue,We,ut)}class J extends R.Lv{constructor(Se,Ue,We,ut,Qe,we){super(Se),this.onFinalize=Qe,this.shouldUnsubscribe=we,this._next=Ue?function(ye){try{Ue(ye)}catch(ze){Se.error(ze)}}:super._next,this._error=ut?function(ye){try{ut(ye)}catch(ze){Se.error(ze)}finally{this.unsubscribe()}}:super._error,this._complete=We?function(){try{We()}catch(ye){Se.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ue}=this;super.unsubscribe(),!Ue&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},4:(Vt,He,Y)=>{Y.d(He,{U:()=>J});var R=Y(482),Q=Y(403);function J(ue,Se){return(0,R.e)((Ue,We)=>{let ut=0;Ue.subscribe((0,Q.x)(We,Qe=>{We.next(ue.call(Se,Qe,ut++))}))})}},189:(Vt,He,Y)=>{Y.d(He,{J:()=>J});var R=Y(577),Q=Y(671);function J(ue=1/0){return(0,R.z)(Q.y,ue)}},577:(Vt,He,Y)=>{Y.d(He,{z:()=>ut});var R=Y(4),Q=Y(421),J=Y(482),ue=Y(672),Se=Y(403),We=Y(576);function ut(Qe,we,ye=1/0){return(0,We.m)(we)?ut((ze,bt)=>(0,R.U)((Pe,gt)=>we(ze,Pe,bt,gt))((0,Q.Xf)(Qe(ze,bt))),ye):("number"==typeof we&&(ye=we),(0,J.e)((ze,bt)=>function Ue(Qe,we,ye,ze,bt,Pe,gt,st){const zt=[];let Gt=0,Ut=0,Ke=!1;const Ye=()=>{Ke&&!zt.length&&!Gt&&we.complete()},xe=Wt=>Gt<ze?mt(Wt):zt.push(Wt),mt=Wt=>{Pe&&we.next(Wt),Gt++;let Ee=!1;(0,Q.Xf)(ye(Wt,Ut++)).subscribe((0,Se.x)(we,je=>{bt?.(je),Pe?xe(je):we.next(je)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(Gt--;zt.length&&Gt<ze;){const je=zt.shift();gt?(0,ue.f)(we,gt,()=>mt(je)):mt(je)}Ye()}catch(je){we.error(je)}}))};return Qe.subscribe((0,Se.x)(we,xe,()=>{Ke=!0,Ye()})),()=>{st?.()}}(ze,bt,Qe,ye)))}},410:(Vt,He,Y)=>{Y.d(He,{z:()=>R});const R={setTimeout(Q,J,...ue){const{delegate:Se}=R;return Se?.setTimeout?Se.setTimeout(Q,J,...ue):setTimeout(Q,J,...ue)},clearTimeout(Q){const{delegate:J}=R;return(J?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},202:(Vt,He,Y)=>{Y.d(He,{h:()=>Q});const Q=function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},822:(Vt,He,Y)=>{Y.d(He,{L:()=>R});const R="function"==typeof Symbol&&Symbol.observable||"@@observable"},669:(Vt,He,Y)=>{Y.d(He,{_6:()=>Ue,jO:()=>ue,yG:()=>Se});var R=Y(576);function J(We){return We[We.length-1]}function ue(We){return(0,R.m)(J(We))?We.pop():void 0}function Se(We){return function Q(We){return We&&(0,R.m)(We.schedule)}(J(We))?We.pop():void 0}function Ue(We,ut){return"number"==typeof J(We)?We.pop():ut}},737:(Vt,He,Y)=>{function R(Q,J){if(Q){const ue=Q.indexOf(J);0<=ue&&Q.splice(ue,1)}}Y.d(He,{P:()=>R})},888:(Vt,He,Y)=>{function R(Q){const ue=Q(Se=>{Error.call(Se),Se.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}Y.d(He,{d:()=>R})},806:(Vt,He,Y)=>{Y.d(He,{O:()=>ue,x:()=>J});var R=Y(416);let Q=null;function J(Se){if(R.v.useDeprecatedSynchronousErrorHandling){const Ue=!Q;if(Ue&&(Q={errorThrown:!1,error:null}),Se(),Ue){const{errorThrown:We,error:ut}=Q;if(Q=null,We)throw ut}}else Se()}function ue(Se){R.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=Se)}},672:(Vt,He,Y)=>{function R(Q,J,ue,Se=0,Ue=!1){const We=J.schedule(function(){ue(),Ue?Q.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(Q.add(We),!Ue)return We}Y.d(He,{f:()=>R})},671:(Vt,He,Y)=>{function R(Q){return Q}Y.d(He,{y:()=>R})},144:(Vt,He,Y)=>{Y.d(He,{z:()=>R});const R=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},206:(Vt,He,Y)=>{Y.d(He,{D:()=>Q});var R=Y(576);function Q(J){return Symbol.asyncIterator&&(0,R.m)(J?.[Symbol.asyncIterator])}},576:(Vt,He,Y)=>{function R(Q){return"function"==typeof Q}Y.d(He,{m:()=>R})},670:(Vt,He,Y)=>{Y.d(He,{c:()=>J});var R=Y(822),Q=Y(576);function J(ue){return(0,Q.m)(ue[R.L])}},495:(Vt,He,Y)=>{Y.d(He,{T:()=>J});var R=Y(202),Q=Y(576);function J(ue){return(0,Q.m)(ue?.[R.h])}},239:(Vt,He,Y)=>{Y.d(He,{t:()=>Q});var R=Y(576);function Q(J){return(0,R.m)(J?.then)}},260:(Vt,He,Y)=>{Y.d(He,{L:()=>ue,Q:()=>J});var R=Y(655),Q=Y(576);function J(Se){return(0,R.FC)(this,arguments,function*(){const We=Se.getReader();try{for(;;){const{value:ut,done:Qe}=yield(0,R.qq)(We.read());if(Qe)return yield(0,R.qq)(void 0);yield yield(0,R.qq)(ut)}}finally{We.releaseLock()}})}function ue(Se){return(0,Q.m)(Se?.getReader)}},482:(Vt,He,Y)=>{Y.d(He,{A:()=>Q,e:()=>J});var R=Y(576);function Q(ue){return(0,R.m)(ue?.lift)}function J(ue){return Se=>{if(Q(Se))return Se.lift(function(Ue){try{return ue(Ue,this)}catch(We){this.error(We)}});throw new TypeError("Unable to lift unknown Observable type")}}},268:(Vt,He,Y)=>{Y.d(He,{Z:()=>ue});var R=Y(4);const{isArray:Q}=Array;function ue(Se){return(0,R.U)(Ue=>function J(Se,Ue){return Q(Ue)?Se(...Ue):Se(Ue)}(Se,Ue))}},32:(Vt,He,Y)=>{function R(){}Y.d(He,{Z:()=>R})},635:(Vt,He,Y)=>{Y.d(He,{U:()=>J,z:()=>Q});var R=Y(671);function Q(...ue){return J(ue)}function J(ue){return 0===ue.length?R.y:1===ue.length?ue[0]:function(Ue){return ue.reduce((We,ut)=>ut(We),Ue)}}},849:(Vt,He,Y)=>{Y.d(He,{h:()=>J});var R=Y(416),Q=Y(410);function J(ue){Q.z.setTimeout(()=>{const{onUnhandledError:Se}=R.v;if(!Se)throw ue;Se(ue)})}},532:(Vt,He,Y)=>{function R(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d(He,{z:()=>R})},655:(Vt,He,Y)=>{function Se(ae,de,he,De){var Oe,ke=arguments.length,Ce=ke<3?de:null===De?De=Object.getOwnPropertyDescriptor(de,he):De;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ce=Reflect.decorate(ae,de,he,De);else for(var Lt=ae.length-1;Lt>=0;Lt--)(Oe=ae[Lt])&&(Ce=(ke<3?Oe(Ce):ke>3?Oe(de,he,Ce):Oe(de,he))||Ce);return ke>3&&Ce&&Object.defineProperty(de,he,Ce),Ce}function ye(ae,de){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ae,de)}function ze(ae,de,he,De){return new(he||(he=Promise))(function(Ce,Oe){function Lt(Ht){try{Dt(De.next(Ht))}catch(Mt){Oe(Mt)}}function Tn(Ht){try{Dt(De.throw(Ht))}catch(Mt){Oe(Mt)}}function Dt(Ht){Ht.done?Ce(Ht.value):function ke(Ce){return Ce instanceof he?Ce:new he(function(Oe){Oe(Ce)})}(Ht.value).then(Lt,Tn)}Dt((De=De.apply(ae,de||[])).next())})}function Ye(ae){return this instanceof Ye?(this.v=ae,this):new Ye(ae)}function xe(ae,de,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,De=he.apply(ae,de||[]),Ce=[];return ke={},Oe("next"),Oe("throw"),Oe("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function Oe(nn){De[nn]&&(ke[nn]=function(Hr){return new Promise(function(kn,wt){Ce.push([nn,Hr,kn,wt])>1||Lt(nn,Hr)})})}function Lt(nn,Hr){try{!function Tn(nn){nn.value instanceof Ye?Promise.resolve(nn.value.v).then(Dt,Ht):Mt(Ce[0][2],nn)}(De[nn](Hr))}catch(kn){Mt(Ce[0][3],kn)}}function Dt(nn){Lt("next",nn)}function Ht(nn){Lt("throw",nn)}function Mt(nn,Hr){nn(Hr),Ce.shift(),Ce.length&&Lt(Ce[0][0],Ce[0][1])}}function Wt(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,de=ae[Symbol.asyncIterator];return de?de.call(ae):(ae=function st(ae){var de="function"==typeof Symbol&&Symbol.iterator,he=de&&ae[de],De=0;if(he)return he.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&De>=ae.length&&(ae=void 0),{value:ae&&ae[De++],done:!ae}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),he={},De("next"),De("throw"),De("return"),he[Symbol.asyncIterator]=function(){return this},he);function De(Ce){he[Ce]=ae[Ce]&&function(Oe){return new Promise(function(Lt,Tn){!function ke(Ce,Oe,Lt,Tn){Promise.resolve(Tn).then(function(Dt){Ce({value:Dt,done:Lt})},Oe)}(Lt,Tn,(Oe=ae[Ce](Oe)).done,Oe.value)})}}}Y.d(He,{FC:()=>xe,KL:()=>Wt,gn:()=>Se,mG:()=>ze,qq:()=>Ye,w6:()=>ye})},895:(Vt,He,Y)=>{Y.d(He,{Do:()=>Ut,EM:()=>ra,HT:()=>ue,JF:()=>ko,K0:()=>Ue,Mx:()=>Ui,PM:()=>Ii,S$:()=>st,V_:()=>Qe,Ye:()=>Ke,b0:()=>Gt,bD:()=>ws,ez:()=>cs,mk:()=>Bn,q:()=>J,w_:()=>Se});var R=Y(256);let Q=null;function J(){return Q}function ue(E){Q||(Q=E)}class Se{}const Ue=new R.OlP("DocumentToken");let We=(()=>{class E{historyGo(w){throw new Error("Not implemented")}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275prov=R.Yz7({token:E,factory:function(){return function ut(){return(0,R.LFG)(we)}()},providedIn:"platform"}),E})();const Qe=new R.OlP("Location Initialized");let we=(()=>{class E extends We{constructor(w){super(),this._doc=w,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(w){const L=J().getGlobalEventTarget(this._doc,"window");return L.addEventListener("popstate",w,!1),()=>L.removeEventListener("popstate",w)}onHashChange(w){const L=J().getGlobalEventTarget(this._doc,"window");return L.addEventListener("hashchange",w,!1),()=>L.removeEventListener("hashchange",w)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(w){this._location.pathname=w}pushState(w,L,j){ye()?this._history.pushState(w,L,j):this._location.hash=j}replaceState(w,L,j){ye()?this._history.replaceState(w,L,j):this._location.hash=j}forward(){this._history.forward()}back(){this._history.back()}historyGo(w=0){this._history.go(w)}getState(){return this._history.state}}return E.\u0275fac=function(w){return new(w||E)(R.LFG(Ue))},E.\u0275prov=R.Yz7({token:E,factory:function(){return function ze(){return new we((0,R.LFG)(Ue))}()},providedIn:"platform"}),E})();function ye(){return!!window.history.pushState}function bt(E,A){if(0==E.length)return A;if(0==A.length)return E;let w=0;return E.endsWith("/")&&w++,A.startsWith("/")&&w++,2==w?E+A.substring(1):1==w?E+A:E+"/"+A}function Pe(E){const A=E.match(/#|\?|$/),w=A&&A.index||E.length;return E.slice(0,w-("/"===E[w-1]?1:0))+E.slice(w)}function gt(E){return E&&"?"!==E[0]?"?"+E:E}let st=(()=>{class E{historyGo(w){throw new Error("Not implemented")}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275prov=R.Yz7({token:E,factory:function(){return(0,R.f3M)(Gt)},providedIn:"root"}),E})();const zt=new R.OlP("appBaseHref");let Gt=(()=>{class E extends st{constructor(w,L){super(),this._platformLocation=w,this._removeListenerFns=[],this._baseHref=L??this._platformLocation.getBaseHrefFromDOM()??(0,R.f3M)(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(w){this._removeListenerFns.push(this._platformLocation.onPopState(w),this._platformLocation.onHashChange(w))}getBaseHref(){return this._baseHref}prepareExternalUrl(w){return bt(this._baseHref,w)}path(w=!1){const L=this._platformLocation.pathname+gt(this._platformLocation.search),j=this._platformLocation.hash;return j&&w?`${L}${j}`:L}pushState(w,L,j,se){const ge=this.prepareExternalUrl(j+gt(se));this._platformLocation.pushState(w,L,ge)}replaceState(w,L,j,se){const ge=this.prepareExternalUrl(j+gt(se));this._platformLocation.replaceState(w,L,ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(w=0){this._platformLocation.historyGo?.(w)}}return E.\u0275fac=function(w){return new(w||E)(R.LFG(We),R.LFG(zt,8))},E.\u0275prov=R.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Ut=(()=>{class E extends st{constructor(w,L){super(),this._platformLocation=w,this._baseHref="",this._removeListenerFns=[],null!=L&&(this._baseHref=L)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(w){this._removeListenerFns.push(this._platformLocation.onPopState(w),this._platformLocation.onHashChange(w))}getBaseHref(){return this._baseHref}path(w=!1){let L=this._platformLocation.hash;return null==L&&(L="#"),L.length>0?L.substring(1):L}prepareExternalUrl(w){const L=bt(this._baseHref,w);return L.length>0?"#"+L:L}pushState(w,L,j,se){let ge=this.prepareExternalUrl(j+gt(se));0==ge.length&&(ge=this._platformLocation.pathname),this._platformLocation.pushState(w,L,ge)}replaceState(w,L,j,se){let ge=this.prepareExternalUrl(j+gt(se));0==ge.length&&(ge=this._platformLocation.pathname),this._platformLocation.replaceState(w,L,ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(w=0){this._platformLocation.historyGo?.(w)}}return E.\u0275fac=function(w){return new(w||E)(R.LFG(We),R.LFG(zt,8))},E.\u0275prov=R.Yz7({token:E,factory:E.\u0275fac}),E})(),Ke=(()=>{class E{constructor(w){this._subject=new R.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=w;const L=this._locationStrategy.getBaseHref();this._basePath=function Wt(E){if(new RegExp("^(https?:)?//").test(E)){const[,w]=E.split(/\/\/[^\/]+/);return w}return E}(Pe(mt(L))),this._locationStrategy.onPopState(j=>{this._subject.emit({url:this.path(!0),pop:!0,state:j.state,type:j.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(w=!1){return this.normalize(this._locationStrategy.path(w))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(w,L=""){return this.path()==this.normalize(w+gt(L))}normalize(w){return E.stripTrailingSlash(function xe(E,A){if(!E||!A.startsWith(E))return A;const w=A.substring(E.length);return""===w||["/",";","?","#"].includes(w[0])?w:A}(this._basePath,mt(w)))}prepareExternalUrl(w){return w&&"/"!==w[0]&&(w="/"+w),this._locationStrategy.prepareExternalUrl(w)}go(w,L="",j=null){this._locationStrategy.pushState(j,"",w,L),this._notifyUrlChangeListeners(this.prepareExternalUrl(w+gt(L)),j)}replaceState(w,L="",j=null){this._locationStrategy.replaceState(j,"",w,L),this._notifyUrlChangeListeners(this.prepareExternalUrl(w+gt(L)),j)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(w=0){this._locationStrategy.historyGo?.(w)}onUrlChange(w){return this._urlChangeListeners.push(w),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(L=>{this._notifyUrlChangeListeners(L.url,L.state)})),()=>{const L=this._urlChangeListeners.indexOf(w);this._urlChangeListeners.splice(L,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(w="",L){this._urlChangeListeners.forEach(j=>j(w,L))}subscribe(w,L,j){return this._subject.subscribe({next:w,error:L,complete:j})}}return E.normalizeQueryParams=gt,E.joinWithSlash=bt,E.stripTrailingSlash=Pe,E.\u0275fac=function(w){return new(w||E)(R.LFG(st))},E.\u0275prov=R.Yz7({token:E,factory:function(){return function Ye(){return new Ke((0,R.LFG)(st))}()},providedIn:"root"}),E})();function mt(E){return E.replace(/\/index.html$/,"")}function Ui(E,A){A=encodeURIComponent(A);for(const w of E.split(";")){const L=w.indexOf("="),[j,se]=-1==L?[w,""]:[w.slice(0,L),w.slice(L+1)];if(j.trim()===A)return decodeURIComponent(se)}return null}const ns=/\s+/,Qt=[];let Bn=(()=>{class E{constructor(w,L,j,se){this._iterableDiffers=w,this._keyValueDiffers=L,this._ngEl=j,this._renderer=se,this.initialClasses=Qt,this.stateMap=new Map}set klass(w){this.initialClasses=null!=w?w.trim().split(ns):Qt}set ngClass(w){this.rawClass="string"==typeof w?w.trim().split(ns):w}ngDoCheck(){for(const L of this.initialClasses)this._updateState(L,!0);const w=this.rawClass;if(Array.isArray(w)||w instanceof Set)for(const L of w)this._updateState(L,!0);else if(null!=w)for(const L of Object.keys(w))this._updateState(L,Boolean(w[L]));this._applyStateDiff()}_updateState(w,L){const j=this.stateMap.get(w);void 0!==j?(j.enabled!==L&&(j.changed=!0,j.enabled=L),j.touched=!0):this.stateMap.set(w,{enabled:L,changed:!0,touched:!0})}_applyStateDiff(){for(const w of this.stateMap){const L=w[0],j=w[1];j.changed?(this._toggleClass(L,j.enabled),j.changed=!1):j.touched||(j.enabled&&this._toggleClass(L,!1),this.stateMap.delete(L)),j.touched=!1}}_toggleClass(w,L){(w=w.trim()).length>0&&w.split(ns).forEach(j=>{L?this._renderer.addClass(this._ngEl.nativeElement,j):this._renderer.removeClass(this._ngEl.nativeElement,j)})}}return E.\u0275fac=function(w){return new(w||E)(R.Y36(R.ZZ4),R.Y36(R.aQg),R.Y36(R.SBq),R.Y36(R.Qsj))},E.\u0275dir=R.lG2({type:E,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),E})(),cs=(()=>{class E{}return E.\u0275fac=function(w){return new(w||E)},E.\u0275mod=R.oAB({type:E}),E.\u0275inj=R.cJS({}),E})();const ws="browser",ks="server";function Ii(E){return E===ks}let ra=(()=>{class E{}return E.\u0275prov=(0,R.Yz7)({token:E,providedIn:"root",factory:()=>new Us((0,R.LFG)(Ue),window)}),E})();class Us{constructor(A,w){this.document=A,this.window=w,this.offset=()=>[0,0]}setOffset(A){this.offset=Array.isArray(A)?()=>A:A}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(A){this.supportsScrolling()&&this.window.scrollTo(A[0],A[1])}scrollToAnchor(A){if(!this.supportsScrolling())return;const w=function Ea(E,A){const w=E.getElementById(A)||E.getElementsByName(A)[0];if(w)return w;if("function"==typeof E.createTreeWalker&&E.body&&(E.body.createShadowRoot||E.body.attachShadow)){const L=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let j=L.currentNode;for(;j;){const se=j.shadowRoot;if(se){const ge=se.getElementById(A)||se.querySelector(`[name="${A}"]`);if(ge)return ge}j=L.nextNode()}}return null}(this.document,A);w&&(this.scrollToElement(w),w.focus())}setHistoryScrollRestoration(A){if(this.supportScrollRestoration()){const w=this.window.history;w&&w.scrollRestoration&&(w.scrollRestoration=A)}}scrollToElement(A){const w=A.getBoundingClientRect(),L=w.left+this.window.pageXOffset,j=w.top+this.window.pageYOffset,se=this.offset();this.window.scrollTo(L-se[0],j-se[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const A=ti(this.window.history)||ti(Object.getPrototypeOf(this.window.history));return!(!A||!A.writable&&!A.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ti(E){return Object.getOwnPropertyDescriptor(E,"scrollRestoration")}class ko{}},256:(Vt,He,Y)=>{Y.d(He,{QbO:()=>iD,tb:()=>rm,AFp:()=>Wg,ip1:()=>Gg,CZH:()=>Fc,hGG:()=>zD,z2F:()=>Uc,sBO:()=>MD,Sil:()=>cD,_Vd:()=>Rl,EJc:()=>aD,Xts:()=>Eu,SBq:()=>Ol,lqb:()=>La,qLn:()=>Pl,vpe:()=>Oo,XFs:()=>be,OlP:()=>Rn,zs3:()=>Fa,ZZ4:()=>$d,aQg:()=>Gd,soG:()=>kc,YKP:()=>ng,h0i:()=>fl,PXZ:()=>wD,R0b:()=>xs,FiY:()=>zn,Lbi:()=>rD,g9A:()=>qg,Qsj:()=>fv,FYo:()=>Rh,JOm:()=>Zs,tp0:()=>qr,Rgc:()=>Gl,dDg:()=>_D,eoX:()=>tm,GfV:()=>Oh,s_b:()=>Nc,ifc:()=>vt,MMx:()=>_d,Lck:()=>Z0,eFA:()=>sm,f3M:()=>ai,$WT:()=>Si,_c5:()=>jD,c2e:()=>sD,zSh:()=>Su,wAp:()=>It,vHH:()=>Ee,lri:()=>Jg,rWj:()=>em,D6c:()=>$D,cg1:()=>ud,kL8:()=>Ip,dqk:()=>Ft,Z0I:()=>oi,eJc:()=>Id,CqO:()=>Rf,QGY:()=>nd,F4k:()=>Af,RDi:()=>Rm,AaK:()=>st,qOj:()=>Yu,TTD:()=>uo,jDz:()=>ig,xp6:()=>Uh,uIk:()=>Zu,Suo:()=>Cg,Xpm:()=>ro,lG2:()=>Ui,Yz7:()=>jt,cJS:()=>jr,oAB:()=>Pr,Yjl:()=>ns,Y36:()=>Ja,_UZ:()=>Ju,qZA:()=>Tc,TgZ:()=>Sc,n5z:()=>Ca,LFG:()=>fn,$8M:()=>an,$Z:()=>Qh,NdJ:()=>rd,CRH:()=>Sg,Hsn:()=>Ff,F$t:()=>Lf,Q6J:()=>Qu,iGM:()=>Dg,P3R:()=>_h,_uU:()=>ap,Gf:()=>wg});var R=Y(579),Q=Y(727),J=Y(751),ue=Y(189),Se=Y(421),Ue=Y(515),We=Y(669),ut=Y(76),we=Y(930),ye=Y(482);function bt(e,t,...n){if(!0===t)return void e();if(!1===t)return;const s=new we.Hp({next:()=>{s.unsubscribe(),e()}});return(0,Se.Xf)(t(...n)).subscribe(s)}function Pe(e){for(let t in e)if(e[t]===Pe)return t;throw Error("Could not find renamed property on target object.")}function gt(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function st(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(st).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function zt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Gt=Pe({__forward_ref__:Pe});function Ut(e){return e.__forward_ref__=Ut,e.toString=function(){return st(this())},e}function Ke(e){return Ye(e)?e():e}function Ye(e){return"function"==typeof e&&e.hasOwnProperty(Gt)&&e.__forward_ref__===Ut}function xe(e){return e&&!!e.\u0275providers}const Wt="https://g.co/ng/security#xss";class Ee extends Error{constructor(t,n){super(je(t,n)),this.code=t}}function je(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function Me(e){return"string"==typeof e?e:null==e?"":String(e)}function ae(e,t){throw new Ee(-201,!1)}function kn(e,t){null==e&&function wt(e,t,n,s){throw new Error(`ASSERTION ERROR: ${e}`+(null==s?"":` [Expected=> ${n} ${s} ${t} <=Actual]`))}(t,e,null,"!=")}function jt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function jr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Un(e){return Ls(e,Cr)||Ls(e,rn)}function oi(e){return null!==Un(e)}function Ls(e,t){return e.hasOwnProperty(t)?e[t]:null}function St(e){return e&&(e.hasOwnProperty(ys)||e.hasOwnProperty(dt))?e[ys]:null}const Cr=Pe({\u0275prov:Pe}),ys=Pe({\u0275inj:Pe}),rn=Pe({ngInjectableDef:Pe}),dt=Pe({ngInjectorDef:Pe});var be=(()=>((be=be||{})[be.Default=0]="Default",be[be.Host=1]="Host",be[be.Self=2]="Self",be[be.SkipSelf=4]="SkipSelf",be[be.Optional=8]="Optional",be))();let hr;function _n(e){const t=hr;return hr=e,t}function Ei(e,t,n){const s=Un(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&be.Optional?null:void 0!==t?t:void ae(st(e))}const Ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ki={},Di="__NG_DI_FLAG__",Es="ngTempTokenPath",wi="ngTokenPath",to=/\n/gm,Qn="\u0275",Xi="__source";let Ar;function Xn(e){const t=Ar;return Ar=e,t}function At(e,t=be.Default){if(void 0===Ar)throw new Ee(-203,!1);return null===Ar?Ei(e,void 0,t):Ar.get(e,t&be.Optional?null:void 0,t)}function fn(e,t=be.Default){return(function Fi(){return hr}()||At)(Ke(e),t)}function ai(e,t=be.Default){return fn(e,Ji(t))}function Ji(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ci(e){const t=[];for(let n=0;n<e.length;n++){const s=Ke(e[n]);if(Array.isArray(s)){if(0===s.length)throw new Ee(900,!1);let o,c=be.Default;for(let f=0;f<s.length;f++){const y=s[f],D=X(y);"number"==typeof D?-1===D?o=y.token:c|=D:o=y}t.push(fn(o,c))}else t.push(fn(s))}return t}function re(e,t){return e[Di]=t,e.prototype[Di]=t,e}function X(e){return e[Di]}function pe(e){return{toString:e}.toString()}var Be=(()=>((Be=Be||{})[Be.OnPush=0]="OnPush",Be[Be.Default=1]="Default",Be))(),vt=(()=>{return(e=vt||(vt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",vt;var e})();const Rt={},ht=[],$r=Pe({\u0275cmp:Pe}),Rr=Pe({\u0275dir:Pe}),es=Pe({\u0275pipe:Pe}),ir=Pe({\u0275mod:Pe}),Xr=Pe({\u0275fac:Pe}),Or=Pe({__NG_ELEMENT_ID__:Pe});let No=0;function ro(e){return pe(()=>{const t=Bi(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Be.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||vt.Emulated,id:"c"+No++,styles:e.styles||ht,_:null,schemas:e.schemas||null,tView:null};Ti(n);const s=e.dependencies;return n.directiveDefs=Vi(s,!1),n.pipeDefs=Vi(s,!0),n})}function xo(e){return Qt(e)||Bn(e)}function so(e){return null!==e}function Pr(e){return pe(()=>({type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Jo(e,t){if(null==e)return Rt;const n={};for(const s in e)if(e.hasOwnProperty(s)){let o=e[s],c=o;Array.isArray(o)&&(c=o[1],o=o[0]),n[o]=s,t&&(t[o]=c)}return n}function Ui(e){return pe(()=>{const t=Bi(e);return Ti(t),t})}function ns(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Qt(e){return e[$r]||null}function Bn(e){return e[Rr]||null}function fr(e){return e[es]||null}function Si(e){const t=Qt(e)||Bn(e)||fr(e);return null!==t&&t.standalone}function Pn(e,t){const n=e[ir]||null;if(!n&&!0===t)throw new Error(`Type ${st(e)} does not have '\u0275mod' property.`);return n}function Bi(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jo(e.inputs,t),outputs:Jo(e.outputs)}}function Ti(e){e.features?.forEach(t=>t(e))}function Vi(e,t){if(!e)return null;const n=t?fr:xo;return()=>("function"==typeof e?e():e).map(s=>n(s)).filter(so)}const Nr=0,Ge=1,_t=2,pn=3,pr=4,Sr=5,yn=6,Jr=7,sn=8,Ds=9,li=10,Ot=11,oo=12,rs=13,bn=14,En=15,Nn=16,xn=17,sr=18,Wn=19,ci=20,is=21,on=22,os=1,ao=2,Hi=7,Fs=8,ei=9,or=10;function gr(e){return Array.isArray(e)&&"object"==typeof e[os]}function Jn(e){return Array.isArray(e)&&!0===e[os]}function as(e){return 0!=(4&e.flags)}function ls(e){return e.componentOffset>-1}function ui(e){return 1==(1&e.flags)}function Lr(e){return!!e.template}function ea(e){return 0!=(256&e[_t])}function Ai(e,t){return e.hasOwnProperty(Xr)?e[Xr]:null}class hi{constructor(t,n,s){this.previousValue=t,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function uo(){return ho}function ho(e){return e.type.prototype.ngOnChanges&&(e.setInput=Bo),Uo}function Uo(){const e=Ri(this),t=e?.current;if(t){const n=e.previous;if(n===Rt)e.previous=t;else for(let s in t)n[s]=t[s];e.current=null,this.ngOnChanges(t)}}function Bo(e,t,n,s){const o=this.declaredInputs[n],c=Ri(e)||function zi(e,t){return e[ji]=t}(e,{previous:Rt,current:null}),f=c.current||(c.current={}),y=c.previous,D=y[o];f[o]=new hi(D&&D.currentValue,t,y===Rt),e[s]=t}uo.ngInherit=!0;const ji="__ngSimpleChanges__";function Ri(e){return e[ji]||null}const mr=function(e,t,n){};function er(e){for(;Array.isArray(e);)e=e[Nr];return e}function Gr(e,t){return er(t[e.index])}function go(e,t){return e.data[t]}function ar(e,t){const n=t[e];return gr(n)?n:n[Nr]}function vr(e){return 64==(64&e[_t])}function Fr(e,t){return null==t?null:e[t]}function ia(e){e[sr]=0}function vo(e,t){e[Sr]+=t;let n=e,s=e[pn];for(;null!==s&&(1===t&&1===n[Sr]||-1===t&&0===n[Sr]);)s[Sr]+=t,n=s,s=s[pn]}const Xe={lFrame:ca(null),bindingsEnabled:!0};function sa(){return Xe.bindingsEnabled}function ve(){return Xe.lFrame.lView}function Kt(){return Xe.lFrame.tView}function Yn(){let e=lr();for(;null!==e&&64===e.type;)e=e.parent;return e}function lr(){return Xe.lFrame.currentTNode}function kr(e,t){const n=Xe.lFrame;n.currentTNode=e,n.isParent=t}function $s(){return Xe.lFrame.isParent}function ds(){Xe.lFrame.isParent=!1}function ps(){return Xe.lFrame.bindingIndex++}function Ms(e,t){const n=Xe.lFrame;n.bindingIndex=n.bindingRootIndex=e,zo(t)}function zo(e){Xe.lFrame.currentDirectiveIndex=e}function $o(){return Xe.lFrame.currentQueryIndex}function gs(e){Xe.lFrame.currentQueryIndex=e}function ms(e){const t=e[Ge];return 2===t.type?t.declTNode:1===t.type?e[yn]:null}function Go(e,t,n){if(n&be.SkipSelf){let o=t,c=e;for(;!(o=o.parent,null!==o||n&be.Host||(o=ms(c),null===o||(c=c[En],10&o.type))););if(null===o)return!1;t=o,e=c}const s=Xe.lFrame=yo();return s.currentTNode=t,s.lView=e,!0}function _o(e){const t=yo(),n=e[Ge];Xe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function yo(){const e=Xe.lFrame,t=null===e?null:e.child;return null===t?ca(e):t}function ca(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function As(){const e=Xe.lFrame;return Xe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Wo=As;function Eo(){const e=As();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function tr(){return Xe.lFrame.selectedIndex}function br(e){Xe.lFrame.selectedIndex=e}function wn(){const e=Xe.lFrame;return go(e.tView,e.selectedIndex)}function ge(e,t){for(let n=t.directiveStart,s=t.directiveEnd;n<s;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:D,ngAfterViewChecked:I,ngOnDestroy:x}=c;f&&(e.contentHooks??(e.contentHooks=[])).push(-n,f),y&&((e.contentHooks??(e.contentHooks=[])).push(n,y),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,y)),D&&(e.viewHooks??(e.viewHooks=[])).push(-n,D),I&&((e.viewHooks??(e.viewHooks=[])).push(n,I),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,I)),null!=x&&(e.destroyHooks??(e.destroyHooks=[])).push(n,x)}}function Je(e,t,n){Jt(e,t,3,n)}function Yt(e,t,n,s){(3&e[_t])===n&&Jt(e,t,n,s)}function qt(e,t){let n=e[_t];(3&n)===t&&(n&=2047,n+=1,e[_t]=n)}function Jt(e,t,n,s){const c=s??-1,f=t.length-1;let y=0;for(let D=void 0!==s?65535&e[sr]:0;D<f;D++)if("number"==typeof t[D+1]){if(y=t[D],null!=s&&y>=s)break}else t[D]<0&&(e[sr]+=65536),(y<c||-1==c)&&($t(e,n,t,D),e[sr]=(4294901760&e[sr])+D+2),D++}function $t(e,t,n,s){const o=n[s]<0,c=n[s+1],y=e[o?-n[s]:n[s]];if(o){if(e[_t]>>11<e[sr]>>16&&(3&e[_t])===t){e[_t]+=2048,mr(4,y,c);try{c.call(y)}finally{mr(5,y,c)}}}else{mr(4,y,c);try{c.call(y)}finally{mr(5,y,c)}}}const Mn=-1;class tn{constructor(t,n,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}function z(e,t,n){let s=0;for(;s<n.length;){const o=n[s];if("number"==typeof o){if(0!==o)break;s++;const c=n[s++],f=n[s++],y=n[s++];e.setAttribute(t,f,y,c)}else{const c=o,f=n[++s];te(c)?e.setProperty(t,c,f):e.setAttribute(t,c,f),s++}}return s}function G(e){return 3===e||4===e||6===e}function te(e){return 64===e.charCodeAt(0)}function ce(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?n=o:0===n||Le(e,n,o,null,-1===n||2===n?t[++s]:null)}}return e}function Le(e,t,n,s,o){let c=0,f=e.length;if(-1===t)f=-1;else for(;c<e.length;){const y=e[c++];if("number"==typeof y){if(y===t){f=-1;break}if(y>t){f=c-1;break}}}for(;c<e.length;){const y=e[c];if("number"==typeof y)break;if(y===n){if(null===s)return void(null!==o&&(e[c+1]=o));if(s===e[c+1])return void(e[c+2]=o)}c++,null!==s&&c++,null!==o&&c++}-1!==f&&(e.splice(f,0,t),c=f+1),e.splice(c++,0,n),null!==s&&e.splice(c++,0,s),null!==o&&e.splice(c++,0,o)}function qe(e){return e!==Mn}function Pt(e){return 32767&e}function ot(e,t){let n=function Ct(e){return e>>16}(e),s=t;for(;n>0;)s=s[En],n--;return s}let Tt=!0;function Zt(e){const t=Tt;return Tt=e,t}const An=255,qn=5;let Kn=0;const _r={};function $n(e,t){const n=yr(e,t);if(-1!==n)return n;const s=t[Ge];s.firstCreatePass&&(e.injectorIndex=t.length,ni(s.data,e),ni(t,null),ni(s.blueprint,null));const o=Er(e,t),c=e.injectorIndex;if(qe(o)){const f=Pt(o),y=ot(o,t),D=y[Ge].data;for(let I=0;I<8;I++)t[c+I]=y[f+I]|D[f+I]}return t[c+8]=o,c}function ni(e,t){e.push(0,0,0,0,0,0,0,0,t)}function yr(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Er(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,s=null,o=t;for(;null!==o;){if(s=rr(o),null===s)return Mn;if(n++,o=o[En],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return Mn}function Co(e,t,n){!function pi(e,t,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(Or)&&(s=n[Or]),null==s&&(s=n[Or]=Kn++);const o=s&An;t.data[e+(o>>qn)]|=1<<o}(e,t,n)}function ri(e,t,n){if(n&be.Optional||void 0!==e)return e;ae()}function Gs(e,t,n,s){if(n&be.Optional&&void 0===s&&(s=null),!(n&(be.Self|be.Host))){const o=e[Ds],c=_n(void 0);try{return o?o.get(t,s,n&be.Optional):Ei(t,s,n&be.Optional)}finally{_n(c)}}return ri(s,0,n)}function Yo(e,t,n,s=be.Default,o){if(null!==e){if(1024&t[_t]){const f=function _e(e,t,n,s,o){let c=e,f=t;for(;null!==c&&null!==f&&1024&f[_t]&&!(256&f[_t]);){const y=it(c,f,n,s|be.Self,_r);if(y!==_r)return y;let D=c.parent;if(!D){const I=f[is];if(I){const x=I.get(n,_r,s);if(x!==_r)return x}D=rr(f),f=f[En]}c=D}return o}(e,t,n,s,_r);if(f!==_r)return f}const c=it(e,t,n,s,_r);if(c!==_r)return c}return Gs(t,n,s,o)}function it(e,t,n,s,o){const c=function Gn(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Or)?e[Or]:void 0;return"number"==typeof t?t>=0?t&An:Vn:t}(n);if("function"==typeof c){if(!Go(t,e,s))return s&be.Host?ri(o,0,s):Gs(t,n,s,o);try{const f=c(s);if(null!=f||s&be.Optional)return f;ae()}finally{Wo()}}else if("number"==typeof c){let f=null,y=yr(e,t),D=Mn,I=s&be.Host?t[Nn][yn]:null;for((-1===y||s&be.SkipSelf)&&(D=-1===y?Er(e,t):t[y+8],D!==Mn&&gn(s,!1)?(f=t[Ge],y=Pt(D),t=ot(D,t)):y=-1);-1!==y;){const x=t[Ge];if(ii(c,y,x.data)){const V=ft(y,t,n,f,s,I);if(V!==_r)return V}D=t[y+8],D!==Mn&&gn(s,t[Ge].data[y+8]===I)&&ii(c,y,t)?(f=x,y=Pt(D),t=ot(D,t)):y=-1}}return o}function ft(e,t,n,s,o,c){const f=t[Ge],y=f.data[e+8],x=tt(y,f,n,null==s?ls(y)&&Tt:s!=f&&0!=(3&y.type),o&be.Host&&c===y);return null!==x?Nt(t,f,x,y):_r}function tt(e,t,n,s,o){const c=e.providerIndexes,f=t.data,y=1048575&c,D=e.directiveStart,x=c>>20,q=o?y+x:e.directiveEnd;for(let ee=s?y:y+x;ee<q;ee++){const fe=f[ee];if(ee<D&&n===fe||ee>=D&&fe.type===n)return ee}if(o){const ee=f[D];if(ee&&Lr(ee)&&ee.type===n)return D}return null}function Nt(e,t,n,s){let o=e[n];const c=t.data;if(function nr(e){return e instanceof tn}(o)){const f=o;f.resolving&&function pt(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Ve(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Me(e)}(c[n]));const y=Zt(f.canSeeViewProviders);f.resolving=!0;const D=f.injectImpl?_n(f.injectImpl):null;Go(e,s,be.Default);try{o=e[n]=f.factory(void 0,c,e,s),t.firstCreatePass&&n>=s.directiveStart&&function se(e,t,n){const{ngOnChanges:s,ngOnInit:o,ngDoCheck:c}=t.type.prototype;if(s){const f=ho(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,f),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,f)}o&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,o),c&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==D&&_n(D),Zt(y),f.resolving=!1,Wo()}}return o}function ii(e,t,n){return!!(n[t+(e>>qn)]&1<<e)}function gn(e,t){return!(e&be.Self||e&be.Host&&t)}class Ln{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,s){return Yo(this._tNode,this._lView,t,Ji(s),n)}}function Vn(){return new Ln(Yn(),ve())}function Ca(e){return pe(()=>{const t=e.prototype.constructor,n=t[Xr]||ur(t),s=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==s;){const c=o[Xr]||ur(o);if(c&&c!==n)return c;o=Object.getPrototypeOf(o)}return c=>new c})}function ur(e){return Ye(e)?()=>{const t=ur(Ke(e));return t&&t()}:Ai(e)}function rr(e){const t=e[Ge],n=t.type;return 2===n?t.declTNode:1===n?e[yn]:null}function an(e){return function Rs(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const s=n.length;let o=0;for(;o<s;){const c=n[o];if(G(c))break;if(0===c)o+=2;else if("number"==typeof c)for(o++;o<s&&"string"==typeof n[o];)o++;else{if(c===t)return n[o+1];o+=2}}}return null}(Yn(),e)}const Hn="__parameters__";function vs(e,t,n){return pe(()=>{const s=function Wi(e){return function(...n){if(e){const s=e(...n);for(const o in s)this[o]=s[o]}}}(t);function o(...c){if(this instanceof o)return s.apply(this,c),this;const f=new o(...c);return y.annotation=f,y;function y(D,I,x){const V=D.hasOwnProperty(Hn)?D[Hn]:Object.defineProperty(D,Hn,{value:[]})[Hn];for(;V.length<=x;)V.push(null);return(V[x]=V[x]||[]).push(f),D}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class Rn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=jt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Br(e,t){e.forEach(n=>Array.isArray(n)?Br(n,t):t(n))}function Os(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function To(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function bo(e,t){const n=[];for(let s=0;s<e;s++)n.push(t);return n}const zn=re(vs("Optional"),8),qr=re(vs("SkipSelf"),4);var Zs=(()=>((Zs=Zs||{})[Zs.Important=1]="Important",Zs[Zs.DashCase=2]="DashCase",Zs))();const wl=new Map;let nu=0;const Sl="__ngContext__";function Zr(e,t){gr(t)?(e[Sl]=t[ci],function iu(e){wl.set(e[ci],e)}(t)):e[Sl]=t}let Oa;function bl(e,t){return Oa(e,t)}function Pa(e){const t=e[pn];return Jn(t)?t[pn]:t}function ic(e){return oc(e[rs])}function sc(e){return oc(e[pr])}function oc(e){for(;null!==e&&!Jn(e);)e=e[pr];return e}function Na(e,t,n,s,o){if(null!=s){let c,f=!1;Jn(s)?c=s:gr(s)&&(f=!0,s=s[Nr]);const y=er(s);0===e&&null!==n?null==o?ct(t,n,y):Ae(t,n,y,o||null,!0):1===e&&null!==n?Ae(t,n,y,o||null,!0):2===e?function si(e,t,n){const s=lt(e,t);s&&function Ze(e,t,n,s){e.removeChild(t,n,s)}(e,s,t,n)}(t,y,f):3===e&&t.destroyNode(y),null!=c&&function Sm(e,t,n,s,o){const c=n[Hi];c!==er(n)&&Na(t,e,s,c,o);for(let y=or;y<n.length;y++){const D=n[y];Ki(D[Ge],D,e,t,s,c)}}(t,e,c,n,o)}}function a(e,t,n){return e.createElement(t,n)}function k(e,t){const n=e[ei],s=n.indexOf(t),o=t[pn];512&t[_t]&&(t[_t]&=-513,vo(o,-1)),n.splice(s,1)}function B(e,t){if(e.length<=or)return;const n=or+t,s=e[n];if(s){const o=s[xn];null!==o&&o!==e&&k(o,s),t>0&&(e[n-1][pr]=s[pr]);const c=To(e,or+t);!function l(e,t){Ki(e,t,t[Ot],2,null,null),t[Nr]=null,t[yn]=null}(s[Ge],s);const f=c[Wn];null!==f&&f.detachView(c[Ge]),s[pn]=null,s[pr]=null,s[_t]&=-65}return s}function $(e,t){if(!(128&t[_t])){const n=t[Ot];n.destroyNode&&Ki(e,t,n,3,null,null),function S(e){let t=e[rs];if(!t)return Z(e[Ge],e);for(;t;){let n=null;if(gr(t))n=t[rs];else{const s=t[or];s&&(n=s)}if(!n){for(;t&&!t[pr]&&t!==e;)gr(t)&&Z(t[Ge],t),t=t[pn];null===t&&(t=e),gr(t)&&Z(t[Ge],t),n=t&&t[pr]}t=n}}(t)}}function Z(e,t){if(!(128&t[_t])){t[_t]&=-65,t[_t]|=128,function le(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let s=0;s<n.length;s+=2){const o=t[n[s]];if(!(o instanceof tn)){const c=n[s+1];if(Array.isArray(c))for(let f=0;f<c.length;f+=2){const y=o[c[f]],D=c[f+1];mr(4,y,D);try{D.call(y)}finally{mr(5,y,D)}}else{mr(4,o,c);try{c.call(o)}finally{mr(5,o,c)}}}}}(e,t),function W(e,t){const n=e.cleanup,s=t[Jr];let o=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const f=n[c+3];f>=0?s[o=f]():s[o=-f].unsubscribe(),c+=2}else{const f=s[o=n[c+1]];n[c].call(f)}if(null!==s){for(let c=o+1;c<s.length;c++)(0,s[c])();t[Jr]=null}}(e,t),1===t[Ge].type&&t[Ot].destroy();const n=t[xn];if(null!==n&&Jn(t[pn])){n!==t[pn]&&k(n,t);const s=t[Wn];null!==s&&s.detachView(e)}!function fa(e){wl.delete(e[ci])}(t)}}function me(e,t,n){return function ne(e,t,n){let s=t;for(;null!==s&&40&s.type;)s=(t=s).parent;if(null===s)return n[Nr];{const{componentOffset:o}=s;if(o>-1){const{encapsulation:c}=e.data[s.directiveStart+o];if(c===vt.None||c===vt.Emulated)return null}return Gr(s,n)}}(e,t.parent,n)}function Ae(e,t,n,s,o){e.insertBefore(t,n,s,o)}function ct(e,t,n){e.appendChild(t,n)}function et(e,t,n,s,o){null!==s?Ae(e,t,n,s,o):ct(e,t,n)}function lt(e,t){return e.parentNode(t)}function cn(e,t,n){return mn(e,t,n)}let On,pu,uc,mn=function un(e,t,n){return 40&e.type?Gr(e,n):null};function Dn(e,t,n,s){const o=me(e,s,t),c=t[Ot],y=cn(s.parent||t[yn],s,t);if(null!=o)if(Array.isArray(n))for(let D=0;D<n.length;D++)et(c,o,n[D],y,!1);else et(c,o,n,y,!1);void 0!==On&&On(c,s,t,n,o)}function yt(e,t){if(null!==t){const n=t.type;if(3&n)return Gr(t,e);if(4&n)return xi(-1,e[t.index]);if(8&n){const s=t.child;if(null!==s)return yt(e,s);{const o=e[t.index];return Jn(o)?xi(-1,o):er(o)}}if(32&n)return bl(t,e)()||er(e[t.index]);{const s=dn(e,t);return null!==s?Array.isArray(s)?s[0]:yt(Pa(e[Nn]),s):yt(e,t.next)}}return null}function dn(e,t){return null!==t?e[Nn][yn].projection[t.projection]:null}function xi(e,t){const n=or+e+1;if(n<t.length){const s=t[n],o=s[Ge].firstChild;if(null!==o)return yt(s,o)}return t[Hi]}function Ps(e,t,n,s,o,c,f){for(;null!=n;){const y=s[n.index],D=n.type;if(f&&0===t&&(y&&Zr(er(y),s),n.flags|=2),32!=(32&n.flags))if(8&D)Ps(e,t,n.child,s,o,c,!1),Na(t,e,o,y,c);else if(32&D){const I=bl(n,s);let x;for(;x=I();)Na(t,e,o,x,c);Na(t,e,o,y,c)}else 16&D?nh(e,t,s,n,o,c):Na(t,e,o,y,c);n=f?n.projectionNext:n.next}}function Ki(e,t,n,s,o,c){Ps(n,s,e.firstChild,t,o,c,!1)}function nh(e,t,n,s,o,c){const f=n[Nn],D=f[yn].projection[s.projection];if(Array.isArray(D))for(let I=0;I<D.length;I++)Na(t,e,o,D[I],c);else Ps(e,t,D,f[pn],o,c,!0)}function rh(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ih(e,t,n){const{mergedAttrs:s,classes:o,styles:c}=n;null!==s&&z(e,t,s),null!==o&&rh(e,t,o),null!==c&&function bm(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function Rm(e){pu=e}function lh(e){return function gu(){if(void 0===uc&&(uc=null,Ft.trustedTypes))try{uc=Ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return uc}()?.createScriptURL(e)||e}class ch{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wt})`}}function ma(e){return e instanceof ch?e.changingThisBreaksApplicationSecurity:e}function Ml(e,t){const n=function Fm(e){return e instanceof ch&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Wt})`)}return n===t}const Vm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Mr=(()=>((Mr=Mr||{})[Mr.NONE=0]="NONE",Mr[Mr.HTML=1]="HTML",Mr[Mr.STYLE=2]="STYLE",Mr[Mr.SCRIPT=3]="SCRIPT",Mr[Mr.URL=4]="URL",Mr[Mr.RESOURCE_URL=5]="RESOURCE_URL",Mr))();function mh(e){const t=Al();return t?t.sanitize(Mr.URL,e)||"":Ml(e,"URL")?ma(e):function mu(e){return(e=String(e)).match(Vm)?e:"unsafe:"+e}(Me(e))}function vh(e){const t=Al();if(t)return lh(t.sanitize(Mr.RESOURCE_URL,e)||"");if(Ml(e,"ResourceURL"))return lh(ma(e));throw new Ee(904,!1)}function _h(e,t,n){return function Xm(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?vh:mh}(t,n)(e)}function Al(){const e=ve();return e&&e[oo]}const Eu=new Rn("ENVIRONMENT_INITIALIZER"),yh=new Rn("INJECTOR",-1),Eh=new Rn("INJECTOR_DEF_TYPES");class Dh{get(t,n=ki){if(n===ki){const s=new Error(`NullInjectorError: No provider for ${st(t)}!`);throw s.name="NullInjectorError",s}return n}}function Jm(...e){return{\u0275providers:wh(0,e),\u0275fromNgModule:!0}}function wh(e,...t){const n=[],s=new Set;let o;return Br(t,c=>{const f=c;Du(f,n,[],s)&&(o||(o=[]),o.push(f))}),void 0!==o&&Ch(o,n),n}function Ch(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];wu(o,c=>{t.push(c)})}}function Du(e,t,n,s){if(!(e=Ke(e)))return!1;let o=null,c=St(e);const f=!c&&Qt(e);if(c||f){if(f&&!f.standalone)return!1;o=e}else{const D=e.ngModule;if(c=St(D),!c)return!1;o=D}const y=s.has(o);if(f){if(y)return!1;if(s.add(o),f.dependencies){const D="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const I of D)Du(I,t,n,s)}}else{if(!c)return!1;{if(null!=c.imports&&!y){let I;s.add(o);try{Br(c.imports,x=>{Du(x,t,n,s)&&(I||(I=[]),I.push(x))})}finally{}void 0!==I&&Ch(I,t)}if(!y){const I=Ai(o)||(()=>new o);t.push({provide:o,useFactory:I,deps:ht},{provide:Eh,useValue:o,multi:!0},{provide:Eu,useValue:()=>fn(o),multi:!0})}const D=c.providers;null==D||y||wu(D,x=>{t.push(x)})}}return o!==e&&void 0!==e.providers}function wu(e,t){for(let n of e)xe(n)&&(n=n.\u0275providers),Array.isArray(n)?wu(n,t):t(n)}const ev=Pe({provide:String,useValue:Pe});function Cu(e){return null!==e&&"object"==typeof e&&ev in e}function xa(e){return"function"==typeof e}const Su=new Rn("Set Injector scope."),hc={},nv={};let Tu;function fc(){return void 0===Tu&&(Tu=new Dh),Tu}class La{}class bh extends La{get destroyed(){return this._destroyed}constructor(t,n,s,o){super(),this.parent=n,this.source=s,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mu(t,f=>this.processProvider(f)),this.records.set(yh,Ka(void 0,this)),o.has("environment")&&this.records.set(La,Ka(void 0,this));const c=this.records.get(Su);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(Eh.multi,ht,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Xn(this),s=_n(void 0);try{return t()}finally{Xn(n),_n(s)}}get(t,n=ki,s=be.Default){this.assertNotDestroyed(),s=Ji(s);const o=Xn(this),c=_n(void 0);try{if(!(s&be.SkipSelf)){let y=this.records.get(t);if(void 0===y){const D=function av(e){return"function"==typeof e||"object"==typeof e&&e instanceof Rn}(t)&&Un(t);y=D&&this.injectableDefInScope(D)?Ka(bu(t),hc):null,this.records.set(t,y)}if(null!=y)return this.hydrate(t,y)}return(s&be.Self?fc():this.parent).get(t,n=s&be.Optional&&n===ki?null:n)}catch(f){if("NullInjectorError"===f.name){if((f[Es]=f[Es]||[]).unshift(st(t)),o)throw f;return function H(e,t,n,s){const o=e[Es];throw t[Xi]&&o.unshift(t[Xi]),e.message=function ie(e,t,n,s=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Qn?e.slice(2):e;let o=st(t);if(Array.isArray(t))o=t.map(st).join(" -> ");else if("object"==typeof t){let c=[];for(let f in t)if(t.hasOwnProperty(f)){let y=t[f];c.push(f+":"+("string"==typeof y?JSON.stringify(y):st(y)))}o=`{${c.join(", ")}}`}return`${n}${s?"("+s+")":""}[${o}]: ${e.replace(to,"\n  ")}`}("\n"+e.message,o,n,s),e[wi]=o,e[Es]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{_n(c),Xn(o)}}resolveInjectorInitializers(){const t=Xn(this),n=_n(void 0);try{const s=this.get(Eu.multi,ht,be.Self);for(const o of s)o()}finally{Xn(t),_n(n)}}toString(){const t=[],n=this.records;for(const s of n.keys())t.push(st(s));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(t){let n=xa(t=Ke(t))?t:Ke(t&&t.provide);const s=function iv(e){return Cu(e)?Ka(void 0,e.useValue):Ka(function Mh(e,t,n){let s;if(xa(e)){const o=Ke(e);return Ai(o)||bu(o)}if(Cu(e))s=()=>Ke(e.useValue);else if(function Th(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...Ci(e.deps||[]));else if(function Sh(e){return!(!e||!e.useExisting)}(e))s=()=>fn(Ke(e.useExisting));else{const o=Ke(e&&(e.useClass||e.provide));if(!function sv(e){return!!e.deps}(e))return Ai(o)||bu(o);s=()=>new o(...Ci(e.deps))}return s}(e),hc)}(t);if(xa(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Ka(void 0,hc,!0),o.factory=()=>Ci(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,s)}hydrate(t,n){return n.value===hc&&(n.value=nv,n.value=n.factory()),"object"==typeof n.value&&n.value&&function ov(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ke(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function bu(e){const t=Un(e),n=null!==t?t.factory:Ai(e);if(null!==n)return n;if(e instanceof Rn)throw new Ee(204,!1);if(e instanceof Function)return function rv(e){const t=e.length;if(t>0)throw bo(t,"?"),new Ee(204,!1);const n=function Qi(e){const t=e&&(e[Cr]||e[rn]);return t?(function Po(e){if(e.hasOwnProperty("name"))return e.name;(""+e).match(/^function\s*([^\s(]+)/)}(e),t):null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ee(204,!1)}function Ka(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Mu(e,t){for(const n of e)Array.isArray(n)?Mu(n,t):n&&xe(n)?Mu(n.\u0275providers,t):t(n)}class lv{}class Ih{}class uv{resolveComponentFactory(t){throw function cv(e){const t=Error(`No component factory found for ${st(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Rl=(()=>{class e{}return e.NULL=new uv,e})();function dv(){return Za(Yn(),ve())}function Za(e,t){return new Ol(Gr(e,t))}let Ol=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=dv,e})();function hv(e){return e instanceof Ol?e.nativeElement:e}class Rh{}let fv=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function pv(){const e=ve(),n=ar(Yn().index,e);return(gr(n)?n:e)[Ot]}(),e})(),gv=(()=>{class e{}return e.\u0275prov=jt({token:e,providedIn:"root",factory:()=>null}),e})();class Oh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const mv=new Oh("15.2.7"),Iu={},Au="ngOriginalError";function Ru(e){return e[Au]}class Pl{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ru(t);for(;n&&Ru(n);)n=Ru(n);return n||null}}function Zo(e){return e instanceof Function?e():e}function Nh(e,t,n){let s=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const c=t.length;if(o+c===s||e.charCodeAt(o+c)<=32)return o}n=o+1}}const xh="ng-template";function Mv(e,t,n){let s=0,o=!0;for(;s<e.length;){let c=e[s++];if("string"==typeof c&&o){const f=e[s++];if(n&&"class"===c&&-1!==Nh(f.toLowerCase(),t,0))return!0}else{if(1===c){for(;s<e.length&&"string"==typeof(c=e[s++]);)if(c.toLowerCase()===t)return!0;return!1}"number"==typeof c&&(o=!1)}}return!1}function Lh(e){return 4===e.type&&e.value!==xh}function Iv(e,t,n){return t===(4!==e.type||n?e.value:xh)}function Av(e,t,n){let s=4;const o=e.attrs||[],c=function Pv(e){for(let t=0;t<e.length;t++)if(G(e[t]))return t;return e.length}(o);let f=!1;for(let y=0;y<t.length;y++){const D=t[y];if("number"!=typeof D){if(!f)if(4&s){if(s=2|1&s,""!==D&&!Iv(e,D,n)||""===D&&1===t.length){if(Qs(s))return!1;f=!0}}else{const I=8&s?D:t[++y];if(8&s&&null!==e.attrs){if(!Mv(e.attrs,I,n)){if(Qs(s))return!1;f=!0}continue}const V=Rv(8&s?"class":D,o,Lh(e),n);if(-1===V){if(Qs(s))return!1;f=!0;continue}if(""!==I){let q;q=V>c?"":o[V+1].toLowerCase();const ee=8&s?q:null;if(ee&&-1!==Nh(ee,I,0)||2&s&&I!==q){if(Qs(s))return!1;f=!0}}}}else{if(!f&&!Qs(s)&&!Qs(D))return!1;if(f&&Qs(D))continue;f=!1,s=D|1&s}}return Qs(s)||f}function Qs(e){return 0==(1&e)}function Rv(e,t,n,s){if(null===t)return-1;let o=0;if(s||!n){let c=!1;for(;o<t.length;){const f=t[o];if(f===e)return o;if(3===f||6===f)c=!0;else{if(1===f||2===f){let y=t[++o];for(;"string"==typeof y;)y=t[++o];continue}if(4===f)break;if(0===f){o+=4;continue}}o+=c?1:2}return-1}return function Nv(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const s=e[n];if("number"==typeof s)return-1;if(s===t)return n;n++}return-1}(t,e)}function Fh(e,t,n=!1){for(let s=0;s<t.length;s++)if(Av(e,t[s],n))return!0;return!1}function xv(e,t){e:for(let n=0;n<t.length;n++){const s=t[n];if(e.length===s.length){for(let o=0;o<e.length;o++)if(e[o]!==s[o])continue e;return!0}}return!1}function kh(e,t){return e?":not("+t.trim()+")":t}function Lv(e){let t=e[0],n=1,s=2,o="",c=!1;for(;n<e.length;){let f=e[n];if("string"==typeof f)if(2&s){const y=e[++n];o+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&s?o+="."+f:4&s&&(o+=" "+f);else""!==o&&!Qs(f)&&(t+=kh(c,o),o=""),s=f,c=c||!Qs(s);n++}return""!==o&&(t+=kh(c,o)),t}const Bt={};function Uh(e){Bh(Kt(),ve(),tr()+e,!1)}function Bh(e,t,n,s){if(!s)if(3==(3&t[_t])){const c=e.preOrderCheckHooks;null!==c&&Je(t,c,n)}else{const c=e.preOrderHooks;null!==c&&Yt(t,c,0,n)}br(n)}function zh(e,t=null,n=null,s){const o=$h(e,t,n,s);return o.resolveInjectorInitializers(),o}function $h(e,t=null,n=null,s,o=new Set){const c=[n||ht,Jm(e)];return s=s||("object"==typeof e?void 0:st(e)),new bh(c,t||fc(),s||null,o)}let Fa=(()=>{class e{static create(n,s){if(Array.isArray(n))return zh({name:""},s,n,"");{const o=n.name??"";return zh({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=ki,e.NULL=new Dh,e.\u0275prov=jt({token:e,providedIn:"any",factory:()=>fn(yh)}),e.__NG_ELEMENT_ID__=-1,e})();function Ja(e,t=be.Default){const n=ve();return null===n?fn(e,t):Yo(Yn(),n,Ke(e),t)}function Qh(){throw new Error("invalid")}function Xh(e,t){const n=e.contentQueries;if(null!==n)for(let s=0;s<n.length;s+=2){const c=n[s+1];if(-1!==c){const f=e.data[c];gs(n[s]),f.contentQueries(2,t[c],c)}}}function gc(e,t,n,s,o,c,f,y,D,I,x){const V=t.blueprint.slice();return V[Nr]=o,V[_t]=76|s,(null!==x||e&&1024&e[_t])&&(V[_t]|=1024),ia(V),V[pn]=V[En]=e,V[sn]=n,V[li]=f||e&&e[li],V[Ot]=y||e&&e[Ot],V[oo]=D||e&&e[oo]||null,V[Ds]=I||e&&e[Ds]||null,V[yn]=c,V[ci]=function ru(){return nu++}(),V[is]=x,V[Nn]=2==t.type?e[Nn]:V,V}function el(e,t,n,s,o){let c=e.data[t];if(null===c)c=function Lu(e,t,n,s,o){const c=lr(),f=$s(),D=e.data[t]=function a_(e,t,n,s,o,c){return{type:n,index:s,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?c:c&&c.parent,n,t,s,o);return null===e.firstChild&&(e.firstChild=D),null!==c&&(f?null==c.child&&null!==D.parent&&(c.child=D):null===c.next&&(c.next=D,D.prev=c)),D}(e,t,n,s,o),function aa(){return Xe.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=s,c.attrs=o;const f=function Wr(){const e=Xe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===f?-1:f.injectorIndex}return kr(c,!0),c}function Nl(e,t,n,s){if(0===n)return-1;const o=t.length;for(let c=0;c<n;c++)t.push(s),e.blueprint.push(s),e.data.push(null);return o}function Fu(e,t,n){_o(t);try{const s=e.viewQuery;null!==s&&Gu(1,s,n);const o=e.template;null!==o&&Jh(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Xh(e,t),e.staticViewQueries&&Gu(2,e.viewQuery,n);const c=e.components;null!==c&&function i_(e,t){for(let n=0;n<t.length;n++)M_(e,t[n])}(t,c)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[_t]&=-5,Eo()}}function mc(e,t,n,s){const o=t[_t];if(128!=(128&o)){_o(t);try{ia(t),function oa(e){return Xe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Jh(e,t,n,2,s);const f=3==(3&o);if(f){const I=e.preOrderCheckHooks;null!==I&&Je(t,I,null)}else{const I=e.preOrderHooks;null!==I&&Yt(t,I,0,null),qt(t,0)}if(function T_(e){for(let t=ic(e);null!==t;t=sc(t)){if(!t[ao])continue;const n=t[ei];for(let s=0;s<n.length;s++){const o=n[s];512&o[_t]||vo(o[pn],1),o[_t]|=512}}}(t),function S_(e){for(let t=ic(e);null!==t;t=sc(t))for(let n=or;n<t.length;n++){const s=t[n],o=s[Ge];vr(s)&&mc(o,s,o.template,s[sn])}}(t),null!==e.contentQueries&&Xh(e,t),f){const I=e.contentCheckHooks;null!==I&&Je(t,I)}else{const I=e.contentHooks;null!==I&&Yt(t,I,1),qt(t,1)}!function n_(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let s=0;s<n.length;s++){const o=n[s];if(o<0)br(~o);else{const c=o,f=n[++s],y=n[++s];Ms(f,c),y(2,t[c])}}}finally{br(-1)}}(e,t);const y=e.components;null!==y&&function r_(e,t){for(let n=0;n<t.length;n++)b_(e,t[n])}(t,y);const D=e.viewQuery;if(null!==D&&Gu(2,D,s),f){const I=e.viewCheckHooks;null!==I&&Je(t,I)}else{const I=e.viewHooks;null!==I&&Yt(t,I,2),qt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[_t]&=-41,512&t[_t]&&(t[_t]&=-513,vo(t[pn],-1))}finally{Eo()}}}function Jh(e,t,n,s,o){const c=tr(),f=2&s;try{br(-1),f&&t.length>on&&Bh(e,t,on,!1),mr(f?2:0,o),n(s,o)}finally{br(c),mr(f?3:1,o)}}function ku(e,t,n){if(as(t)){const o=t.directiveEnd;for(let c=t.directiveStart;c<o;c++){const f=e.data[c];f.contentQueries&&f.contentQueries(1,n[c],c)}}}function ef(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Vu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Vu(e,t,n,s,o,c,f,y,D,I){const x=on+s,V=x+o,q=function s_(e,t){const n=[];for(let s=0;s<t;s++)n.push(s<e?null:Bt);return n}(x,V),ee="function"==typeof I?I():I;return q[Ge]={type:e,blueprint:q,template:n,queries:null,viewQuery:y,declTNode:t,data:q.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:D,consts:ee,incompleteFirstPass:!1}}function tf(e,t,n,s){const o=cf(t);null===n?o.push(s):(o.push(n),e.firstCreatePass&&uf(e).push(s,o.length-1))}function nf(e,t,n,s){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const c=e[o];null===s?rf(n,t,o,c):s.hasOwnProperty(o)&&rf(n,t,s[o],c)}return n}function rf(e,t,n,s){e.hasOwnProperty(n)?e[n].push(t,s):e[n]=[t,s]}function sf(e,t,n,s,o,c){for(let I=0;I<s.length;I++)Co($n(n,t),e,s[I].type);!function y_(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,s.length);for(let I=0;I<s.length;I++){const x=s[I];x.providersResolver&&x.providersResolver(x)}let f=!1,y=!1,D=Nl(e,t,s.length,null);for(let I=0;I<s.length;I++){const x=s[I];n.mergedAttrs=ce(n.mergedAttrs,x.hostAttrs),E_(e,n,t,D,x),__(D,x,o),null!==x.contentQueries&&(n.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(n.flags|=64);const V=x.type.prototype;!f&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),f=!0),!y&&(V.ngOnChanges||V.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),y=!0),D++}!function l_(e,t,n){const o=t.directiveEnd,c=e.data,f=t.attrs,y=[];let D=null,I=null;for(let x=t.directiveStart;x<o;x++){const V=c[x],q=n?n.get(V):null,fe=q?q.outputs:null;D=nf(V.inputs,x,D,q?q.inputs:null),I=nf(V.outputs,x,I,fe);const Re=null===D||null===f||Lh(t)?null:C_(D,x,f);y.push(Re)}null!==D&&(D.hasOwnProperty("class")&&(t.flags|=8),D.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=y,t.inputs=D,t.outputs=I}(e,n,c)}function af(e,t,n){const s=n.directiveStart,o=n.directiveEnd,c=n.index,f=function la(){return Xe.lFrame.currentDirectiveIndex}();try{br(c);for(let y=s;y<o;y++){const D=e.data[y],I=t[y];zo(y),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&g_(D,I)}}finally{br(-1),zo(f)}}function g_(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ju(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function __(e,t,n){if(n){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)n[t.exportAs[s]]=e;Lr(t)&&(n[""]=e)}}function E_(e,t,n,s,o){e.data[s]=o;const c=o.factory||(o.factory=Ai(o.type)),f=new tn(c,Lr(o),Ja);e.blueprint[s]=f,n[s]=f,function h_(e,t,n,s,o){const c=o.hostBindings;if(c){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const y=~t.index;(function f_(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(f)!=y&&f.push(y),f.push(n,s,c)}}(e,t,s,Nl(e,n,o.hostVars,Bt),o)}function Mo(e,t,n,s,o,c){const f=Gr(e,t);!function zu(e,t,n,s,o,c,f){if(null==c)e.removeAttribute(t,o,n);else{const y=null==f?Me(c):f(c,s||"",o);e.setAttribute(t,o,y,n)}}(t[Ot],f,c,e.value,n,s,o)}function w_(e,t,n,s,o,c){const f=c[t];if(null!==f){const y=s.setInput;for(let D=0;D<f.length;){const I=f[D++],x=f[D++],V=f[D++];null!==y?s.setInput(n,V,I,x):n[x]=V}}}function C_(e,t,n){let s=null,o=0;for(;o<n.length;){const c=n[o];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===s&&(s=[]);const f=e[c];for(let y=0;y<f.length;y+=2)if(f[y]===t){s.push(c,f[y+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return s}function b_(e,t){const n=ar(t,e);if(vr(n)){const s=n[Ge];48&n[_t]?mc(s,n,s.template,n[sn]):n[Sr]>0&&$u(n)}}function $u(e){for(let s=ic(e);null!==s;s=sc(s))for(let o=or;o<s.length;o++){const c=s[o];if(vr(c))if(512&c[_t]){const f=c[Ge];mc(f,c,f.template,c[sn])}else c[Sr]>0&&$u(c)}const n=e[Ge].components;if(null!==n)for(let s=0;s<n.length;s++){const o=ar(n[s],e);vr(o)&&o[Sr]>0&&$u(o)}}function M_(e,t){const n=ar(t,e),s=n[Ge];(function I_(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(s,n),Fu(s,n,n[sn])}function vc(e,t){return e[rs]?e[bn][pr]=t:e[rs]=t,e[bn]=t,t}function _c(e){for(;e;){e[_t]|=32;const t=Pa(e);if(ea(e)&&!t)return e;e=t}return null}function yc(e,t,n,s=!0){const o=t[li];o.begin&&o.begin();try{mc(e,t,e.template,n)}catch(f){throw s&&hf(t,f),f}finally{o.end&&o.end()}}function Gu(e,t,n){gs(0),t(e,n)}function cf(e){return e[Jr]||(e[Jr]=[])}function uf(e){return e.cleanup||(e.cleanup=[])}function hf(e,t){const n=e[Ds],s=n?n.get(Pl,null):null;s&&s.handleError(t)}function Wu(e,t,n,s,o){for(let c=0;c<n.length;){const f=n[c++],y=n[c++],D=t[f],I=e.data[f];null!==I.setInput?I.setInput(D,o,s,y):D[y]=o}}function Ec(e,t,n){let s=n?e.styles:null,o=n?e.classes:null,c=0;if(null!==t)for(let f=0;f<t.length;f++){const y=t[f];"number"==typeof y?c=y:1==c?o=zt(o,y):2==c&&(s=zt(s,y+": "+t[++f]+";"))}n?e.styles=s:e.stylesWithoutHost=s,n?e.classes=o:e.classesWithoutHost=o}function Dc(e,t,n,s,o=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&s.push(er(c)),Jn(c))for(let y=or;y<c.length;y++){const D=c[y],I=D[Ge].firstChild;null!==I&&Dc(D[Ge],D,I,s)}const f=n.type;if(8&f)Dc(e,t,n.child,s);else if(32&f){const y=bl(n,t);let D;for(;D=y();)s.push(D)}else if(16&f){const y=dn(t,n);if(Array.isArray(y))s.push(...y);else{const D=Pa(t[Nn]);Dc(D[Ge],D,y,s,!0)}}n=o?n.projectionNext:n.next}return s}class xl{get rootNodes(){const t=this._lView,n=t[Ge];return Dc(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(t){this._lView[sn]=t}get destroyed(){return 128==(128&this._lView[_t])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[pn];if(Jn(t)){const n=t[Fs],s=n?n.indexOf(this):-1;s>-1&&(B(t,s),To(n,s))}this._attachedToViewContainer=!1}$(this._lView[Ge],this._lView)}onDestroy(t){tf(this._lView[Ge],this._lView,null,t)}markForCheck(){_c(this._cdRefInjectingView||this._lView)}detach(){this._lView[_t]&=-65}reattach(){this._lView[_t]|=64}detectChanges(){yc(this._lView[Ge],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function v(e,t){Ki(e,t,t[Ot],2,null,null)}(this._lView[Ge],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=t}}class A_ extends xl{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;yc(t[Ge],t,t[sn],!1)}checkNoChanges(){}get context(){return null}}class ff extends Rl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Qt(t);return new Ll(n,this.ngModule)}}function pf(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class O_{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,s){s=Ji(s);const o=this.injector.get(t,Iu,s);return o!==Iu||n===Iu?o:this.parentInjector.get(t,n,s)}}class Ll extends Ih{get inputs(){return pf(this.componentDef.inputs)}get outputs(){return pf(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Fv(e){return e.map(Lv).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,s,o){let c=(o=o||this.ngModule)instanceof La?o:o?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const f=c?new O_(t,c):t,y=f.get(Rh,null);if(null===y)throw new Ee(407,!1);const D=f.get(gv,null),I=y.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",V=s?function o_(e,t,n){return e.selectRootElement(t,n===vt.ShadowDom)}(I,s,this.componentDef.encapsulation):a(I,x,function R_(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(x)),q=this.componentDef.onPush?288:272,ee=Vu(0,null,null,1,0,null,null,null,null,null),fe=gc(null,ee,null,q,null,null,y,I,D,f,null);let Re,$e;_o(fe);try{const nt=this.componentDef;let Et,Te=null;nt.findHostDirectiveDefs?(Et=[],Te=new Map,nt.findHostDirectiveDefs(nt,Et,Te),Et.push(nt)):Et=[nt];const kt=function N_(e,t){const n=e[Ge],s=on;return e[s]=t,el(n,s,2,"#host",null)}(fe,V),Zn=function x_(e,t,n,s,o,c,f,y){const D=o[Ge];!function L_(e,t,n,s){for(const o of e)t.mergedAttrs=ce(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Ec(t,t.mergedAttrs,!0),null!==n&&ih(s,n,t))}(s,e,t,f);const I=c.createRenderer(t,n),x=gc(o,ef(n),null,n.onPush?32:16,o[e.index],e,c,I,y||null,null,null);return D.firstCreatePass&&ju(D,e,s.length-1),vc(o,x),o[e.index]=x}(kt,V,nt,Et,fe,y,I);$e=go(ee,on),V&&function k_(e,t,n,s){if(s)z(e,n,["ng-version",mv.full]);else{const{attrs:o,classes:c}=function kv(e){const t=[],n=[];let s=1,o=2;for(;s<e.length;){let c=e[s];if("string"==typeof c)2===o?""!==c&&t.push(c,e[++s]):8===o&&n.push(c);else{if(!Qs(o))break;o=c}s++}return{attrs:t,classes:n}}(t.selectors[0]);o&&z(e,n,o),c&&c.length>0&&rh(e,n,c.join(" "))}}(I,nt,V,s),void 0!==n&&function U_(e,t,n){const s=e.projection=[];for(let o=0;o<t.length;o++){const c=n[o];s.push(null!=c?Array.from(c):null)}}($e,this.ngContentSelectors,n),Re=function F_(e,t,n,s,o,c){const f=Yn(),y=o[Ge],D=Gr(f,o);sf(y,o,f,n,null,s);for(let x=0;x<n.length;x++)Zr(Nt(o,y,f.directiveStart+x,f),o);af(y,o,f),D&&Zr(D,o);const I=Nt(o,y,f.directiveStart+f.componentOffset,f);if(e[sn]=o[sn]=I,null!==c)for(const x of c)x(I,t);return ku(y,f,e),I}(Zn,nt,Et,Te,fe,[B_]),Fu(ee,fe,null)}finally{Eo()}return new P_(this.componentType,Re,Za($e,fe),fe,$e)}}class P_ extends lv{constructor(t,n,s,o,c){super(),this.location=s,this._rootLView=o,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new A_(o),this.componentType=t}setInput(t,n){const s=this._tNode.inputs;let o;if(null!==s&&(o=s[t])){const c=this._rootLView;Wu(c[Ge],c,o,t,n),_c(ar(this._tNode.index,c))}}get injector(){return new Ln(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function B_(){const e=Yn();ge(ve()[Ge],e)}function Yu(e){let t=function gf(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const s=[e];for(;t;){let o;if(Lr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ee(903,!1);o=t.\u0275dir}if(o){if(n){s.push(o);const f=e;f.inputs=qu(e.inputs),f.declaredInputs=qu(e.declaredInputs),f.outputs=qu(e.outputs);const y=o.hostBindings;y&&z_(e,y);const D=o.viewQuery,I=o.contentQueries;if(D&&H_(e,D),I&&j_(e,I),gt(e.inputs,o.inputs),gt(e.declaredInputs,o.declaredInputs),gt(e.outputs,o.outputs),Lr(o)&&o.data.animation){const x=e.data;x.animation=(x.animation||[]).concat(o.data.animation)}}const c=o.features;if(c)for(let f=0;f<c.length;f++){const y=c[f];y&&y.ngInherit&&y(e),y===Yu&&(n=!1)}}t=Object.getPrototypeOf(t)}!function V_(e){let t=0,n=null;for(let s=e.length-1;s>=0;s--){const o=e[s];o.hostVars=t+=o.hostVars,o.hostAttrs=ce(o.hostAttrs,n=ce(n,o.hostAttrs))}}(s)}function qu(e){return e===Rt?{}:e===ht?[]:e}function H_(e,t){const n=e.viewQuery;e.viewQuery=n?(s,o)=>{t(s,o),n(s,o)}:t}function j_(e,t){const n=e.contentQueries;e.contentQueries=n?(s,o,c)=>{t(s,o,c),n(s,o,c)}:t}function z_(e,t){const n=e.hostBindings;e.hostBindings=n?(s,o)=>{t(s,o),n(s,o)}:t}function wc(e){return!!Ku(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ku(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function yi(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Zu(e,t,n,s){const o=ve();return yi(o,ps(),t)&&(Kt(),Mo(wn(),o,e,t,n,s)),Zu}function Qu(e,t,n){const s=ve();return yi(s,ps(),t)&&function _s(e,t,n,s,o,c,f,y){const D=Gr(t,n);let x,I=t.inputs;!y&&null!=I&&(x=I[s])?(Wu(e,n,x,s,o),ls(t)&&function u_(e,t){const n=ar(t,e);16&n[_t]||(n[_t]|=32)}(n,t.index)):3&t.type&&(s=function c_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),o=null!=f?f(o,t.value||"",s):o,c.setProperty(D,s,o))}(Kt(),wn(),s,e,t,s[Ot],n,!1),Qu}function Xu(e,t,n,s,o){const f=o?"class":"style";Wu(e,n,t.inputs[f],f,s)}function Sc(e,t,n,s){const o=ve(),c=Kt(),f=on+e,y=o[Ot],D=c.firstCreatePass?function ry(e,t,n,s,o,c){const f=t.consts,D=el(t,e,2,s,Fr(f,o));return function Hu(e,t,n,s){if(sa()){const o=null===s?null:{"":-1},c=function m_(e,t){const n=e.directiveRegistry;let s=null,o=null;if(n)for(let c=0;c<n.length;c++){const f=n[c];if(Fh(t,f.selectors,!1))if(s||(s=[]),Lr(f))if(null!==f.findHostDirectiveDefs){const y=[];o=o||new Map,f.findHostDirectiveDefs(f,y,o),s.unshift(...y,f),ju(e,t,y.length)}else s.unshift(f),ju(e,t,0);else o=o||new Map,f.findHostDirectiveDefs?.(f,s,o),s.push(f)}return null===s?null:[s,o]}(e,n);let f,y;null===c?f=y=null:[f,y]=c,null!==f&&sf(e,t,n,f,o,y),o&&function v_(e,t,n){if(t){const s=e.localNames=[];for(let o=0;o<t.length;o+=2){const c=n[t[o+1]];if(null==c)throw new Ee(-301,!1);s.push(t[o],c)}}}(n,s,o)}n.mergedAttrs=ce(n.mergedAttrs,n.attrs)}(t,n,D,Fr(f,c)),null!==D.attrs&&Ec(D,D.attrs,!1),null!==D.mergedAttrs&&Ec(D,D.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,D),D}(f,c,o,t,n,s):c.data[f],I=o[f]=a(y,t,function j(){return Xe.lFrame.currentNamespace}()),x=ui(D);return kr(D,!0),ih(y,I,D),32!=(32&D.flags)&&Dn(c,o,I,D),0===function wa(){return Xe.lFrame.elementDepthCount}()&&Zr(I,o),function Ts(){Xe.lFrame.elementDepthCount++}(),x&&(function Uu(e,t,n){sa()&&(function p_(e,t,n,s){const o=n.directiveStart,c=n.directiveEnd;ls(n)&&function D_(e,t,n){const s=Gr(t,e),o=ef(n),c=e[li],f=vc(e,gc(e,o,null,n.onPush?32:16,s,t,c,c.createRenderer(s,n),null,null,null));e[t.index]=f}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||$n(n,t),Zr(s,t);const f=n.initialInputs;for(let y=o;y<c;y++){const D=e.data[y],I=Nt(t,e,y,n);Zr(I,t),null!==f&&w_(0,y-o,I,D,0,f),Lr(D)&&(ar(n.index,t)[sn]=Nt(t,e,y,n))}}(e,t,n,Gr(n,t)),64==(64&n.flags)&&af(e,t,n))}(c,o,D),ku(c,D,o)),null!==s&&function Bu(e,t,n=Gr){const s=t.localNames;if(null!==s){let o=t.index+1;for(let c=0;c<s.length;c+=2){const f=s[c+1],y=-1===f?n(t,e):e[f];e[o++]=y}}}(o,D),Sc}function Tc(){let e=Yn();$s()?ds():(e=e.parent,kr(e,!1));const t=e;!function bs(){Xe.lFrame.elementDepthCount--}();const n=Kt();return n.firstCreatePass&&(ge(n,e),as(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function g(e){return 0!=(8&e.flags)}(t)&&Xu(n,t,ve(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function C(e){return 0!=(16&e.flags)}(t)&&Xu(n,t,ve(),t.stylesWithoutHost,!1),Tc}function Ju(e,t,n,s){return Sc(e,t,n,s),Tc(),Ju}function nd(e){return!!e&&"function"==typeof e.then}function Af(e){return!!e&&"function"==typeof e.subscribe}const Rf=Af;function rd(e,t,n,s){const o=ve(),c=Kt(),f=Yn();return function Pf(e,t,n,s,o,c,f){const y=ui(s),I=e.firstCreatePass&&uf(e),x=t[sn],V=cf(t);let q=!0;if(3&s.type||f){const Re=Gr(s,t),$e=f?f(Re):Re,nt=V.length,Et=f?kt=>f(er(kt[s.index])):s.index;let Te=null;if(!f&&y&&(Te=function oy(e,t,n,s){const o=e.cleanup;if(null!=o)for(let c=0;c<o.length-1;c+=2){const f=o[c];if(f===n&&o[c+1]===s){const y=t[Jr],D=o[c+2];return y.length>D?y[D]:null}"string"==typeof f&&(c+=2)}return null}(e,t,o,s.index)),null!==Te)(Te.__ngLastListenerFn__||Te).__ngNextListenerFn__=c,Te.__ngLastListenerFn__=c,q=!1;else{c=xf(s,t,x,c,!1);const kt=n.listen($e,o,c);V.push(c,kt),I&&I.push(o,Et,nt,nt+1)}}else c=xf(s,t,x,c,!1);const ee=s.outputs;let fe;if(q&&null!==ee&&(fe=ee[o])){const Re=fe.length;if(Re)for(let $e=0;$e<Re;$e+=2){const Zn=t[fe[$e]][fe[$e+1]].subscribe(c),wr=V.length;V.push(c,Zn),I&&I.push(o,s.index,wr,-(wr+1))}}}(c,o,o[Ot],f,e,t,s),rd}function Nf(e,t,n,s){try{return mr(6,t,n),!1!==n(s)}catch(o){return hf(e,o),!1}finally{mr(7,t,n)}}function xf(e,t,n,s,o){return function c(f){if(f===Function)return s;_c(e.componentOffset>-1?ar(e.index,t):t);let D=Nf(t,n,s,f),I=c.__ngNextListenerFn__;for(;I;)D=Nf(t,n,I,f)&&D,I=I.__ngNextListenerFn__;return o&&!1===D&&(f.preventDefault(),f.returnValue=!1),D}}function ly(e,t){let n=null;const s=function Ov(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const c=t[o];if("*"!==c){if(null===s?Fh(e,c,!0):xv(s,c))return o}else n=o}return n}function Lf(e){const t=ve()[Nn][yn];if(!t.projection){const s=t.projection=bo(e?e.length:1,null),o=s.slice();let c=t.child;for(;null!==c;){const f=e?ly(c,e):0;null!==f&&(o[f]?o[f].projectionNext=c:s[f]=c,o[f]=c),c=c.next}}}function Ff(e,t=0,n){const s=ve(),o=Kt(),c=el(o,on+e,16,null,n||null);null===c.projection&&(c.projection=t),ds(),32!=(32&c.flags)&&function lc(e,t,n){nh(t[Ot],0,t,n,me(e,n,t),cn(n.parent||t[yn],n,t))}(o,s,c)}function ap(e,t=""){const n=ve(),s=Kt(),o=e+on,c=s.firstCreatePass?el(s,o,1,t,null):s.data[o],f=n[o]=function ac(e,t){return e.createText(t)}(n[Ot],t);Dn(s,n,f,c),kr(c,!1)}const Ba=void 0;var Ky=["en",[["a","p"],["AM","PM"],Ba],[["AM","PM"],Ba,Ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ba,"{1} 'at' {0}",Ba],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qy(e){const n=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let dl={};function ud(e){const t=function Zy(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Ap(t);if(n)return n;const s=t.split("-")[0];if(n=Ap(s),n)return n;if("en"===s)return Ky;throw new Ee(701,!1)}function Ip(e){return ud(e)[It.PluralCase]}function Ap(e){return e in dl||(dl[e]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[e]),dl[e]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const hl="en-US";let Rp=hl;class fl{}class ng{}function Z0(e,t){return new rg(e,t??null)}class rg extends fl{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ff(this);const s=Pn(t);this._bootstrapComponents=Zo(s.bootstrap),this._r3Injector=$h(t,n,[{provide:fl,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver}],st(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class vd extends ng{constructor(t){super(),this.moduleType=t}create(t){return new rg(this.moduleType,t)}}class Q0 extends fl{constructor(t,n,s){super(),this.componentFactoryResolver=new ff(this),this.instance=null;const o=new bh([...t,{provide:fl,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver}],n||fc(),s,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function _d(e,t,n=null){return new Q0(e,t,n).injector}let X0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const s=wh(0,n.type),o=s.length>0?_d([s],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=jt({token:e,providedIn:"environment",factory:()=>new e(fn(La))}),e})();function ig(e){e.getStandaloneInjector=t=>t.get(X0).getOrCreateStandaloneInjector(e)}function Ed(e){return t=>{setTimeout(e,void 0,t)}}const Oo=class SE extends R.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,s){let o=t,c=n||(()=>null),f=s;if(t&&"object"==typeof t){const D=t;o=D.next?.bind(D),c=D.error?.bind(D),f=D.complete?.bind(D)}this.__isAsync&&(c=Ed(c),o&&(o=Ed(o)),f&&(f=Ed(f)));const y=super.subscribe({next:o,error:c,complete:f});return t instanceof Q.w0&&t.add(y),y}};function TE(){return this._results[Symbol.iterator]()}class Dd{get changes(){return this._changes||(this._changes=new Oo)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Dd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=TE)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const s=this;s.dirty=!1;const o=function gi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Sa(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let o=e[s],c=t[s];if(n&&(o=n(o),c=n(c)),c!==o)return!1}return!0}(s._results,o,n))&&(s._results=o,s.length=o.length,s.last=o[this.length-1],s.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gl=(()=>{class e{}return e.__NG_ELEMENT_ID__=IE,e})();const bE=Gl,ME=class extends bE{constructor(t,n,s){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=s}createEmbeddedView(t,n){const s=this._declarationTContainer.tView,o=gc(this._declarationLView,s,t,16,null,s.declTNode,null,null,null,null,n||null);o[xn]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[Wn];return null!==f&&(o[Wn]=f.createEmbeddedView(s)),Fu(s,o,t),new xl(o)}};function IE(){return Pc(Yn(),ve())}function Pc(e,t){return 4&e.type?new ME(t,e,Za(e,t)):null}let Nc=(()=>{class e{}return e.__NG_ELEMENT_ID__=AE,e})();function AE(){return _g(Yn(),ve())}const RE=Nc,mg=class extends RE{constructor(t,n,s){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=s}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new Ln(this._hostTNode,this._hostLView)}get parentInjector(){const t=Er(this._hostTNode,this._hostLView);if(qe(t)){const n=ot(t,this._hostLView),s=Pt(t);return new Ln(n[Ge].data[s+8],n)}return new Ln(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=vg(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-or}createEmbeddedView(t,n,s){let o,c;"number"==typeof s?o=s:null!=s&&(o=s.index,c=s.injector);const f=t.createEmbeddedView(n||{},c);return this.insert(f,o),f}createComponent(t,n,s,o,c){const f=t&&!function qs(e){return"function"==typeof e}(t);let y;if(f)y=n;else{const V=n||{};y=V.index,s=V.injector,o=V.projectableNodes,c=V.environmentInjector||V.ngModuleRef}const D=f?t:new Ll(Qt(t)),I=s||this.parentInjector;if(!c&&null==D.ngModule){const q=(f?I:this.parentInjector).get(La,null);q&&(c=q)}const x=D.create(I,o,void 0,c);return this.insert(x.hostView,y),x}insert(t,n){const s=t._lView,o=s[Ge];if(function mo(e){return Jn(e[pn])}(s)){const x=this.indexOf(t);if(-1!==x)this.detach(x);else{const V=s[pn],q=new mg(V,V[yn],V[pn]);q.detach(q.indexOf(t))}}const c=this._adjustIndex(n),f=this._lContainer;!function M(e,t,n,s){const o=or+s,c=n.length;s>0&&(n[o-1][pr]=t),s<c-or?(t[pr]=n[o],Os(n,or+s,t)):(n.push(t),t[pr]=null),t[pn]=n;const f=t[xn];null!==f&&n!==f&&function N(e,t){const n=e[ei];t[Nn]!==t[pn][pn][Nn]&&(e[ao]=!0),null===n?e[ei]=[t]:n.push(t)}(f,t);const y=t[Wn];null!==y&&y.insertView(e),t[_t]|=64}(o,s,f,c);const y=xi(c,f),D=s[Ot],I=lt(D,f[Hi]);return null!==I&&function h(e,t,n,s,o,c){s[Nr]=o,s[yn]=t,Ki(e,s,n,1,o,c)}(o,f[yn],D,s,I,y),t.attachToViewContainerRef(),Os(wd(f),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=vg(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),s=B(this._lContainer,n);s&&(To(wd(this._lContainer),n),$(s[Ge],s))}detach(t){const n=this._adjustIndex(t,-1),s=B(this._lContainer,n);return s&&null!=To(wd(this._lContainer),n)?new xl(s):null}_adjustIndex(t,n=0){return t??this.length+n}};function vg(e){return e[Fs]}function wd(e){return e[Fs]||(e[Fs]=[])}function _g(e,t){let n;const s=t[e.index];if(Jn(s))n=s;else{let o;if(8&e.type)o=er(s);else{const c=t[Ot];o=c.createComment("");const f=Gr(e,t);Ae(c,lt(c,f),o,function Cn(e,t){return e.nextSibling(t)}(c,f),!1)}t[e.index]=n=function lf(e,t,n,s){return[e,!0,!1,t,null,0,s,n,null,null]}(s,t,o,e),vc(t,n)}return new mg(n,e,t)}class Cd{constructor(t){this.queryList=t,this.matches=null}clone(){return new Cd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const s=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let c=0;c<s;c++){const f=n.getByIndex(c);o.push(this.queries[f.indexInDeclarationView].clone())}return new Sd(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Mg(t,n).matches&&this.queries[n].setDirty()}}class yg{constructor(t,n,s=null){this.predicate=t,this.flags=n,this.read=s}}class Td{constructor(t=[]){this.queries=t}elementStart(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let s=0;s<this.length;s++){const o=null!==n?n.length:0,c=this.getByIndex(s).embeddedTView(t,o);c&&(c.indexInDeclarationView=s,null!==n?n.push(c):n=[c])}return null!==n?new Td(n):null}template(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class bd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new bd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==n;)s=s.parent;return n===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const s=this.metadata.predicate;if(Array.isArray(s))for(let o=0;o<s.length;o++){const c=s[o];this.matchTNodeWithReadOption(t,n,OE(n,c)),this.matchTNodeWithReadOption(t,n,tt(n,t,c,!1,!1))}else s===Gl?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,tt(n,t,s,!1,!1))}matchTNodeWithReadOption(t,n,s){if(null!==s){const o=this.metadata.read;if(null!==o)if(o===Ol||o===Nc||o===Gl&&4&n.type)this.addMatch(n.index,-2);else{const c=tt(n,t,o,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,s)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function OE(e,t){const n=e.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===t)return n[s+1];return null}function NE(e,t,n,s){return-1===n?function PE(e,t){return 11&e.type?Za(e,t):4&e.type?Pc(e,t):null}(t,e):-2===n?function xE(e,t,n){return n===Ol?Za(t,e):n===Gl?Pc(t,e):n===Nc?_g(t,e):void 0}(e,t,s):Nt(e,e[Ge],n,t)}function Eg(e,t,n,s){const o=t[Wn].queries[s];if(null===o.matches){const c=e.data,f=n.matches,y=[];for(let D=0;D<f.length;D+=2){const I=f[D];y.push(I<0?null:NE(t,c[I],f[D+1],n.metadata.read))}o.matches=y}return o.matches}function Md(e,t,n,s){const o=e.queries.getByIndex(n),c=o.matches;if(null!==c){const f=Eg(e,t,o,n);for(let y=0;y<c.length;y+=2){const D=c[y];if(D>0)s.push(f[y/2]);else{const I=c[y+1],x=t[-D];for(let V=or;V<x.length;V++){const q=x[V];q[xn]===q[pn]&&Md(q[Ge],q,I,s)}if(null!==x[ei]){const V=x[ei];for(let q=0;q<V.length;q++){const ee=V[q];Md(ee[Ge],ee,I,s)}}}}}return s}function Dg(e){const t=ve(),n=Kt(),s=$o();gs(s+1);const o=Mg(n,s);if(e.dirty&&function Cs(e){return 4==(4&e[_t])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const c=o.crossesNgTemplate?Md(n,t,s,[]):Eg(n,t,o,s);e.reset(c,hv),e.notifyOnChanges()}return!0}return!1}function wg(e,t,n){const s=Kt();s.firstCreatePass&&(bg(s,new yg(e,t,n),-1),2==(2&t)&&(s.staticViewQueries=!0)),Tg(s,ve(),t)}function Cg(e,t,n,s){const o=Kt();if(o.firstCreatePass){const c=Yn();bg(o,new yg(t,n,s),c.index),function FE(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}Tg(o,ve(),n)}function Sg(){return function LE(e,t){return e[Wn].queries[t].queryList}(ve(),$o())}function Tg(e,t,n){const s=new Dd(4==(4&n));tf(e,t,s,s.destroy),null===t[Wn]&&(t[Wn]=new Sd),t[Wn].queries.push(new Cd(s))}function bg(e,t,n){null===e.queries&&(e.queries=new Td),e.queries.track(new bd(t,n))}function Mg(e,t){return e.queries.getByIndex(t)}function Id(e){return!!Pn(e)}function Lc(...e){}const Gg=new Rn("Application Initializer");let Fc=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Lc,this.reject=Lc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,o)=>{this.resolve=s,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const c=this.appInits[o]();if(nd(c))n.push(c);else if(Rf(c)){const f=new Promise((y,D)=>{c.subscribe({complete:y,error:D})});n.push(f)}}Promise.all(n).then(()=>{s()}).catch(o=>{this.reject(o)}),0===n.length&&s(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(fn(Gg,8))},e.\u0275prov=jt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Wg=new Rn("AppId",{providedIn:"root",factory:function Yg(){return`${Nd()}${Nd()}${Nd()}`}});function Nd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qg=new Rn("Platform Initializer"),rD=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iD=new Rn("AnimationModuleType");let sD=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=jt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const kc=new Rn("LocaleId",{providedIn:"root",factory:()=>ai(kc,be.Optional|be.SkipSelf)||function oD(){return typeof $localize<"u"&&$localize.locale||hl}()}),aD=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class lD{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let cD=(()=>{class e{compileModuleSync(n){return new vd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const s=this.compileModuleSync(n),c=Zo(Pn(n).declarations).reduce((f,y)=>{const D=Qt(y);return D&&f.push(new Ll(D)),f},[]);return new lD(s,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=jt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const hD=(()=>Promise.resolve(0))();function xd(e){typeof Zone>"u"?hD.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class xs{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oo(!1),this.onMicrotaskEmpty=new Oo(!1),this.onStable=new Oo(!1),this.onError=new Oo(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!s&&n,o.shouldCoalesceRunChangeDetection=s,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function fD(){let e=Ft.requestAnimationFrame,t=Ft.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function mD(e){const t=()=>{!function gD(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ft,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Fd(e),e.isCheckStableRunning=!0,Ld(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Fd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,o,c,f,y)=>{try{return Qg(e),n.invokeTask(o,c,f,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),Xg(e)}},onInvoke:(n,s,o,c,f,y,D)=>{try{return Qg(e),n.invoke(o,c,f,y,D)}finally{e.shouldCoalesceRunChangeDetection&&t(),Xg(e)}},onHasTask:(n,s,o,c)=>{n.hasTask(o,c),s===o&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,Fd(e),Ld(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,s,o,c)=>(n.handleError(o,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xs.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(xs.isInAngularZone())throw new Ee(909,!1)}run(t,n,s){return this._inner.run(t,n,s)}runTask(t,n,s,o){const c=this._inner,f=c.scheduleEventTask("NgZoneEvent: "+o,t,pD,Lc,Lc);try{return c.runTask(f,n,s)}finally{c.cancelTask(f)}}runGuarded(t,n,s){return this._inner.runGuarded(t,n,s)}runOutsideAngular(t){return this._outer.run(t)}}const pD={};function Ld(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Fd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Qg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Xg(e){e._nesting--,Ld(e)}class vD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oo,this.onMicrotaskEmpty=new Oo,this.onStable=new Oo,this.onError=new Oo}run(t,n,s){return t.apply(n,s)}runGuarded(t,n,s){return t.apply(n,s)}runOutsideAngular(t){return t()}runTask(t,n,s,o){return t.apply(n,s)}}const Jg=new Rn(""),em=new Rn("");let kd,_D=(()=>{class e{constructor(n,s,o){this._ngZone=n,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kd||(function yD(e){kd=e}(o),o.addToWindow(s)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xs.assertNotInAngularZone(),xd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(n)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,s,o){let c=-1;s&&s>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==c),n(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:o})}whenStable(n,s,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,s,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,s,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(fn(xs),fn(tm),fn(em))},e.\u0275prov=jt({token:e,factory:e.\u0275fac}),e})(),tm=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,s){this._applications.set(n,s)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,s=!0){return kd?.findTestabilityInTree(this,n,s)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=jt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Xo=!1;let _a=null;const nm=new Rn("AllowMultipleToken"),Ud=new Rn("PlatformDestroyListeners"),rm=new Rn("appBootstrapListener");class wD{constructor(t,n){this.name=t,this.token=n}}function sm(e,t,n=[]){const s=`Platform: ${t}`,o=new Rn(s);return(c=[])=>{let f=Bd();if(!f||f.injector.get(nm,!1)){const y=[...n,...c,{provide:o,useValue:!0}];e?e(y):function CD(e){if(_a&&!_a.get(nm,!1))throw new Ee(400,!1);_a=e;const t=e.get(am);(function im(e){const t=e.get(qg,null);t&&t.forEach(n=>n())})(e)}(function om(e=[],t){return Fa.create({name:t,providers:[{provide:Su,useValue:"platform"},{provide:Ud,useValue:new Set([()=>_a=null])},...e]})}(y,s))}return function TD(e){const t=Bd();if(!t)throw new Ee(401,!1);return t}()}}function Bd(){return _a?.get(am)??null}let am=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,s){const o=function cm(e,t){let n;return n="noop"===e?new vD:("zone.js"===e?void 0:e)||new xs(t),n}(s?.ngZone,function lm(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(s)),c=[{provide:xs,useValue:o}];return o.run(()=>{const f=Fa.create({providers:c,parent:this.injector,name:n.moduleType.name}),y=n.create(f),D=y.injector.get(Pl,null);if(!D)throw new Ee(402,!1);return o.runOutsideAngular(()=>{const I=o.onError.subscribe({next:x=>{D.handleError(x)}});y.onDestroy(()=>{Bc(this._modules,y),I.unsubscribe()})}),function um(e,t,n){try{const s=n();return nd(s)?s.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(D,o,()=>{const I=y.injector.get(Fc);return I.runInitializers(),I.donePromise.then(()=>(function Op(e){kn(e,"Expected localeId to be defined"),"string"==typeof e&&(Rp=e.toLowerCase().replace(/_/g,"-"))}(y.injector.get(kc,hl)||hl),this._moduleDoBootstrap(y),y))})})}bootstrapModule(n,s=[]){const o=dm({},s);return function ED(e,t,n){const s=new vd(n);return Promise.resolve(s)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,o))}_moduleDoBootstrap(n){const s=n.injector.get(Uc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>s.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Ee(-403,!1);n.instance.ngDoBootstrap(s)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const n=this._injector.get(Ud,null);n&&(n.forEach(s=>s()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(fn(Fa))},e.\u0275prov=jt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function dm(e,t){return Array.isArray(t)?t.reduce(dm,e):{...e,...t}}let Uc=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,s,o){this._zone=n,this._injector=s,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new J.y(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),f=new J.y(y=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{xs.assertNotInAngularZone(),xd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{xs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{D.unsubscribe(),I.unsubscribe()}});this.isStable=function Qe(...e){const t=(0,We.yG)(e),n=(0,We._6)(e,1/0),s=e;return s.length?1===s.length?(0,Se.Xf)(s[0]):(0,ue.J)(n)((0,ut.D)(s,t)):Ue.E}(c,f.pipe(function ze(e={}){const{connector:t=(()=>new R.x),resetOnError:n=!0,resetOnComplete:s=!0,resetOnRefCountZero:o=!0}=e;return c=>{let f,y,D,I=0,x=!1,V=!1;const q=()=>{y?.unsubscribe(),y=void 0},ee=()=>{q(),f=D=void 0,x=V=!1},fe=()=>{const Re=f;ee(),Re?.unsubscribe()};return(0,ye.e)((Re,$e)=>{I++,!V&&!x&&q();const nt=D=D??t();$e.add(()=>{I--,0===I&&!V&&!x&&(y=bt(fe,o))}),nt.subscribe($e),!f&&I>0&&(f=new we.Hp({next:Et=>nt.next(Et),error:Et=>{V=!0,q(),y=bt(ee,n,Et),nt.error(Et)},complete:()=>{x=!0,q(),y=bt(ee,s),nt.complete()}}),(0,Se.Xf)(Re).subscribe(f))})(c)}}()))}bootstrap(n,s){const o=n instanceof Ih;if(!this._injector.get(Fc).done){!o&&Si(n);throw new Ee(405,Xo)}let f;f=o?n:this._injector.get(Rl).resolveComponentFactory(n),this.componentTypes.push(f.componentType);const y=function DD(e){return e.isBoundToModule}(f)?void 0:this._injector.get(fl),I=f.create(Fa.NULL,[],s||f.selector,y),x=I.location.nativeElement,V=I.injector.get(Jg,null);return V?.registerApplication(x),I.onDestroy(()=>{this.detachView(I.hostView),Bc(this.components,I),V?.unregisterApplication(x)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const s=n;this._views.push(s),s.attachToAppRef(this)}detachView(n){const s=n;Bc(this._views,s),s.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const s=this._injector.get(rm,[]);s.push(...this._bootstrapListeners),s.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ee(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(fn(xs),fn(La),fn(Pl))},e.\u0275prov=jt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Bc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let MD=(()=>{class e{}return e.__NG_ELEMENT_ID__=ID,e})();function ID(e){return function AD(e,t,n){if(ls(e)&&!n){const s=ar(e.index,t);return new xl(s,s)}return 47&e.type?new xl(t[Nn],t):null}(Yn(),ve(),16==(16&e))}class mm{constructor(){}supports(t){return wc(t)}create(t){return new LD(t)}}const xD=(e,t)=>t;class LD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,s=this._removalsHead,o=0,c=null;for(;n||s;){const f=!s||n&&n.currentIndex<_m(s,o,c)?n:s,y=_m(f,o,c),D=f.currentIndex;if(f===s)o--,s=s._nextRemoved;else if(n=n._next,null==f.previousIndex)o++;else{c||(c=[]);const I=y-o,x=D-o;if(I!=x){for(let q=0;q<I;q++){const ee=q<c.length?c[q]:c[q]=0,fe=ee+q;x<=fe&&fe<I&&(c[q]=ee+1)}c[f.previousIndex]=x-I}}y!==D&&t(f,y,D)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!wc(t))throw new Ee(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,c,f,n=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)c=t[y],f=this._trackByFn(y,c),null!==n&&Object.is(n.trackById,f)?(s&&(n=this._verifyReinsertion(n,c,f,y)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,f,y),s=!0),n=n._next}else o=0,function Z_(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let s;for(;!(s=n.next()).done;)t(s.value)}}(t,y=>{f=this._trackByFn(o,y),null!==n&&Object.is(n.trackById,f)?(s&&(n=this._verifyReinsertion(n,y,f,o)),Object.is(n.item,y)||this._addIdentityChange(n,y)):(n=this._mismatch(n,y,f,o),s=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,s,o){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,o)):t=this._addAfter(new FD(n,s),c,o),t}_verifyReinsertion(t,n,s,o){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==c?t=this._reinsertAfter(c,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,c=t._nextRemoved;return null===o?this._removalsHead=c:o._nextRemoved=c,null===c?this._removalsTail=o:c._prevRemoved=o,this._insertAfter(t,n,s),this._addToMoves(t,s),t}_moveAfter(t,n,s){return this._unlink(t),this._insertAfter(t,n,s),this._addToMoves(t,s),t}_addAfter(t,n,s){return this._insertAfter(t,n,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,s){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new vm),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,s=t._next;return null===n?this._itHead=s:n._next=s,null===s?this._itTail=n:s._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vm),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class FD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===n||n<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const n=t._prevDup,s=t._nextDup;return null===n?this._head=s:n._nextDup=s,null===s?this._tail=n:s._prevDup=n,null===this._head}}class vm{constructor(){this.map=new Map}put(t){const n=t.trackById;let s=this.map.get(n);s||(s=new kD,this.map.set(n,s)),s.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _m(e,t,n){const s=e.previousIndex;if(null===s)return s;let o=0;return n&&s<n.length&&(o=n[s]),s+t+o}class ym{constructor(){}supports(t){return t instanceof Map||Ku(t)}create(){return new UD}}class UD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Ku(t)))throw new Ee(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,s),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(o,s);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let s=n;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const s=t._prev;return n._next=t,n._prev=s,t._prev=n,s&&(s._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const c=o._prev,f=o._next;return c&&(c._next=f),f&&(f._prev=c),o._next=null,o._prev=null,o}const s=new BD(t);return this._records.set(t,s),s.currentValue=n,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(s=>n(t[s],s))}}class BD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Em(){return new $d([new mm])}let $d=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(null!=s){const o=s.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||Em()),deps:[[e,new qr,new zn]]}}find(n){const s=this.factories.find(o=>o.supports(n));if(null!=s)return s;throw new Ee(901,!1)}}return e.\u0275prov=jt({token:e,providedIn:"root",factory:Em}),e})();function Dm(){return new Gd([new ym])}let Gd=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(s){const o=s.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||Dm()),deps:[[e,new qr,new zn]]}}find(n){const s=this.factories.find(o=>o.supports(n));if(s)return s;throw new Ee(901,!1)}}return e.\u0275prov=jt({token:e,providedIn:"root",factory:Dm}),e})();const jD=sm(null,"core",[]);let zD=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(fn(Uc))},e.\u0275mod=Pr({type:e}),e.\u0275inj=jr({}),e})();function $D(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},481:(Vt,He,Y)=>{Y.d(He,{Dx:()=>rn,b2:()=>Qi,q6:()=>jr,se:()=>rt});var R=Y(895),Q=Y(256);class J extends R.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends J{static makeCurrent(){(0,R.HT)(new ue)}onAndCancel(X,H,ie){return X.addEventListener(H,ie,!1),()=>{X.removeEventListener(H,ie,!1)}}dispatchEvent(X,H){X.dispatchEvent(H)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,H){return(H=H||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,H){return"window"===H?window:"document"===H?X:"body"===H?X.body:null}getBaseHref(X){const H=function Ue(){return Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null}();return null==H?null:function ut(re){We=We||document.createElement("a"),We.setAttribute("href",re);const X=We.pathname;return"/"===X.charAt(0)?X:`/${X}`}(H)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,R.Mx)(document.cookie,X)}}let We,Se=null;const Qe=new Q.OlP("TRANSITION_ID"),ye=[{provide:Q.ip1,useFactory:function we(re,X,H){return()=>{H.get(Q.CZH).donePromise.then(()=>{const ie=(0,R.q)(),pe=X.querySelectorAll(`style[ng-transition="${re}"]`);for(let Be=0;Be<pe.length;Be++)ie.remove(pe[Be])})}},deps:[Qe,R.K0,Q.zs3],multi:!0}];let bt=(()=>{class re{build(){return new XMLHttpRequest}}return re.\u0275fac=function(H){return new(H||re)},re.\u0275prov=Q.Yz7({token:re,factory:re.\u0275fac}),re})();const Pe=new Q.OlP("EventManagerPlugins");let gt=(()=>{class re{constructor(H,ie){this._zone=ie,this._eventNameToPlugin=new Map,H.forEach(pe=>{pe.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,ie,pe){return this._findPluginFor(ie).addEventListener(H,ie,pe)}addGlobalEventListener(H,ie,pe){return this._findPluginFor(ie).addGlobalEventListener(H,ie,pe)}getZone(){return this._zone}_findPluginFor(H){const ie=this._eventNameToPlugin.get(H);if(ie)return ie;const pe=this._plugins;for(let Be=0;Be<pe.length;Be++){const vt=pe[Be];if(vt.supports(H))return this._eventNameToPlugin.set(H,vt),vt}throw new Error(`No event manager plugin found for event ${H}`)}}return re.\u0275fac=function(H){return new(H||re)(Q.LFG(Pe),Q.LFG(Q.R0b))},re.\u0275prov=Q.Yz7({token:re,factory:re.\u0275fac}),re})();class st{constructor(X){this._doc=X}addGlobalEventListener(X,H,ie){const pe=(0,R.q)().getGlobalEventTarget(this._doc,X);if(!pe)throw new Error(`Unsupported event target ${pe} for event ${H}`);return this.addEventListener(pe,H,ie)}}let zt=(()=>{class re{constructor(){this.usageCount=new Map}addStyles(H){for(const ie of H)1===this.changeUsageCount(ie,1)&&this.onStyleAdded(ie)}removeStyles(H){for(const ie of H)0===this.changeUsageCount(ie,-1)&&this.onStyleRemoved(ie)}onStyleRemoved(H){}onStyleAdded(H){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(H,ie){const pe=this.usageCount;let Be=pe.get(H)??0;return Be+=ie,Be>0?pe.set(H,Be):pe.delete(H),Be}ngOnDestroy(){for(const H of this.getAllStyles())this.onStyleRemoved(H);this.usageCount.clear()}}return re.\u0275fac=function(H){return new(H||re)},re.\u0275prov=Q.Yz7({token:re,factory:re.\u0275fac}),re})(),Gt=(()=>{class re extends zt{constructor(H){super(),this.doc=H,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(H){for(const ie of this.hostNodes)this.addStyleToHost(ie,H)}onStyleRemoved(H){const ie=this.styleRef;ie.get(H)?.forEach(Be=>Be.remove()),ie.delete(H)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const ie of this.getAllStyles())this.addStyleToHost(H,ie)}removeHost(H){this.hostNodes.delete(H)}addStyleToHost(H,ie){const pe=this.doc.createElement("style");pe.textContent=ie,H.appendChild(pe);const Be=this.styleRef.get(ie);Be?Be.push(pe):this.styleRef.set(ie,[pe])}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}}return re.\u0275fac=function(H){return new(H||re)(Q.LFG(R.K0))},re.\u0275prov=Q.Yz7({token:re,factory:re.\u0275fac}),re})();const Ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ke=/%COMP%/g,je=new Q.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function pt(re,X){return X.flat(100).map(H=>H.replace(Ke,re))}function Xt(re){return X=>{if("__ngUnwrap__"===X)return re;!1===re(X)&&(X.preventDefault(),X.returnValue=!1)}}let rt=(()=>{class re{constructor(H,ie,pe,Be){this.eventManager=H,this.sharedStylesHost=ie,this.appId=pe,this.removeStylesOnCompDestory=Be,this.rendererByCompId=new Map,this.defaultRenderer=new ae(H)}createRenderer(H,ie){if(!H||!ie)return this.defaultRenderer;const pe=this.getOrCreateRenderer(H,ie);return pe instanceof Oe?pe.applyToHost(H):pe instanceof Ce&&pe.applyStyles(),pe}getOrCreateRenderer(H,ie){const pe=this.rendererByCompId;let Be=pe.get(ie.id);if(!Be){const vt=this.eventManager,Rt=this.sharedStylesHost,ht=this.removeStylesOnCompDestory;switch(ie.encapsulation){case Q.ifc.Emulated:Be=new Oe(vt,Rt,ie,this.appId,ht);break;case Q.ifc.ShadowDom:return new ke(vt,Rt,H,ie);default:Be=new Ce(vt,Rt,ie,ht)}Be.onDestroy=()=>pe.delete(ie.id),pe.set(ie.id,Be)}return Be}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return re.\u0275fac=function(H){return new(H||re)(Q.LFG(gt),Q.LFG(Gt),Q.LFG(Q.AFp),Q.LFG(je))},re.\u0275prov=Q.Yz7({token:re,factory:re.\u0275fac}),re})();class ae{constructor(X){this.eventManager=X,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,H){return H?document.createElementNS(Ut[H]||H,X):document.createElement(X)}createComment(X){return document.createComment(X)}createText(X){return document.createTextNode(X)}appendChild(X,H){(De(X)?X.content:X).appendChild(H)}insertBefore(X,H,ie){X&&(De(X)?X.content:X).insertBefore(H,ie)}removeChild(X,H){X&&X.removeChild(H)}selectRootElement(X,H){let ie="string"==typeof X?document.querySelector(X):X;if(!ie)throw new Error(`The selector "${X}" did not match any elements`);return H||(ie.textContent=""),ie}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,H,ie,pe){if(pe){H=pe+":"+H;const Be=Ut[pe];Be?X.setAttributeNS(Be,H,ie):X.setAttribute(H,ie)}else X.setAttribute(H,ie)}removeAttribute(X,H,ie){if(ie){const pe=Ut[ie];pe?X.removeAttributeNS(pe,H):X.removeAttribute(`${ie}:${H}`)}else X.removeAttribute(H)}addClass(X,H){X.classList.add(H)}removeClass(X,H){X.classList.remove(H)}setStyle(X,H,ie,pe){pe&(Q.JOm.DashCase|Q.JOm.Important)?X.style.setProperty(H,ie,pe&Q.JOm.Important?"important":""):X.style[H]=ie}removeStyle(X,H,ie){ie&Q.JOm.DashCase?X.style.removeProperty(H):X.style[H]=""}setProperty(X,H,ie){X[H]=ie}setValue(X,H){X.nodeValue=H}listen(X,H,ie){return"string"==typeof X?this.eventManager.addGlobalEventListener(X,H,Xt(ie)):this.eventManager.addEventListener(X,H,Xt(ie))}}function De(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class ke extends ae{constructor(X,H,ie,pe){super(X),this.sharedStylesHost=H,this.hostEl=ie,this.shadowRoot=ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Be=pt(pe.id,pe.styles);for(const vt of Be){const Rt=document.createElement("style");Rt.textContent=vt,this.shadowRoot.appendChild(Rt)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}appendChild(X,H){return super.appendChild(this.nodeOrShadowRoot(X),H)}insertBefore(X,H,ie){return super.insertBefore(this.nodeOrShadowRoot(X),H,ie)}removeChild(X,H){return super.removeChild(this.nodeOrShadowRoot(X),H)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ce extends ae{constructor(X,H,ie,pe,Be=ie.id){super(X),this.sharedStylesHost=H,this.removeStylesOnCompDestory=pe,this.rendererUsageCount=0,this.styles=pt(Be,ie.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Oe extends Ce{constructor(X,H,ie,pe,Be){const vt=pe+"-"+ie.id;super(X,H,ie,Be,vt),this.contentAttr=function Me(re){return"_ngcontent-%COMP%".replace(Ke,re)}(vt),this.hostAttr=function Ve(re){return"_nghost-%COMP%".replace(Ke,re)}(vt)}applyToHost(X){this.applyStyles(),this.setAttribute(X,this.hostAttr,"")}createElement(X,H){const ie=super.createElement(X,H);return super.setAttribute(ie,this.contentAttr,""),ie}}let Lt=(()=>{class re extends st{constructor(H){super(H)}supports(H){return!0}addEventListener(H,ie,pe){return H.addEventListener(ie,pe,!1),()=>this.removeEventListener(H,ie,pe)}removeEventListener(H,ie,pe){return H.removeEventListener(ie,pe)}}return re.\u0275fac=function(H){return new(H||re)(Q.LFG(R.K0))},re.\u0275prov=Q.Yz7({token:re,factory:re.\u0275fac}),re})();const Tn=["alt","control","meta","shift"],Dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ht={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Mt=(()=>{class re extends st{constructor(H){super(H)}supports(H){return null!=re.parseEventName(H)}addEventListener(H,ie,pe){const Be=re.parseEventName(ie),vt=re.eventCallback(Be.fullKey,pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,R.q)().onAndCancel(H,Be.domEventName,vt))}static parseEventName(H){const ie=H.toLowerCase().split("."),pe=ie.shift();if(0===ie.length||"keydown"!==pe&&"keyup"!==pe)return null;const Be=re._normalizeKey(ie.pop());let vt="",Rt=ie.indexOf("code");if(Rt>-1&&(ie.splice(Rt,1),vt="code."),Tn.forEach($r=>{const Rr=ie.indexOf($r);Rr>-1&&(ie.splice(Rr,1),vt+=$r+".")}),vt+=Be,0!=ie.length||0===Be.length)return null;const ht={};return ht.domEventName=pe,ht.fullKey=vt,ht}static matchEventFullKeyCode(H,ie){let pe=Dt[H.key]||H.key,Be="";return ie.indexOf("code.")>-1&&(pe=H.code,Be="code."),!(null==pe||!pe)&&(pe=pe.toLowerCase()," "===pe?pe="space":"."===pe&&(pe="dot"),Tn.forEach(vt=>{vt!==pe&&(0,Ht[vt])(H)&&(Be+=vt+".")}),Be+=pe,Be===ie)}static eventCallback(H,ie,pe){return Be=>{re.matchEventFullKeyCode(Be,H)&&pe.runGuarded(()=>ie(Be))}}static _normalizeKey(H){return"esc"===H?"escape":H}}return re.\u0275fac=function(H){return new(H||re)(Q.LFG(R.K0))},re.\u0275prov=Q.Yz7({token:re,factory:re.\u0275fac}),re})();const jr=(0,Q.eFA)(Q._c5,"browser",[{provide:Q.Lbi,useValue:R.bD},{provide:Q.g9A,useValue:function In(){ue.makeCurrent()},multi:!0},{provide:R.K0,useFactory:function jt(){return(0,Q.RDi)(document),document},deps:[]}]),Un=new Q.OlP(""),oi=[{provide:Q.rWj,useClass:class ze{addToWindow(X){Q.dqk.getAngularTestability=(ie,pe=!0)=>{const Be=X.findTestabilityInTree(ie,pe);if(null==Be)throw new Error("Could not find testability for element.");return Be},Q.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),Q.dqk.getAllAngularRootElements=()=>X.getAllRootElements(),Q.dqk.frameworkStabilizers||(Q.dqk.frameworkStabilizers=[]),Q.dqk.frameworkStabilizers.push(ie=>{const pe=Q.dqk.getAllAngularTestabilities();let Be=pe.length,vt=!1;const Rt=function(ht){vt=vt||ht,Be--,0==Be&&ie(vt)};pe.forEach(function(ht){ht.whenStable(Rt)})})}findTestabilityInTree(X,H,ie){return null==H?null:X.getTestability(H)??(ie?(0,R.q)().isShadowRoot(H)?this.findTestabilityInTree(X,H.host,!0):this.findTestabilityInTree(X,H.parentElement,!0):null)}},deps:[]},{provide:Q.lri,useClass:Q.dDg,deps:[Q.R0b,Q.eoX,Q.rWj]},{provide:Q.dDg,useClass:Q.dDg,deps:[Q.R0b,Q.eoX,Q.rWj]}],Ls=[{provide:Q.zSh,useValue:"root"},{provide:Q.qLn,useFactory:function Ir(){return new Q.qLn},deps:[]},{provide:Pe,useClass:Lt,multi:!0,deps:[R.K0,Q.R0b,Q.Lbi]},{provide:Pe,useClass:Mt,multi:!0,deps:[R.K0]},{provide:rt,useClass:rt,deps:[gt,Gt,Q.AFp,je]},{provide:Q.FYo,useExisting:rt},{provide:zt,useExisting:Gt},{provide:Gt,useClass:Gt,deps:[R.K0]},{provide:gt,useClass:gt,deps:[Pe,Q.R0b]},{provide:R.JF,useClass:bt,deps:[]},[]];let Qi=(()=>{class re{constructor(H){}static withServerTransition(H){return{ngModule:re,providers:[{provide:Q.AFp,useValue:H.appId},{provide:Qe,useExisting:Q.AFp},ye]}}}return re.\u0275fac=function(H){return new(H||re)(Q.LFG(Un,12))},re.\u0275mod=Q.oAB({type:re}),re.\u0275inj=Q.cJS({providers:[...Ls,...oi],imports:[R.ez,Q.hGG]}),re})(),rn=(()=>{class re{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}}return re.\u0275fac=function(H){return new(H||re)(Q.LFG(R.K0))},re.\u0275prov=Q.Yz7({token:re,factory:function(H){let ie=null;return ie=H?new H:function ys(){return new rn((0,Q.LFG)(R.K0))}(),ie},providedIn:"root"}),re})();typeof window<"u"&&window},432:(Vt,He,Y)=>{Y.d(He,{Bz:()=>Os,lC:()=>Oi});var R=Y(256),Q=Y(76),J=Y(669);function ue(...p){const m=(0,J.yG)(p);return(0,Q.D)(p,m)}var Se=Y(579);class Ue extends Se.x{constructor(m){super(),this._value=m}get value(){return this.getValue()}_subscribe(m){const u=super._subscribe(m);return!u.closed&&m.next(this._value),u}getValue(){const{hasError:m,thrownError:u,_value:_}=this;if(m)throw u;return this._throwIfClosed(),_}next(m){super.next(this._value=m)}}const ut=(0,Y(888).d)(p=>function(){p(this),this.name="EmptyError",this.message="no elements in sequence"});var Qe=Y(751);const{isArray:we}=Array,{getPrototypeOf:ye,prototype:ze,keys:bt}=Object;var st=Y(671),zt=Y(268),Ut=Y(403),Ke=Y(672);function Ye(...p){const m=(0,J.yG)(p),u=(0,J.jO)(p),{args:_,keys:T}=function Pe(p){if(1===p.length){const m=p[0];if(we(m))return{args:m,keys:null};if(function gt(p){return p&&"object"==typeof p&&ye(p)===ze}(m)){const u=bt(m);return{args:u.map(_=>m[_]),keys:u}}}return{args:p,keys:null}}(p);if(0===_.length)return(0,Q.D)([],m);const P=new Qe.y(function xe(p,m,u=st.y){return _=>{mt(m,()=>{const{length:T}=p,P=new Array(T);let F=T,K=T;for(let oe=0;oe<T;oe++)mt(m,()=>{const Ie=(0,Q.D)(p[oe],m);let Ne=!1;Ie.subscribe((0,Ut.x)(_,xt=>{P[oe]=xt,Ne||(Ne=!0,K--),K||_.next(u(P.slice()))},()=>{--F||_.complete()}))},_)},_)}}(_,m,T?F=>function Gt(p,m){return p.reduce((u,_,T)=>(u[_]=m[T],u),{})}(T,F):st.y));return u?P.pipe((0,zt.Z)(u)):P}function mt(p,m,u){p?(0,Ke.f)(u,p,m):m()}var Wt=Y(189);function je(...p){return function Ee(){return(0,Wt.J)(1)}()((0,Q.D)(p,(0,J.yG)(p)))}var Me=Y(421);function Ve(p){return new Qe.y(m=>{(0,Me.Xf)(p()).subscribe(m)})}var pt=Y(635),Xt=Y(576);function rt(p,m){const u=(0,Xt.m)(p)?p:()=>p,_=T=>T.error(u());return new Qe.y(m?T=>m.schedule(_,0,T):_)}var ae=Y(515),de=Y(727),he=Y(482);function De(){return(0,he.e)((p,m)=>{let u=null;p._refCount++;const _=(0,Ut.x)(m,void 0,void 0,void 0,()=>{if(!p||p._refCount<=0||0<--p._refCount)return void(u=null);const T=p._connection,P=u;u=null,T&&(!P||T===P)&&T.unsubscribe(),m.unsubscribe()});p.subscribe(_),_.closed||(u=p.connect())})}class ke extends Qe.y{constructor(m,u){super(),this.source=m,this.subjectFactory=u,this._subject=null,this._refCount=0,this._connection=null,(0,he.A)(m)&&(this.lift=m.lift)}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:m}=this;this._subject=this._connection=null,m?.unsubscribe()}connect(){let m=this._connection;if(!m){m=this._connection=new de.w0;const u=this.getSubject();m.add(this.source.subscribe((0,Ut.x)(u,void 0,()=>{this._teardown(),u.complete()},_=>{this._teardown(),u.error(_)},()=>this._teardown()))),m.closed&&(this._connection=null,m=de.w0.EMPTY)}return m}refCount(){return De()(this)}}var Ce=Y(895),Oe=Y(4);function Lt(p,m){return(0,he.e)((u,_)=>{let T=null,P=0,F=!1;const K=()=>F&&!T&&_.complete();u.subscribe((0,Ut.x)(_,oe=>{T?.unsubscribe();let Ie=0;const Ne=P++;(0,Me.Xf)(p(oe,Ne)).subscribe(T=(0,Ut.x)(_,xt=>_.next(m?m(oe,xt,Ne,Ie++):xt),()=>{T=null,K()}))},()=>{F=!0,K()}))})}function Tn(p){return p<=0?()=>ae.E:(0,he.e)((m,u)=>{let _=0;m.subscribe((0,Ut.x)(u,T=>{++_<=p&&(u.next(T),p<=_&&u.complete())}))})}function Ht(p,m){return(0,he.e)((u,_)=>{let T=0;u.subscribe((0,Ut.x)(_,P=>p.call(m,P,T++)&&_.next(P)))})}var Mt=Y(577);function nn(p){return(0,he.e)((m,u)=>{let _=!1;m.subscribe((0,Ut.x)(u,T=>{_=!0,u.next(T)},()=>{_||u.next(p),u.complete()}))})}function Hr(p=kn){return(0,he.e)((m,u)=>{let _=!1;m.subscribe((0,Ut.x)(u,T=>{_=!0,u.next(T)},()=>_?u.complete():u.error(p())))})}function kn(){return new ut}function wt(p,m){const u=arguments.length>=2;return _=>_.pipe(p?Ht((T,P)=>p(T,P,_)):st.y,Tn(1),u?nn(m):Hr(()=>new ut))}function vn(p,m){return(0,Xt.m)(m)?(0,Mt.z)(p,m,1):(0,Mt.z)(p,1)}function In(p,m,u){const _=(0,Xt.m)(p)||m||u?{next:p,error:m,complete:u}:p;return _?(0,he.e)((T,P)=>{var F;null===(F=_.subscribe)||void 0===F||F.call(_);let K=!0;T.subscribe((0,Ut.x)(P,oe=>{var Ie;null===(Ie=_.next)||void 0===Ie||Ie.call(_,oe),P.next(oe)},()=>{var oe;K=!1,null===(oe=_.complete)||void 0===oe||oe.call(_),P.complete()},oe=>{var Ie;K=!1,null===(Ie=_.error)||void 0===Ie||Ie.call(_,oe),P.error(oe)},()=>{var oe,Ie;K&&(null===(oe=_.unsubscribe)||void 0===oe||oe.call(_)),null===(Ie=_.finalize)||void 0===Ie||Ie.call(_)}))}):st.y}function Ir(p){return(0,he.e)((m,u)=>{let P,_=null,T=!1;_=m.subscribe((0,Ut.x)(u,void 0,void 0,F=>{P=(0,Me.Xf)(p(F,Ir(p)(m))),_?(_.unsubscribe(),_=null,P.subscribe(u)):T=!0})),T&&(_.unsubscribe(),_=null,P.subscribe(u))})}function Zi(p,m){return(0,he.e)(function jt(p,m,u,_,T){return(P,F)=>{let K=u,oe=m,Ie=0;P.subscribe((0,Ut.x)(F,Ne=>{const xt=Ie++;oe=K?p(oe,Ne,xt):(K=!0,Ne),_&&F.next(oe)},T&&(()=>{K&&F.next(oe),F.complete()})))}}(p,m,arguments.length>=2,!0))}function jr(p){return p<=0?()=>ae.E:(0,he.e)((m,u)=>{let _=[];m.subscribe((0,Ut.x)(u,T=>{_.push(T),p<_.length&&_.shift()},()=>{for(const T of _)u.next(T);u.complete()},void 0,()=>{_=null}))})}function Un(p,m){const u=arguments.length>=2;return _=>_.pipe(p?Ht((T,P)=>p(T,P,_)):st.y,jr(1),u?nn(m):Hr(()=>new ut))}function Qi(p){return(0,he.e)((m,u)=>{try{m.subscribe(u)}finally{u.add(p)}})}var Po=Y(481);const St="primary",Cr=Symbol("RouteTitle");class ys{constructor(m){this.params=m||{}}has(m){return Object.prototype.hasOwnProperty.call(this.params,m)}get(m){if(this.has(m)){const u=this.params[m];return Array.isArray(u)?u[0]:u}return null}getAll(m){if(this.has(m)){const u=this.params[m];return Array.isArray(u)?u:[u]}return[]}get keys(){return Object.keys(this.params)}}function rn(p){return new ys(p)}function dt(p,m,u){const _=u.path.split("/");if(_.length>p.length||"full"===u.pathMatch&&(m.hasChildren()||_.length<p.length))return null;const T={};for(let P=0;P<_.length;P++){const F=_[P],K=p[P];if(F.startsWith(":"))T[F.substring(1)]=K;else if(F!==K.path)return null}return{consumed:p.slice(0,_.length),posParams:T}}function hr(p,m){const u=p?Object.keys(p):void 0,_=m?Object.keys(m):void 0;if(!u||!_||u.length!=_.length)return!1;let T;for(let P=0;P<u.length;P++)if(T=u[P],!Fi(p[T],m[T]))return!1;return!0}function Fi(p,m){if(Array.isArray(p)&&Array.isArray(m)){if(p.length!==m.length)return!1;const u=[...p].sort(),_=[...m].sort();return u.every((T,P)=>_[P]===T)}return p===m}function _n(p){return Array.prototype.concat.apply([],p)}function Ei(p){return p.length>0?p[p.length-1]:null}function Ft(p,m){for(const u in p)p.hasOwnProperty(u)&&m(p[u],u)}function en(p){return(0,R.CqO)(p)?p:(0,R.QGY)(p)?(0,Q.D)(Promise.resolve(p)):ue(p)}const zr=!1,hn={exact:function wi(p,m,u){if(!ai(p.segments,m.segments)||!Ar(p.segments,m.segments,u)||p.numberOfChildren!==m.numberOfChildren)return!1;for(const _ in m.children)if(!p.children[_]||!wi(p.children[_],m.children[_],u))return!1;return!0},subset:Qn},ki={exact:function Es(p,m){return hr(p,m)},subset:function to(p,m){return Object.keys(m).length<=Object.keys(p).length&&Object.keys(m).every(u=>Fi(p[u],m[u]))},ignored:()=>!0};function Di(p,m,u){return hn[u.paths](p.root,m.root,u.matrixParams)&&ki[u.queryParams](p.queryParams,m.queryParams)&&!("exact"===u.fragment&&p.fragment!==m.fragment)}function Qn(p,m,u){return Xi(p,m,m.segments,u)}function Xi(p,m,u,_){if(p.segments.length>u.length){const T=p.segments.slice(0,u.length);return!(!ai(T,u)||m.hasChildren()||!Ar(T,u,_))}if(p.segments.length===u.length){if(!ai(p.segments,u)||!Ar(p.segments,u,_))return!1;for(const T in m.children)if(!p.children[T]||!Qn(p.children[T],m.children[T],_))return!1;return!0}{const T=u.slice(0,p.segments.length),P=u.slice(p.segments.length);return!!(ai(p.segments,T)&&Ar(p.segments,T,_)&&p.children[St])&&Xi(p.children[St],m,P,_)}}function Ar(p,m,u){return m.every((_,T)=>ki[u](p[T].parameters,_.parameters))}class Xn{constructor(m=new At([],{}),u={},_=null){this.root=m,this.queryParams=u,this.fragment=_}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return X.serialize(this)}}class At{constructor(m,u){this.segments=m,this.children=u,this.parent=null,Ft(u,(_,T)=>_.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return H(this)}}class fn{constructor(m,u){this.path=m,this.parameters=u}get parameterMap(){return this._parameterMap||(this._parameterMap=rn(this.parameters)),this._parameterMap}toString(){return Rr(this)}}function ai(p,m){return p.length===m.length&&p.every((u,_)=>u.path===m[_].path)}let Ci=(()=>{class p{}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=R.Yz7({token:p,factory:function(){return new re},providedIn:"root"}),p})();class re{parse(m){const u=new so(m);return new Xn(u.parseRootSegment(),u.parseQueryParams(),u.parseFragment())}serialize(m){const u=`/${ie(m.root,!0)}`,_=function ir(p){const m=Object.keys(p).map(u=>{const _=p[u];return Array.isArray(_)?_.map(T=>`${Be(u)}=${Be(T)}`).join("&"):`${Be(u)}=${Be(_)}`}).filter(u=>!!u);return m.length?`?${m.join("&")}`:""}(m.queryParams);return`${u}${_}${"string"==typeof m.fragment?`#${function vt(p){return encodeURI(p)}(m.fragment)}`:""}`}}const X=new re;function H(p){return p.segments.map(m=>Rr(m)).join("/")}function ie(p,m){if(!p.hasChildren())return H(p);if(m){const u=p.children[St]?ie(p.children[St],!1):"",_=[];return Ft(p.children,(T,P)=>{P!==St&&_.push(`${P}:${ie(T,!1)}`)}),_.length>0?`${u}(${_.join("//")})`:u}{const u=function Ji(p,m){let u=[];return Ft(p.children,(_,T)=>{T===St&&(u=u.concat(m(_,T)))}),Ft(p.children,(_,T)=>{T!==St&&(u=u.concat(m(_,T)))}),u}(p,(_,T)=>T===St?[ie(p.children[St],!1)]:[`${T}:${ie(_,!1)}`]);return 1===Object.keys(p.children).length&&null!=p.children[St]?`${H(p)}/${u[0]}`:`${H(p)}/(${u.join("//")})`}}function pe(p){return encodeURIComponent(p).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Be(p){return pe(p).replace(/%3B/gi,";")}function Rt(p){return pe(p).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ht(p){return decodeURIComponent(p)}function $r(p){return ht(p.replace(/\+/g,"%20"))}function Rr(p){return`${Rt(p.path)}${function es(p){return Object.keys(p).map(m=>`;${Rt(m)}=${Rt(p[m])}`).join("")}(p.parameters)}`}const Xr=/^[^\/()?;=#]+/;function Or(p){const m=p.match(Xr);return m?m[0]:""}const No=/^[^=?&#]+/,io=/^[^&#]+/;class so{constructor(m){this.url=m,this.remaining=m}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const m={};if(this.consumeOptional("?"))do{this.parseQueryParam(m)}while(this.consumeOptional("&"));return m}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const m=[];for(this.peekStartsWith("(")||m.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),m.push(this.parseSegment());let u={};this.peekStartsWith("/(")&&(this.capture("/"),u=this.parseParens(!0));let _={};return this.peekStartsWith("(")&&(_=this.parseParens(!1)),(m.length>0||Object.keys(u).length>0)&&(_[St]=new At(m,u)),_}parseSegment(){const m=Or(this.remaining);if(""===m&&this.peekStartsWith(";"))throw new R.vHH(4009,zr);return this.capture(m),new fn(ht(m),this.parseMatrixParams())}parseMatrixParams(){const m={};for(;this.consumeOptional(";");)this.parseParam(m);return m}parseParam(m){const u=Or(this.remaining);if(!u)return;this.capture(u);let _="";if(this.consumeOptional("=")){const T=Or(this.remaining);T&&(_=T,this.capture(_))}m[ht(u)]=ht(_)}parseQueryParam(m){const u=function ro(p){const m=p.match(No);return m?m[0]:""}(this.remaining);if(!u)return;this.capture(u);let _="";if(this.consumeOptional("=")){const F=function xo(p){const m=p.match(io);return m?m[0]:""}(this.remaining);F&&(_=F,this.capture(_))}const T=$r(u),P=$r(_);if(m.hasOwnProperty(T)){let F=m[T];Array.isArray(F)||(F=[F],m[T]=F),F.push(P)}else m[T]=P}parseParens(m){const u={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const _=Or(this.remaining),T=this.remaining[_.length];if("/"!==T&&")"!==T&&";"!==T)throw new R.vHH(4010,zr);let P;_.indexOf(":")>-1?(P=_.slice(0,_.indexOf(":")),this.capture(P),this.capture(":")):m&&(P=St);const F=this.parseChildren();u[P]=1===Object.keys(F).length?F[St]:new At([],F),this.consumeOptional("//")}return u}peekStartsWith(m){return this.remaining.startsWith(m)}consumeOptional(m){return!!this.peekStartsWith(m)&&(this.remaining=this.remaining.substring(m.length),!0)}capture(m){if(!this.consumeOptional(m))throw new R.vHH(4011,zr)}}function Pr(p){return p.segments.length>0?new At([],{[St]:p}):p}function ts(p){const m={};for(const _ of Object.keys(p.children)){const P=ts(p.children[_]);(P.segments.length>0||P.hasChildren())&&(m[_]=P)}return function Jo(p){if(1===p.numberOfChildren&&p.children[St]){const m=p.children[St];return new At(p.segments.concat(m.segments),m.children)}return p}(new At(p.segments,m))}function Ui(p){return p instanceof Xn}const ns=!1;function Si(p,m,u,_,T){if(0===u.length)return Ti(m.root,m.root,m.root,_,T);const P=function Ge(p){if("string"==typeof p[0]&&1===p.length&&"/"===p[0])return new Nr(!0,0,p);let m=0,u=!1;const _=p.reduce((T,P,F)=>{if("object"==typeof P&&null!=P){if(P.outlets){const K={};return Ft(P.outlets,(oe,Ie)=>{K[Ie]="string"==typeof oe?oe.split("/"):oe}),[...T,{outlets:K}]}if(P.segmentPath)return[...T,P.segmentPath]}return"string"!=typeof P?[...T,P]:0===F?(P.split("/").forEach((K,oe)=>{0==oe&&"."===K||(0==oe&&""===K?u=!0:".."===K?m++:""!=K&&T.push(K))}),T):[...T,P]},[]);return new Nr(u,m,_)}(u);return P.toRoot()?Ti(m.root,m.root,new At([],{}),_,T):function F(oe){const Ie=function pr(p,m,u,_){if(p.isAbsolute)return new _t(m.root,!0,0);if(-1===_)return new _t(u,u===m.root,0);return function Sr(p,m,u){let _=p,T=m,P=u;for(;P>T;){if(P-=T,_=_.parent,!_)throw new R.vHH(4005,ns&&"Invalid number of '../'");T=_.segments.length}return new _t(_,!1,T-P)}(u,_+(Pn(p.commands[0])?0:1),p.numberOfDoubleDots)}(P,m,p.snapshot?._urlSegment,oe),Ne=Ie.processChildren?sn(Ie.segmentGroup,Ie.index,P.commands):Jr(Ie.segmentGroup,Ie.index,P.commands);return Ti(m.root,Ie.segmentGroup,Ne,_,T)}(p.snapshot?._lastPathIndex)}function Pn(p){return"object"==typeof p&&null!=p&&!p.outlets&&!p.segmentPath}function Bi(p){return"object"==typeof p&&null!=p&&p.outlets}function Ti(p,m,u,_,T){let F,P={};_&&Ft(_,(oe,Ie)=>{P[Ie]=Array.isArray(oe)?oe.map(Ne=>`${Ne}`):`${oe}`}),F=p===m?u:Vi(p,m,u);const K=Pr(ts(F));return new Xn(K,P,T)}function Vi(p,m,u){const _={};return Ft(p.children,(T,P)=>{_[P]=T===m?u:Vi(T,m,u)}),new At(p.segments,_)}class Nr{constructor(m,u,_){if(this.isAbsolute=m,this.numberOfDoubleDots=u,this.commands=_,m&&_.length>0&&Pn(_[0]))throw new R.vHH(4003,ns&&"Root segment cannot have matrix parameters");const T=_.find(Bi);if(T&&T!==Ei(_))throw new R.vHH(4004,ns&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _t{constructor(m,u,_){this.segmentGroup=m,this.processChildren=u,this.index=_}}function Jr(p,m,u){if(p||(p=new At([],{})),0===p.segments.length&&p.hasChildren())return sn(p,m,u);const _=function Ds(p,m,u){let _=0,T=m;const P={match:!1,pathIndex:0,commandIndex:0};for(;T<p.segments.length;){if(_>=u.length)return P;const F=p.segments[T],K=u[_];if(Bi(K))break;const oe=`${K}`,Ie=_<u.length-1?u[_+1]:null;if(T>0&&void 0===oe)break;if(oe&&Ie&&"object"==typeof Ie&&void 0===Ie.outlets){if(!rs(oe,Ie,F))return P;_+=2}else{if(!rs(oe,{},F))return P;_++}T++}return{match:!0,pathIndex:T,commandIndex:_}}(p,m,u),T=u.slice(_.commandIndex);if(_.match&&_.pathIndex<p.segments.length){const P=new At(p.segments.slice(0,_.pathIndex),{});return P.children[St]=new At(p.segments.slice(_.pathIndex),p.children),sn(P,0,T)}return _.match&&0===T.length?new At(p.segments,{}):_.match&&!p.hasChildren()?li(p,m,u):_.match?sn(p,0,T):li(p,m,u)}function sn(p,m,u){if(0===u.length)return new At(p.segments,{});{const _=function yn(p){return Bi(p[0])?p[0].outlets:{[St]:p}}(u),T={};if(!_[St]&&p.children[St]&&1===p.numberOfChildren&&0===p.children[St].segments.length){const P=sn(p.children[St],m,u);return new At(p.segments,P.children)}return Ft(_,(P,F)=>{"string"==typeof P&&(P=[P]),null!==P&&(T[F]=Jr(p.children[F],m,P))}),Ft(p.children,(P,F)=>{void 0===_[F]&&(T[F]=P)}),new At(p.segments,T)}}function li(p,m,u){const _=p.segments.slice(0,m);let T=0;for(;T<u.length;){const P=u[T];if(Bi(P)){const oe=Ot(P.outlets);return new At(_,oe)}if(0===T&&Pn(u[0])){_.push(new fn(p.segments[m].path,oo(u[0]))),T++;continue}const F=Bi(P)?P.outlets[St]:`${P}`,K=T<u.length-1?u[T+1]:null;F&&K&&Pn(K)?(_.push(new fn(F,oo(K))),T+=2):(_.push(new fn(F,{})),T++)}return new At(_,{})}function Ot(p){const m={};return Ft(p,(u,_)=>{"string"==typeof u&&(u=[u]),null!==u&&(m[_]=li(new At([],{}),0,u))}),m}function oo(p){const m={};return Ft(p,(u,_)=>m[_]=`${u}`),m}function rs(p,m,u){return p==u.path&&hr(m,u.parameters)}const bn="imperative";class En{constructor(m,u){this.id=m,this.url=u}}class Nn extends En{constructor(m,u,_="imperative",T=null){super(m,u),this.type=0,this.navigationTrigger=_,this.restoredState=T}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xn extends En{constructor(m,u,_){super(m,u),this.urlAfterRedirects=_,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sr extends En{constructor(m,u,_,T){super(m,u),this.reason=_,this.code=T,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wn extends En{constructor(m,u,_,T){super(m,u),this.reason=_,this.code=T,this.type=16}}class ci extends En{constructor(m,u,_,T){super(m,u),this.error=_,this.target=T,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class is extends En{constructor(m,u,_,T){super(m,u),this.urlAfterRedirects=_,this.state=T,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class on extends En{constructor(m,u,_,T){super(m,u),this.urlAfterRedirects=_,this.state=T,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ss extends En{constructor(m,u,_,T,P){super(m,u),this.urlAfterRedirects=_,this.state=T,this.shouldActivate=P,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class os extends En{constructor(m,u,_,T){super(m,u),this.urlAfterRedirects=_,this.state=T,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ao extends En{constructor(m,u,_,T){super(m,u),this.urlAfterRedirects=_,this.state=T,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi{constructor(m){this.route=m,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fs{constructor(m){this.route=m,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ei{constructor(m){this.snapshot=m,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class or{constructor(m){this.snapshot=m,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xr{constructor(m){this.snapshot=m,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(m){this.snapshot=m,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jn{constructor(m,u,_){this.routerEvent=m,this.position=u,this.anchor=_,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ui=(()=>{class p{createUrlTree(u,_,T,P,F,K){return Si(u||_.root,T,P,F,K)}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=R.Yz7({token:p,factory:p.\u0275fac}),p})(),ea=(()=>{class p{}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=R.Yz7({token:p,factory:function(m){return ui.\u0275fac(m)},providedIn:"root"}),p})();class lo{constructor(m){this._root=m}get root(){return this._root.value}parent(m){const u=this.pathFromRoot(m);return u.length>1?u[u.length-2]:null}children(m){const u=bi(m,this._root);return u?u.children.map(_=>_.value):[]}firstChild(m){const u=bi(m,this._root);return u&&u.children.length>0?u.children[0].value:null}siblings(m){const u=Lo(m,this._root);return u.length<2?[]:u[u.length-2].children.map(T=>T.value).filter(T=>T!==m)}pathFromRoot(m){return Lo(m,this._root).map(u=>u.value)}}function bi(p,m){if(p===m.value)return m;for(const u of m.children){const _=bi(p,u);if(_)return _}return null}function Lo(p,m){if(p===m.value)return[m];for(const u of m.children){const _=Lo(p,u);if(_.length)return _.unshift(m),_}return[]}class Mi{constructor(m,u){this.value=m,this.children=u}toString(){return`TreeNode(${this.value})`}}function cs(p){const m={};return p&&p.children.forEach(u=>m[u.value.outlet]=u),m}class ws extends lo{constructor(m,u){super(m),this.snapshot=u,na(this,m)}toString(){return this.snapshot.toString()}}function ks(p,m){const u=function ta(p,m){const F=new co([],{},{},"",{},St,m,null,p.root,-1,{});return new Fo("",new Mi(F,[]))}(p,m),_=new Ue([new fn("",{})]),T=new Ue({}),P=new Ue({}),F=new Ue({}),K=new Ue(""),oe=new us(_,T,F,K,P,St,m,u.root);return oe.snapshot=u.root,new ws(new Mi(oe,[]),u)}class us{constructor(m,u,_,T,P,F,K,oe){this.url=m,this.params=u,this.queryParams=_,this.fragment=T,this.data=P,this.outlet=F,this.component=K,this.title=this.data?.pipe((0,Oe.U)(Ie=>Ie[Cr]))??ue(void 0),this._futureSnapshot=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Oe.U)(m=>rn(m)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Oe.U)(m=>rn(m)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ya(p,m="emptyOnly"){const u=p.pathFromRoot;let _=0;if("always"!==m)for(_=u.length-1;_>=1;){const T=u[_],P=u[_-1];if(T.routeConfig&&""===T.routeConfig.path)_--;else{if(P.component)break;_--}}return function Ii(p){return p.reduce((m,u)=>({params:{...m.params,...u.params},data:{...m.data,...u.data},resolve:{...u.data,...m.resolve,...u.routeConfig?.data,...u._resolvedData}}),{params:{},data:{},resolve:{}})}(u.slice(_))}class co{get title(){return this.data?.[Cr]}constructor(m,u,_,T,P,F,K,oe,Ie,Ne,xt){this.url=m,this.params=u,this.queryParams=_,this.fragment=T,this.data=P,this.outlet=F,this.component=K,this.routeConfig=oe,this._urlSegment=Ie,this._lastPathIndex=Ne,this._resolve=xt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(_=>_.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fo extends lo{constructor(m,u){super(u),this.url=m,na(this,u)}toString(){return ra(this._root)}}function na(p,m){m.value._routerState=p,m.children.forEach(u=>na(p,u))}function ra(p){const m=p.children.length>0?` { ${p.children.map(ra).join(", ")} } `:"";return`${p.value}${m}`}function Us(p){if(p.snapshot){const m=p.snapshot,u=p._futureSnapshot;p.snapshot=u,hr(m.queryParams,u.queryParams)||p.queryParams.next(u.queryParams),m.fragment!==u.fragment&&p.fragment.next(u.fragment),hr(m.params,u.params)||p.params.next(u.params),function be(p,m){if(p.length!==m.length)return!1;for(let u=0;u<p.length;++u)if(!hr(p[u],m[u]))return!1;return!0}(m.url,u.url)||p.url.next(u.url),hr(m.data,u.data)||p.data.next(u.data)}else p.snapshot=p._futureSnapshot,p.data.next(p._futureSnapshot.data)}function ti(p,m){const u=hr(p.params,m.params)&&function no(p,m){return ai(p,m)&&p.every((u,_)=>hr(u.parameters,m[_].parameters))}(p.url,m.url);return u&&!(!p.parent!=!m.parent)&&(!p.parent||ti(p.parent,m.parent))}function di(p,m,u){if(u&&p.shouldReuseRoute(m.value,u.value.snapshot)){const _=u.value;_._futureSnapshot=m.value;const T=function ko(p,m,u){return m.children.map(_=>{for(const T of u.children)if(p.shouldReuseRoute(_.value,T.value.snapshot))return di(p,_,T);return di(p,_)})}(p,m,u);return new Mi(_,T)}{if(p.shouldAttach(m.value)){const P=p.retrieve(m.value);if(null!==P){const F=P.route;return F.value._futureSnapshot=m.value,F.children=m.children.map(K=>di(p,K)),F}}const _=function Ai(p){return new us(new Ue(p.url),new Ue(p.params),new Ue(p.queryParams),new Ue(p.fragment),new Ue(p.data),p.outlet,p.component,p)}(m.value),T=m.children.map(P=>di(p,P));return new Mi(_,T)}}const hi="ngNavigationCancelingError";function uo(p,m){const{redirectTo:u,navigationBehaviorOptions:_}=Ui(m)?{redirectTo:m,navigationBehaviorOptions:void 0}:m,T=ho(!1,0,m);return T.url=u,T.navigationBehaviorOptions=_,T}function ho(p,m,u){const _=new Error("NavigationCancelingError: "+(p||""));return _[hi]=!0,_.cancellationCode=m,u&&(_.url=u),_}function Uo(p){return Bo(p)&&Ui(p.url)}function Bo(p){return p&&p[hi]}class ji{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ri,this.attachRef=null}}let Ri=(()=>{class p{constructor(){this.contexts=new Map}onChildOutletCreated(u,_){const T=this.getOrCreateContext(u);T.outlet=_,this.contexts.set(u,T)}onChildOutletDestroyed(u){const _=this.getContext(u);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const u=this.contexts;return this.contexts=new Map,u}onOutletReAttached(u){this.contexts=u}getOrCreateContext(u){let _=this.getContext(u);return _||(_=new ji,this.contexts.set(u,_)),_}getContext(u){return this.contexts.get(u)||null}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=R.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const zi=!1;let Oi=(()=>{class p{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new R.vpe,this.deactivateEvents=new R.vpe,this.attachEvents=new R.vpe,this.detachEvents=new R.vpe,this.parentContexts=(0,R.f3M)(Ri),this.location=(0,R.f3M)(R.s_b),this.changeDetector=(0,R.f3M)(R.sBO),this.environmentInjector=(0,R.f3M)(R.lqb)}ngOnChanges(u){if(u.name){const{firstChange:_,previousValue:T}=u.name;if(_)return;this.isTrackedInParentContexts(T)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(T)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(u){return this.parentContexts.getContext(u)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const u=this.parentContexts.getContext(this.name);u?.route&&(u.attachRef?this.attach(u.attachRef,u.route):this.activateWith(u.route,u.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R.vHH(4012,zi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R.vHH(4012,zi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R.vHH(4012,zi);this.location.detach();const u=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(u.instance),u}attach(u,_){this.activated=u,this._activatedRoute=_,this.location.insert(u.hostView),this.attachEvents.emit(u.instance)}deactivate(){if(this.activated){const u=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(u)}}activateWith(u,_){if(this.isActivated)throw new R.vHH(4013,zi);this._activatedRoute=u;const T=this.location,F=u.snapshot.component,K=this.parentContexts.getOrCreateContext(this.name).children,oe=new fo(u,K,T.injector);if(_&&function mr(p){return!!p.resolveComponentFactory}(_)){const Ie=_.resolveComponentFactory(F);this.activated=T.createComponent(Ie,T.length,oe)}else this.activated=T.createComponent(F,{index:T.length,injector:oe,environmentInjector:_??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275dir=R.lG2({type:p,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[R.TTD]}),p})();class fo{constructor(m,u,_){this.route=m,this.childContexts=u,this.parent=_}get(m,u){return m===us?this.route:m===Ri?this.childContexts:this.parent.get(m,u)}}let Bs=(()=>{class p{}return p.\u0275fac=function(u){return new(u||p)},p.\u0275cmp=R.Xpm({type:p,selectors:[["ng-component"]],standalone:!0,features:[R.jDz],decls:1,vars:0,template:function(u,_){1&u&&R._UZ(0,"router-outlet")},dependencies:[Oi],encapsulation:2}),p})();function Vs(p,m){return p.providers&&!p._injector&&(p._injector=(0,R.MMx)(p.providers,m,`Route: ${p.path}`)),p._injector??m}function Cs(p){const m=p.children&&p.children.map(Cs),u=m?{...p,children:m}:{...p};return!u.component&&!u.loadComponent&&(m||u.loadChildren)&&u.outlet&&u.outlet!==St&&(u.component=Bs),u}function vr(p){return p.outlet||St}function mo(p,m){const u=p.filter(_=>vr(_)===m);return u.push(...p.filter(_=>vr(_)!==m)),u}function Fr(p){if(!p)return null;if(p.routeConfig?._injector)return p.routeConfig._injector;for(let m=p.parent;m;m=m.parent){const u=m.routeConfig;if(u?._loadedInjector)return u._loadedInjector;if(u?._injector)return u._injector}return null}class vo{constructor(m,u,_,T){this.routeReuseStrategy=m,this.futureState=u,this.currState=_,this.forwardEvent=T}activate(m){const u=this.futureState._root,_=this.currState?this.currState._root:null;this.deactivateChildRoutes(u,_,m),Us(this.futureState.root),this.activateChildRoutes(u,_,m)}deactivateChildRoutes(m,u,_){const T=cs(u);m.children.forEach(P=>{const F=P.value.outlet;this.deactivateRoutes(P,T[F],_),delete T[F]}),Ft(T,(P,F)=>{this.deactivateRouteAndItsChildren(P,_)})}deactivateRoutes(m,u,_){const T=m.value,P=u?u.value:null;if(T===P)if(T.component){const F=_.getContext(T.outlet);F&&this.deactivateChildRoutes(m,u,F.children)}else this.deactivateChildRoutes(m,u,_);else P&&this.deactivateRouteAndItsChildren(u,_)}deactivateRouteAndItsChildren(m,u){m.value.component&&this.routeReuseStrategy.shouldDetach(m.value.snapshot)?this.detachAndStoreRouteSubtree(m,u):this.deactivateRouteAndOutlet(m,u)}detachAndStoreRouteSubtree(m,u){const _=u.getContext(m.value.outlet),T=_&&m.value.component?_.children:u,P=cs(m);for(const F of Object.keys(P))this.deactivateRouteAndItsChildren(P[F],T);if(_&&_.outlet){const F=_.outlet.detach(),K=_.children.onOutletDeactivated();this.routeReuseStrategy.store(m.value.snapshot,{componentRef:F,route:m,contexts:K})}}deactivateRouteAndOutlet(m,u){const _=u.getContext(m.value.outlet),T=_&&m.value.component?_.children:u,P=cs(m);for(const F of Object.keys(P))this.deactivateRouteAndItsChildren(P[F],T);_&&(_.outlet&&(_.outlet.deactivate(),_.children.onOutletDeactivated()),_.attachRef=null,_.resolver=null,_.route=null)}activateChildRoutes(m,u,_){const T=cs(u);m.children.forEach(P=>{this.activateRoutes(P,T[P.value.outlet],_),this.forwardEvent(new gr(P.value.snapshot))}),m.children.length&&this.forwardEvent(new or(m.value.snapshot))}activateRoutes(m,u,_){const T=m.value,P=u?u.value:null;if(Us(T),T===P)if(T.component){const F=_.getOrCreateContext(T.outlet);this.activateChildRoutes(m,u,F.children)}else this.activateChildRoutes(m,u,_);else if(T.component){const F=_.getOrCreateContext(T.outlet);if(this.routeReuseStrategy.shouldAttach(T.snapshot)){const K=this.routeReuseStrategy.retrieve(T.snapshot);this.routeReuseStrategy.store(T.snapshot,null),F.children.onOutletReAttached(K.contexts),F.attachRef=K.componentRef,F.route=K.route.value,F.outlet&&F.outlet.attach(K.componentRef,K.route.value),Us(K.route.value),this.activateChildRoutes(m,null,F.children)}else{const K=Fr(T.snapshot),oe=K?.get(R._Vd)??null;F.attachRef=null,F.route=T,F.resolver=oe,F.injector=K,F.outlet&&F.outlet.activateWith(T,F.injector),this.activateChildRoutes(m,null,F.children)}}else this.activateChildRoutes(m,null,_)}}class Xe{constructor(m){this.path=m,this.route=this.path[this.path.length-1]}}class Ss{constructor(m,u){this.component=m,this.route=u}}function Da(p,m,u){const _=p._root;return bs(_,m?m._root:null,u,[_.value])}function Ts(p,m){const u=Symbol(),_=m.get(p,u);return _===u?"function"!=typeof p||(0,R.Z0I)(p)?m.get(p):p:_}function bs(p,m,u,_,T={canDeactivateChecks:[],canActivateChecks:[]}){const P=cs(m);return p.children.forEach(F=>{(function sa(p,m,u,_,T={canDeactivateChecks:[],canActivateChecks:[]}){const P=p.value,F=m?m.value:null,K=u?u.getContext(p.value.outlet):null;if(F&&P.routeConfig===F.routeConfig){const oe=function js(p,m,u){if("function"==typeof u)return u(p,m);switch(u){case"pathParamsChange":return!ai(p.url,m.url);case"pathParamsOrQueryParamsChange":return!ai(p.url,m.url)||!hr(p.queryParams,m.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ti(p,m)||!hr(p.queryParams,m.queryParams);default:return!ti(p,m)}}(F,P,P.routeConfig.runGuardsAndResolvers);oe?T.canActivateChecks.push(new Xe(_)):(P.data=F.data,P._resolvedData=F._resolvedData),bs(p,m,P.component?K?K.children:null:u,_,T),oe&&K&&K.outlet&&K.outlet.isActivated&&T.canDeactivateChecks.push(new Ss(K.outlet.component,F))}else F&&zs(m,K,T),T.canActivateChecks.push(new Xe(_)),bs(p,null,P.component?K?K.children:null:u,_,T)})(F,P[F.value.outlet],u,_.concat([F.value]),T),delete P[F.value.outlet]}),Ft(P,(F,K)=>zs(F,u.getContext(K),T)),T}function zs(p,m,u){const _=cs(p),T=p.value;Ft(_,(P,F)=>{zs(P,T.component?m?m.children.getContext(F):null:m,u)}),u.canDeactivateChecks.push(new Ss(T.component&&m&&m.outlet&&m.outlet.isActivated?m.outlet.component:null,T))}function ve(p){return"function"==typeof p}function ds(p){return p instanceof ut||"EmptyError"===p?.name}const hs=Symbol("INITIAL_VALUE");function fs(){return Lt(p=>Ye(p.map(m=>m.pipe(Tn(1),function Dt(...p){const m=(0,J.yG)(p);return(0,he.e)((u,_)=>{(m?je(p,u,m):je(p,u)).subscribe(_)})}(hs)))).pipe((0,Oe.U)(m=>{for(const u of m)if(!0!==u){if(u===hs)return hs;if(!1===u||u instanceof Xn)return u}return!0}),Ht(m=>m!==hs),Tn(1)))}function la(p){return(0,pt.z)(In(m=>{if(Ui(m))throw uo(0,m)}),(0,Oe.U)(m=>!0===m))}const Is={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $o(p,m,u,_,T){const P=gs(p,m,u);return P.matched?function zo(p,m,u,_){const T=m.canMatch;return T&&0!==T.length?ue(T.map(F=>{const K=Ts(F,p);return en(function Wr(p){return p&&ve(p.canMatch)}(K)?K.canMatch(m,u):p.runInContext(()=>K(m,u)))})).pipe(fs(),la()):ue(!0)}(_=Vs(m,_),m,u).pipe((0,Oe.U)(F=>!0===F?P:{...Is})):ue(P)}function gs(p,m,u){if(""===m.path)return"full"===m.pathMatch&&(p.hasChildren()||u.length>0)?{...Is}:{matched:!0,consumedSegments:[],remainingSegments:u,parameters:{},positionalParamSegments:{}};const T=(m.matcher||dt)(u,p,m);if(!T)return{...Is};const P={};Ft(T.posParams,(K,oe)=>{P[oe]=K.path});const F=T.consumed.length>0?{...P,...T.consumed[T.consumed.length-1].parameters}:P;return{matched:!0,consumedSegments:T.consumed,remainingSegments:u.slice(T.consumed.length),parameters:F,positionalParamSegments:T.posParams??{}}}function ms(p,m,u,_){if(u.length>0&&function yo(p,m,u){return u.some(_=>As(p,m,_)&&vr(_)!==St)}(p,u,_)){const P=new At(m,function _o(p,m,u,_){const T={};T[St]=_,_._sourceSegment=p,_._segmentIndexShift=m.length;for(const P of u)if(""===P.path&&vr(P)!==St){const F=new At([],{});F._sourceSegment=p,F._segmentIndexShift=m.length,T[vr(P)]=F}return T}(p,m,_,new At(u,p.children)));return P._sourceSegment=p,P._segmentIndexShift=m.length,{segmentGroup:P,slicedSegments:[]}}if(0===u.length&&function ca(p,m,u){return u.some(_=>As(p,m,_))}(p,u,_)){const P=new At(p.segments,function Go(p,m,u,_,T){const P={};for(const F of _)if(As(p,u,F)&&!T[vr(F)]){const K=new At([],{});K._sourceSegment=p,K._segmentIndexShift=m.length,P[vr(F)]=K}return{...T,...P}}(p,m,u,_,p.children));return P._sourceSegment=p,P._segmentIndexShift=m.length,{segmentGroup:P,slicedSegments:u}}const T=new At(p.segments,p.children);return T._sourceSegment=p,T._segmentIndexShift=m.length,{segmentGroup:T,slicedSegments:u}}function As(p,m,u){return(!(p.hasChildren()||m.length>0)||"full"!==u.pathMatch)&&""===u.path}function Wo(p,m,u,_){return!!(vr(p)===_||_!==St&&As(m,u,p))&&("**"===p.path||gs(m,p,u).matched)}function Eo(p,m,u){return 0===m.length&&!p.children[u]}const Do=!1;class wo{constructor(m){this.segmentGroup=m||null}}class tr{constructor(m){this.urlTree=m}}function br(p){return rt(new wo(p))}function wn(p){return rt(new tr(p))}class L{constructor(m,u,_,T,P){this.injector=m,this.configLoader=u,this.urlSerializer=_,this.urlTree=T,this.config=P,this.allowRedirects=!0}apply(){const m=ms(this.urlTree.root,[],[],this.config).segmentGroup,u=new At(m.segments,m.children);return this.expandSegmentGroup(this.injector,this.config,u,St).pipe((0,Oe.U)(P=>this.createUrlTree(ts(P),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ir(P=>{if(P instanceof tr)return this.allowRedirects=!1,this.match(P.urlTree);throw P instanceof wo?this.noMatchError(P):P}))}match(m){return this.expandSegmentGroup(this.injector,this.config,m.root,St).pipe((0,Oe.U)(T=>this.createUrlTree(ts(T),m.queryParams,m.fragment))).pipe(Ir(T=>{throw T instanceof wo?this.noMatchError(T):T}))}noMatchError(m){return new R.vHH(4002,Do)}createUrlTree(m,u,_){const T=Pr(m);return new Xn(T,u,_)}expandSegmentGroup(m,u,_,T){return 0===_.segments.length&&_.hasChildren()?this.expandChildren(m,u,_).pipe((0,Oe.U)(P=>new At([],P))):this.expandSegment(m,_,u,_.segments,T,!0)}expandChildren(m,u,_){const T=[];for(const P of Object.keys(_.children))"primary"===P?T.unshift(P):T.push(P);return(0,Q.D)(T).pipe(vn(P=>{const F=_.children[P],K=mo(u,P);return this.expandSegmentGroup(m,K,F,P).pipe((0,Oe.U)(oe=>({segment:oe,outlet:P})))}),Zi((P,F)=>(P[F.outlet]=F.segment,P),{}),Un())}expandSegment(m,u,_,T,P,F){return(0,Q.D)(_).pipe(vn(K=>this.expandSegmentAgainstRoute(m,u,_,K,T,P,F).pipe(Ir(Ie=>{if(Ie instanceof wo)return ue(null);throw Ie}))),wt(K=>!!K),Ir((K,oe)=>{if(ds(K))return Eo(u,T,P)?ue(new At([],{})):br(u);throw K}))}expandSegmentAgainstRoute(m,u,_,T,P,F,K){return Wo(T,u,P,F)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(m,u,T,P,F):K&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(m,u,_,T,P,F):br(u):br(u)}expandSegmentAgainstRouteUsingRedirect(m,u,_,T,P,F){return"**"===T.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(m,_,T,F):this.expandRegularSegmentAgainstRouteUsingRedirect(m,u,_,T,P,F)}expandWildCardWithParamsAgainstRouteUsingRedirect(m,u,_,T){const P=this.applyRedirectCommands([],_.redirectTo,{});return _.redirectTo.startsWith("/")?wn(P):this.lineralizeSegments(_,P).pipe((0,Mt.z)(F=>{const K=new At(F,{});return this.expandSegment(m,K,u,F,T,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(m,u,_,T,P,F){const{matched:K,consumedSegments:oe,remainingSegments:Ie,positionalParamSegments:Ne}=gs(u,T,P);if(!K)return br(u);const xt=this.applyRedirectCommands(oe,T.redirectTo,Ne);return T.redirectTo.startsWith("/")?wn(xt):this.lineralizeSegments(T,xt).pipe((0,Mt.z)(zn=>this.expandSegment(m,u,_,zn.concat(Ie),F,!1)))}matchSegmentAgainstRoute(m,u,_,T,P){return"**"===_.path?(m=Vs(_,m),_.loadChildren?(_._loadedRoutes?ue({routes:_._loadedRoutes,injector:_._loadedInjector}):this.configLoader.loadChildren(m,_)).pipe((0,Oe.U)(K=>(_._loadedRoutes=K.routes,_._loadedInjector=K.injector,new At(T,{})))):ue(new At(T,{}))):$o(u,_,T,m).pipe(Lt(({matched:F,consumedSegments:K,remainingSegments:oe})=>F?this.getChildConfig(m=_._injector??m,_,T).pipe((0,Mt.z)(Ne=>{const xt=Ne.injector??m,zn=Ne.routes,{segmentGroup:qi,slicedSegments:qr}=ms(u,K,oe,zn),Ni=new At(qi.segments,qi.children);if(0===qr.length&&Ni.hasChildren())return this.expandChildren(xt,zn,Ni).pipe((0,Oe.U)(Ma=>new At(K,Ma)));if(0===zn.length&&0===qr.length)return ue(new At(K,{}));const vi=vr(_)===P;return this.expandSegment(xt,Ni,zn,qr,vi?St:P,!0).pipe((0,Oe.U)(Ks=>new At(K.concat(Ks.segments),Ks.children)))})):br(u)))}getChildConfig(m,u,_){return u.children?ue({routes:u.children,injector:m}):u.loadChildren?void 0!==u._loadedRoutes?ue({routes:u._loadedRoutes,injector:u._loadedInjector}):function Ms(p,m,u,_){const T=m.canLoad;return void 0===T||0===T.length?ue(!0):ue(T.map(F=>{const K=Ts(F,p);return en(function Vo(p){return p&&ve(p.canLoad)}(K)?K.canLoad(m,u):p.runInContext(()=>K(m,u)))})).pipe(fs(),la())}(m,u,_).pipe((0,Mt.z)(T=>T?this.configLoader.loadChildren(m,u).pipe(In(P=>{u._loadedRoutes=P.routes,u._loadedInjector=P.injector})):function A(p){return rt(ho(Do,3))}())):ue({routes:[],injector:m})}lineralizeSegments(m,u){let _=[],T=u.root;for(;;){if(_=_.concat(T.segments),0===T.numberOfChildren)return ue(_);if(T.numberOfChildren>1||!T.children[St])return m.redirectTo,rt(new R.vHH(4e3,Do));T=T.children[St]}}applyRedirectCommands(m,u,_){return this.applyRedirectCreateUrlTree(u,this.urlSerializer.parse(u),m,_)}applyRedirectCreateUrlTree(m,u,_,T){const P=this.createSegmentGroup(m,u.root,_,T);return new Xn(P,this.createQueryParams(u.queryParams,this.urlTree.queryParams),u.fragment)}createQueryParams(m,u){const _={};return Ft(m,(T,P)=>{if("string"==typeof T&&T.startsWith(":")){const K=T.substring(1);_[P]=u[K]}else _[P]=T}),_}createSegmentGroup(m,u,_,T){const P=this.createSegments(m,u.segments,_,T);let F={};return Ft(u.children,(K,oe)=>{F[oe]=this.createSegmentGroup(m,K,_,T)}),new At(P,F)}createSegments(m,u,_,T){return u.map(P=>P.path.startsWith(":")?this.findPosParam(m,P,T):this.findOrReturn(P,_))}findPosParam(m,u,_){const T=_[u.path.substring(1)];if(!T)throw new R.vHH(4001,Do);return T}findOrReturn(m,u){let _=0;for(const T of u){if(T.path===m.path)return u.splice(_),T;_++}return m}}class ge{}class qt{constructor(m,u,_,T,P,F,K){this.injector=m,this.rootComponentType=u,this.config=_,this.urlTree=T,this.url=P,this.paramsInheritanceStrategy=F,this.urlSerializer=K}recognize(){const m=ms(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,m,St).pipe((0,Oe.U)(u=>{if(null===u)return null;const _=new co([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),T=new Mi(_,u),P=new Fo(this.url,T);return this.inheritParamsAndData(P._root),P}))}inheritParamsAndData(m){const u=m.value,_=ya(u,this.paramsInheritanceStrategy);u.params=Object.freeze(_.params),u.data=Object.freeze(_.data),m.children.forEach(T=>this.inheritParamsAndData(T))}processSegmentGroup(m,u,_,T){return 0===_.segments.length&&_.hasChildren()?this.processChildren(m,u,_):this.processSegment(m,u,_,_.segments,T)}processChildren(m,u,_){return(0,Q.D)(Object.keys(_.children)).pipe(vn(T=>{const P=_.children[T],F=mo(u,T);return this.processSegmentGroup(m,F,P,T)}),Zi((T,P)=>T&&P?(T.push(...P),T):null),function oi(p,m=!1){return(0,he.e)((u,_)=>{let T=0;u.subscribe((0,Ut.x)(_,P=>{const F=p(P,T++);(F||m)&&_.next(P),!F&&_.complete()}))})}(T=>null!==T),nn(null),Un(),(0,Oe.U)(T=>{if(null===T)return null;const P=tn(T);return function Jt(p){p.sort((m,u)=>m.value.outlet===St?-1:u.value.outlet===St?1:m.value.outlet.localeCompare(u.value.outlet))}(P),P}))}processSegment(m,u,_,T,P){return(0,Q.D)(u).pipe(vn(F=>this.processSegmentAgainstRoute(F._injector??m,F,_,T,P)),wt(F=>!!F),Ir(F=>{if(ds(F))return Eo(_,T,P)?ue([]):ue(null);throw F}))}processSegmentAgainstRoute(m,u,_,T,P){if(u.redirectTo||!Wo(u,_,T,P))return ue(null);let F;if("**"===u.path){const K=T.length>0?Ei(T).parameters:{},oe=b(_)+T.length;F=ue({snapshot:new co(T,K,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,g(u),vr(u),u.component??u._loadedComponent??null,u,Gi(_),oe,C(u)),consumedSegments:[],remainingSegments:[]})}else F=$o(_,u,T,m).pipe((0,Oe.U)(({matched:K,consumedSegments:oe,remainingSegments:Ie,parameters:Ne})=>{if(!K)return null;const xt=b(_)+oe.length;return{snapshot:new co(oe,Ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,g(u),vr(u),u.component??u._loadedComponent??null,u,Gi(_),xt,C(u)),consumedSegments:oe,remainingSegments:Ie}}));return F.pipe(Lt(K=>{if(null===K)return ue(null);const{snapshot:oe,consumedSegments:Ie,remainingSegments:Ne}=K;m=u._injector??m;const xt=u._loadedInjector??m,zn=function $t(p){return p.children?p.children:p.loadChildren?p._loadedRoutes:[]}(u),{segmentGroup:qi,slicedSegments:qr}=ms(_,Ie,Ne,zn.filter(vi=>void 0===vi.redirectTo));if(0===qr.length&&qi.hasChildren())return this.processChildren(xt,zn,qi).pipe((0,Oe.U)(vi=>null===vi?null:[new Mi(oe,vi)]));if(0===zn.length&&0===qr.length)return ue([new Mi(oe,[])]);const Ni=vr(u)===P;return this.processSegment(xt,zn,qi,qr,Ni?St:P).pipe((0,Oe.U)(vi=>null===vi?null:[new Mi(oe,vi)]))}))}}function Mn(p){const m=p.value.routeConfig;return m&&""===m.path&&void 0===m.redirectTo}function tn(p){const m=[],u=new Set;for(const _ of p){if(!Mn(_)){m.push(_);continue}const T=m.find(P=>_.value.routeConfig===P.value.routeConfig);void 0!==T?(T.children.push(..._.children),u.add(T)):m.push(_)}for(const _ of u){const T=tn(_.children);m.push(new Mi(_.value,T))}return m.filter(_=>!u.has(_))}function Gi(p){let m=p;for(;m._sourceSegment;)m=m._sourceSegment;return m}function b(p){let m=p,u=m._segmentIndexShift??0;for(;m._sourceSegment;)m=m._sourceSegment,u+=m._segmentIndexShift??0;return u-1}function g(p){return p.data||{}}function C(p){return p.resolve||{}}function Le(p){return"string"==typeof p.title||null===p.title}function qe(p){return Lt(m=>{const u=p(m);return u?(0,Q.D)(u).pipe((0,Oe.U)(()=>m)):ue(m)})}const Ct=new R.OlP("ROUTES");let ot=(()=>{class p{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,R.f3M)(R.Sil)}loadComponent(u){if(this.componentLoaders.get(u))return this.componentLoaders.get(u);if(u._loadedComponent)return ue(u._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(u);const _=en(u.loadComponent()).pipe((0,Oe.U)(Zt),In(P=>{this.onLoadEndListener&&this.onLoadEndListener(u),u._loadedComponent=P}),Qi(()=>{this.componentLoaders.delete(u)})),T=new ke(_,()=>new Se.x).pipe(De());return this.componentLoaders.set(u,T),T}loadChildren(u,_){if(this.childrenLoaders.get(_))return this.childrenLoaders.get(_);if(_._loadedRoutes)return ue({routes:_._loadedRoutes,injector:_._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(_);const P=this.loadModuleFactoryOrRoutes(_.loadChildren).pipe((0,Oe.U)(K=>{this.onLoadEndListener&&this.onLoadEndListener(_);let oe,Ie,Ne=!1;Array.isArray(K)?Ie=K:(oe=K.create(u).injector,Ie=_n(oe.get(Ct,[],R.XFs.Self|R.XFs.Optional)));return{routes:Ie.map(Cs),injector:oe}}),Qi(()=>{this.childrenLoaders.delete(_)})),F=new ke(P,()=>new Se.x).pipe(De());return this.childrenLoaders.set(_,F),F}loadModuleFactoryOrRoutes(u){return en(u()).pipe((0,Oe.U)(Zt),(0,Mt.z)(_=>_ instanceof R.YKP||Array.isArray(_)?ue(_):(0,Q.D)(this.compiler.compileModuleAsync(_))))}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=R.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function Zt(p){return function Tt(p){return p&&"object"==typeof p&&"default"in p}(p)?p.default:p}let An=(()=>{class p{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Se.x,this.configLoader=(0,R.f3M)(ot),this.environmentInjector=(0,R.f3M)(R.lqb),this.urlSerializer=(0,R.f3M)(Ci),this.rootContexts=(0,R.f3M)(Ri),this.navigationId=0,this.afterPreactivation=()=>ue(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=T=>this.events.next(new Fs(T)),this.configLoader.onLoadStartListener=T=>this.events.next(new Hi(T))}complete(){this.transitions?.complete()}handleNavigationRequest(u){const _=++this.navigationId;this.transitions?.next({...this.transitions.value,...u,id:_})}setupNavigations(u){return this.transitions=new Ue({id:0,targetPageId:0,currentUrlTree:u.currentUrlTree,currentRawUrl:u.currentUrlTree,extractedUrl:u.urlHandlingStrategy.extract(u.currentUrlTree),urlAfterRedirects:u.urlHandlingStrategy.extract(u.currentUrlTree),rawUrl:u.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bn,restoredState:null,currentSnapshot:u.routerState.snapshot,targetSnapshot:null,currentRouterState:u.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ht(_=>0!==_.id),(0,Oe.U)(_=>({..._,extractedUrl:u.urlHandlingStrategy.extract(_.rawUrl)})),Lt(_=>{let T=!1,P=!1;return ue(_).pipe(In(F=>{this.currentNavigation={id:F.id,initialUrl:F.rawUrl,extractedUrl:F.extractedUrl,trigger:F.source,extras:F.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Lt(F=>{const K=u.browserUrlTree.toString(),oe=!u.navigated||F.extractedUrl.toString()!==K||K!==u.currentUrlTree.toString();if(!oe&&"reload"!==(F.extras.onSameUrlNavigation??u.onSameUrlNavigation)){const Ne="";return this.events.next(new Wn(F.id,u.serializeUrl(_.rawUrl),Ne,0)),u.rawUrlTree=F.rawUrl,F.resolve(null),ae.E}if(u.urlHandlingStrategy.shouldProcessUrl(F.rawUrl))return qn(F.source)&&(u.browserUrlTree=F.extractedUrl),ue(F).pipe(Lt(Ne=>{const xt=this.transitions?.getValue();return this.events.next(new Nn(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),Ne.source,Ne.restoredState)),xt!==this.transitions?.getValue()?ae.E:Promise.resolve(Ne)}),function j(p,m,u,_){return Lt(T=>function w(p,m,u,_,T){return new L(p,m,u,_,T).apply()}(p,m,u,T.extractedUrl,_).pipe((0,Oe.U)(P=>({...T,urlAfterRedirects:P}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,u.config),In(Ne=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ne.urlAfterRedirects},_.urlAfterRedirects=Ne.urlAfterRedirects}),function O(p,m,u,_,T){return(0,Mt.z)(P=>function Yt(p,m,u,_,T,P,F="emptyOnly"){return new qt(p,m,u,_,T,F,P).recognize().pipe(Lt(K=>null===K?function Je(p){return new Qe.y(m=>m.error(p))}(new ge):ue(K)))}(p,m,u,P.urlAfterRedirects,_.serialize(P.urlAfterRedirects),_,T).pipe((0,Oe.U)(F=>({...P,targetSnapshot:F}))))}(this.environmentInjector,this.rootComponentType,u.config,this.urlSerializer,u.paramsInheritanceStrategy),In(Ne=>{if(_.targetSnapshot=Ne.targetSnapshot,"eager"===u.urlUpdateStrategy){if(!Ne.extras.skipLocationChange){const zn=u.urlHandlingStrategy.merge(Ne.urlAfterRedirects,Ne.rawUrl);u.setBrowserUrl(zn,Ne)}u.browserUrlTree=Ne.urlAfterRedirects}const xt=new is(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(xt)}));if(oe&&u.urlHandlingStrategy.shouldProcessUrl(u.rawUrlTree)){const{id:Ne,extractedUrl:xt,source:zn,restoredState:qi,extras:qr}=F,Ni=new Nn(Ne,this.urlSerializer.serialize(xt),zn,qi);this.events.next(Ni);const vi=ks(xt,this.rootComponentType).snapshot;return ue(_={...F,targetSnapshot:vi,urlAfterRedirects:xt,extras:{...qr,skipLocationChange:!1,replaceUrl:!1}})}{const Ne="";return this.events.next(new Wn(F.id,u.serializeUrl(_.extractedUrl),Ne,1)),u.rawUrlTree=F.rawUrl,F.resolve(null),ae.E}}),In(F=>{const K=new on(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(K)}),(0,Oe.U)(F=>_={...F,guards:Da(F.targetSnapshot,F.currentSnapshot,this.rootContexts)}),function jo(p,m){return(0,Mt.z)(u=>{const{targetSnapshot:_,currentSnapshot:T,guards:{canActivateChecks:P,canDeactivateChecks:F}}=u;return 0===F.length&&0===P.length?ue({...u,guardsResult:!0}):function cr(p,m,u,_){return(0,Q.D)(p).pipe((0,Mt.z)(T=>function Ur(p,m,u,_,T){const P=m&&m.routeConfig?m.routeConfig.canDeactivate:null;return P&&0!==P.length?ue(P.map(K=>{const oe=Fr(m)??T,Ie=Ts(K,oe);return en(function lr(p){return p&&ve(p.canDeactivate)}(Ie)?Ie.canDeactivate(p,m,u,_):oe.runInContext(()=>Ie(p,m,u,_))).pipe(wt())})).pipe(fs()):ue(!0)}(T.component,T.route,u,m,_)),wt(T=>!0!==T,!0))}(F,_,T,p).pipe((0,Mt.z)(K=>K&&function Kt(p){return"boolean"==typeof p}(K)?function Tr(p,m,u,_){return(0,Q.D)(m).pipe(vn(T=>je(function ps(p,m){return null!==p&&m&&m(new ei(p)),ue(!0)}(T.route.parent,_),function oa(p,m){return null!==p&&m&&m(new xr(p)),ue(!0)}(T.route,_),function aa(p,m,u){const _=m[m.length-1],P=m.slice(0,m.length-1).reverse().map(F=>function wa(p){const m=p.routeConfig?p.routeConfig.canActivateChild:null;return m&&0!==m.length?{node:p,guards:m}:null}(F)).filter(F=>null!==F).map(F=>Ve(()=>ue(F.guards.map(oe=>{const Ie=Fr(F.node)??u,Ne=Ts(oe,Ie);return en(function Yn(p){return p&&ve(p.canActivateChild)}(Ne)?Ne.canActivateChild(_,p):Ie.runInContext(()=>Ne(_,p))).pipe(wt())})).pipe(fs())));return ue(P).pipe(fs())}(p,T.path,u),function fi(p,m,u){const _=m.routeConfig?m.routeConfig.canActivate:null;if(!_||0===_.length)return ue(!0);const T=_.map(P=>Ve(()=>{const F=Fr(m)??u,K=Ts(P,F);return en(function Ho(p){return p&&ve(p.canActivate)}(K)?K.canActivate(m,p):F.runInContext(()=>K(m,p))).pipe(wt())}));return ue(T).pipe(fs())}(p,T.route,u))),wt(T=>!0!==T,!0))}(_,P,p,m):ue(K)),(0,Oe.U)(K=>({...u,guardsResult:K})))})}(this.environmentInjector,F=>this.events.next(F)),In(F=>{if(_.guardsResult=F.guardsResult,Ui(F.guardsResult))throw uo(0,F.guardsResult);const K=new ss(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot,!!F.guardsResult);this.events.next(K)}),Ht(F=>!!F.guardsResult||(u.restoreHistory(F),this.cancelNavigationTransition(F,"",3),!1)),qe(F=>{if(F.guards.canActivateChecks.length)return ue(F).pipe(In(K=>{const oe=new os(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot);this.events.next(oe)}),Lt(K=>{let oe=!1;return ue(K).pipe(function U(p,m){return(0,Mt.z)(u=>{const{targetSnapshot:_,guards:{canActivateChecks:T}}=u;if(!T.length)return ue(u);let P=0;return(0,Q.D)(T).pipe(vn(F=>function z(p,m,u,_){const T=p.routeConfig,P=p._resolve;return void 0!==T?.title&&!Le(T)&&(P[Cr]=T.title),function G(p,m,u,_){const T=function te(p){return[...Object.keys(p),...Object.getOwnPropertySymbols(p)]}(p);if(0===T.length)return ue({});const P={};return(0,Q.D)(T).pipe((0,Mt.z)(F=>function ce(p,m,u,_){const T=Fr(m)??_,P=Ts(p,T);return en(P.resolve?P.resolve(m,u):T.runInContext(()=>P(m,u)))}(p[F],m,u,_).pipe(wt(),In(K=>{P[F]=K}))),jr(1),function Ls(p){return(0,Oe.U)(()=>p)}(P),Ir(F=>ds(F)?ae.E:rt(F)))}(P,p,m,_).pipe((0,Oe.U)(F=>(p._resolvedData=F,p.data=ya(p,u).resolve,T&&Le(T)&&(p.data[Cr]=T.title),null)))}(F.route,_,p,m)),In(()=>P++),jr(1),(0,Mt.z)(F=>P===T.length?ue(u):ae.E))})}(u.paramsInheritanceStrategy,this.environmentInjector),In({next:()=>oe=!0,complete:()=>{oe||(u.restoreHistory(K),this.cancelNavigationTransition(K,"",2))}}))}),In(K=>{const oe=new ao(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot);this.events.next(oe)}))}),qe(F=>{const K=oe=>{const Ie=[];oe.routeConfig?.loadComponent&&!oe.routeConfig._loadedComponent&&Ie.push(this.configLoader.loadComponent(oe.routeConfig).pipe(In(Ne=>{oe.component=Ne}),(0,Oe.U)(()=>{})));for(const Ne of oe.children)Ie.push(...K(Ne));return Ie};return Ye(K(F.targetSnapshot.root)).pipe(nn(),Tn(1))}),qe(()=>this.afterPreactivation()),(0,Oe.U)(F=>{const K=function Ea(p,m,u){const _=di(p,m._root,u?u._root:void 0);return new ws(_,m)}(u.routeReuseStrategy,F.targetSnapshot,F.currentRouterState);return _={...F,targetRouterState:K}}),In(F=>{u.currentUrlTree=F.urlAfterRedirects,u.rawUrlTree=u.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),u.routerState=F.targetRouterState,"deferred"===u.urlUpdateStrategy&&(F.extras.skipLocationChange||u.setBrowserUrl(u.rawUrlTree,F),u.browserUrlTree=F.urlAfterRedirects)}),((p,m,u)=>(0,Oe.U)(_=>(new vo(m,_.targetRouterState,_.currentRouterState,u).activate(p),_)))(this.rootContexts,u.routeReuseStrategy,F=>this.events.next(F)),Tn(1),In({next:F=>{T=!0,this.lastSuccessfulNavigation=this.currentNavigation,u.navigated=!0,this.events.next(new xn(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(u.currentUrlTree))),u.titleStrategy?.updateTitle(F.targetRouterState.snapshot),F.resolve(!0)},complete:()=>{T=!0}}),Qi(()=>{T||P||this.cancelNavigationTransition(_,"",1),this.currentNavigation?.id===_.id&&(this.currentNavigation=null)}),Ir(F=>{if(P=!0,Bo(F)){Uo(F)||(u.navigated=!0,u.restoreHistory(_,!0));const K=new sr(_.id,this.urlSerializer.serialize(_.extractedUrl),F.message,F.cancellationCode);if(this.events.next(K),Uo(F)){const oe=u.urlHandlingStrategy.merge(F.url,u.rawUrlTree),Ie={skipLocationChange:_.extras.skipLocationChange,replaceUrl:"eager"===u.urlUpdateStrategy||qn(_.source)};u.scheduleNavigation(oe,bn,null,Ie,{resolve:_.resolve,reject:_.reject,promise:_.promise})}else _.resolve(!1)}else{u.restoreHistory(_,!0);const K=new ci(_.id,this.urlSerializer.serialize(_.extractedUrl),F,_.targetSnapshot??void 0);this.events.next(K);try{_.resolve(u.errorHandler(F))}catch(oe){_.reject(oe)}}return ae.E}))}))}cancelNavigationTransition(u,_,T){const P=new sr(u.id,this.urlSerializer.serialize(u.extractedUrl),_,T);this.events.next(P),u.resolve(!1)}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=R.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function qn(p){return p!==bn}let Kn=(()=>{class p{buildTitle(u){let _,T=u.root;for(;void 0!==T;)_=this.getResolvedTitleForRoute(T)??_,T=T.children.find(P=>P.outlet===St);return _}getResolvedTitleForRoute(u){return u.data[Cr]}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=R.Yz7({token:p,factory:function(){return(0,R.f3M)(_r)},providedIn:"root"}),p})(),_r=(()=>{class p extends Kn{constructor(u){super(),this.title=u}updateTitle(u){const _=this.buildTitle(u);void 0!==_&&this.title.setTitle(_)}}return p.\u0275fac=function(u){return new(u||p)(R.LFG(Po.Dx))},p.\u0275prov=R.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),pi=(()=>{class p{}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=R.Yz7({token:p,factory:function(){return(0,R.f3M)(ni)},providedIn:"root"}),p})();class $n{shouldDetach(m){return!1}store(m,u){}shouldAttach(m){return!1}retrieve(m){return null}shouldReuseRoute(m,u){return m.routeConfig===u.routeConfig}}let ni=(()=>{class p extends $n{}return p.\u0275fac=function(){let m;return function(_){return(m||(m=R.n5z(p)))(_||p)}}(),p.\u0275prov=R.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const Er=new R.OlP("",{providedIn:"root",factory:()=>({})});let Co=(()=>{class p{}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=R.Yz7({token:p,factory:function(){return(0,R.f3M)(Rs)},providedIn:"root"}),p})(),Rs=(()=>{class p{shouldProcessUrl(u){return!0}extract(u){return u}merge(u,_){return u}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=R.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function Gs(p){throw p}function Yo(p,m,u){return m.parse("/")}const it={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ft={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tt=(()=>{class p{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,R.f3M)(R.c2e),this.isNgZoneEnabled=!1,this.options=(0,R.f3M)(Er,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Gs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,R.f3M)(Co),this.routeReuseStrategy=(0,R.f3M)(pi),this.urlCreationStrategy=(0,R.f3M)(ea),this.titleStrategy=(0,R.f3M)(Kn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_n((0,R.f3M)(Ct,{optional:!0})??[]),this.navigationTransitions=(0,R.f3M)(An),this.urlSerializer=(0,R.f3M)(Ci),this.location=(0,R.f3M)(Ce.Ye),this.isNgZoneEnabled=(0,R.f3M)(R.R0b)instanceof R.R0b&&R.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ks(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(u=>{this.lastSuccessfulId=u.id,this.currentPageId=u.targetPageId},u=>{this.console.warn(`Unhandled Navigation Error: ${u}`)})}resetRootComponentType(u){this.routerState.root.component=u,this.navigationTransitions.rootComponentType=u}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const u=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bn,u)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(u=>{const _="popstate"===u.type?"popstate":"hashchange";"popstate"===_&&setTimeout(()=>{this.navigateToSyncWithBrowser(u.url,_,u.state)},0)}))}navigateToSyncWithBrowser(u,_,T){const P={replaceUrl:!0},F=T?.navigationId?T:null;if(T){const oe={...T};delete oe.navigationId,delete oe.\u0275routerPageId,0!==Object.keys(oe).length&&(P.state=oe)}const K=this.parseUrl(u);this.scheduleNavigation(K,_,F,P)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(u){this.config=u.map(Cs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(u,_={}){const{relativeTo:T,queryParams:P,fragment:F,queryParamsHandling:K,preserveFragment:oe}=_,Ie=oe?this.currentUrlTree.fragment:F;let Ne=null;switch(K){case"merge":Ne={...this.currentUrlTree.queryParams,...P};break;case"preserve":Ne=this.currentUrlTree.queryParams;break;default:Ne=P||null}return null!==Ne&&(Ne=this.removeEmptyProps(Ne)),this.urlCreationStrategy.createUrlTree(T,this.routerState,this.currentUrlTree,u,Ne,Ie??null)}navigateByUrl(u,_={skipLocationChange:!1}){const T=Ui(u)?u:this.parseUrl(u),P=this.urlHandlingStrategy.merge(T,this.rawUrlTree);return this.scheduleNavigation(P,bn,null,_)}navigate(u,_={skipLocationChange:!1}){return function Nt(p){for(let m=0;m<p.length;m++){const u=p[m];if(null==u)throw new R.vHH(4008,false)}}(u),this.navigateByUrl(this.createUrlTree(u,_),_)}serializeUrl(u){return this.urlSerializer.serialize(u)}parseUrl(u){let _;try{_=this.urlSerializer.parse(u)}catch(T){_=this.malformedUriErrorHandler(T,this.urlSerializer,u)}return _}isActive(u,_){let T;if(T=!0===_?{...it}:!1===_?{...ft}:_,Ui(u))return Di(this.currentUrlTree,u,T);const P=this.parseUrl(u);return Di(this.currentUrlTree,P,T)}removeEmptyProps(u){return Object.keys(u).reduce((_,T)=>{const P=u[T];return null!=P&&(_[T]=P),_},{})}scheduleNavigation(u,_,T,P,F){if(this.disposed)return Promise.resolve(!1);let K,oe,Ie,Ne;return F?(K=F.resolve,oe=F.reject,Ie=F.promise):Ie=new Promise((xt,zn)=>{K=xt,oe=zn}),Ne="computed"===this.canceledNavigationResolution?T&&T.\u0275routerPageId?T.\u0275routerPageId:P.replaceUrl||P.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Ne,source:_,restoredState:T,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:u,extras:P,resolve:K,reject:oe,promise:Ie,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ie.catch(xt=>Promise.reject(xt))}setBrowserUrl(u,_){const T=this.urlSerializer.serialize(u),P={..._.extras.state,...this.generateNgRouterState(_.id,_.targetPageId)};this.location.isCurrentPathEqualTo(T)||_.extras.replaceUrl?this.location.replaceState(T,"",P):this.location.go(T,"",P)}restoreHistory(u,_=!1){if("computed"===this.canceledNavigationResolution){const T=this.currentPageId-u.targetPageId;"popstate"!==u.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===T?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===T&&(this.resetState(u),this.browserUrlTree=u.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(T)}else"replace"===this.canceledNavigationResolution&&(_&&this.resetState(u),this.resetUrlToCurrentUrlTree())}resetState(u){this.routerState=u.currentRouterState,this.currentUrlTree=u.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,u.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(u,_){return"computed"===this.canceledNavigationResolution?{navigationId:u,\u0275routerPageId:_}:{navigationId:u}}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=R.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();class Ln{}let ur=(()=>{class p{constructor(u,_,T,P,F){this.router=u,this.injector=T,this.preloadingStrategy=P,this.loader=F}setUpPreloading(){this.subscription=this.router.events.pipe(Ht(u=>u instanceof xn),vn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(u,_){const T=[];for(const P of _){P.providers&&!P._injector&&(P._injector=(0,R.MMx)(P.providers,u,`Route: ${P.path}`));const F=P._injector??u,K=P._loadedInjector??F;(P.loadChildren&&!P._loadedRoutes&&void 0===P.canLoad||P.loadComponent&&!P._loadedComponent)&&T.push(this.preloadConfig(F,P)),(P.children||P._loadedRoutes)&&T.push(this.processRoutes(K,P.children??P._loadedRoutes))}return(0,Q.D)(T).pipe((0,Wt.J)())}preloadConfig(u,_){return this.preloadingStrategy.preload(_,()=>{let T;T=_.loadChildren&&void 0===_.canLoad?this.loader.loadChildren(u,_):ue(null);const P=T.pipe((0,Mt.z)(F=>null===F?ue(void 0):(_._loadedRoutes=F.routes,_._loadedInjector=F.injector,this.processRoutes(F.injector??u,F.routes))));if(_.loadComponent&&!_._loadedComponent){const F=this.loader.loadComponent(_);return(0,Q.D)([P,F]).pipe((0,Wt.J)())}return P})}}return p.\u0275fac=function(u){return new(u||p)(R.LFG(tt),R.LFG(R.Sil),R.LFG(R.lqb),R.LFG(Ln),R.LFG(ot))},p.\u0275prov=R.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const _e=new R.OlP("");let rr=(()=>{class p{constructor(u,_,T,P,F={}){this.urlSerializer=u,this.transitions=_,this.viewportScroller=T,this.zone=P,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(u=>{u instanceof Nn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=u.navigationTrigger,this.restoredId=u.restoredState?u.restoredState.navigationId:0):u instanceof xn&&(this.lastId=u.id,this.scheduleScrollEvent(u,this.urlSerializer.parse(u.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(u=>{u instanceof Jn&&(u.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(u.position):u.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(u.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(u,_){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Jn(u,"popstate"===this.lastSource?this.store[this.restoredId]:null,_))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return p.\u0275fac=function(u){R.$Z()},p.\u0275prov=R.Yz7({token:p,factory:p.\u0275fac}),p})();var an=(()=>((an=an||{})[an.COMPLETE=0]="COMPLETE",an[an.FAILED=1]="FAILED",an[an.REDIRECTING=2]="REDIRECTING",an))();const Hn=!1;function Wi(p,m){return{\u0275kind:p,\u0275providers:m}}const vs=new R.OlP("",{providedIn:"root",factory:()=>!1});function vl(){const p=(0,R.f3M)(R.zs3);return m=>{const u=p.get(R.z2F);if(m!==u.components[0])return;const _=p.get(tt),T=p.get(ua);1===p.get(Yi)&&_.initialNavigation(),p.get(za,null,R.XFs.Optional)?.setUpPreloading(),p.get(_e,null,R.XFs.Optional)?.init(),_.resetRootComponentType(u.componentTypes[0]),T.closed||(T.next(),T.complete(),T.unsubscribe())}}const ua=new R.OlP(Hn?"bootstrap done indicator":"",{factory:()=>new Se.x}),Yi=new R.OlP(Hn?"initial navigation":"",{providedIn:"root",factory:()=>1});function ja(){let p=[];return p=Hn?[{provide:R.Xts,multi:!0,useFactory:()=>{const m=(0,R.f3M)(tt);return()=>m.events.subscribe(u=>{console.group?.(`Router Event: ${u.constructor.name}`),console.log(function as(p){if(!("type"in p))return`Unknown Router Event: ${p.constructor.name}`;switch(p.type){case 14:return`ActivationEnd(path: '${p.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${p.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${p.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${p.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state}, shouldActivate: ${p.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case 2:return`NavigationCancel(id: ${p.id}, url: '${p.url}')`;case 16:return`NavigationSkipped(id: ${p.id}, url: '${p.url}')`;case 1:return`NavigationEnd(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${p.id}, url: '${p.url}', error: ${p.error})`;case 0:return`NavigationStart(id: ${p.id}, url: '${p.url}')`;case 6:return`ResolveEnd(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case 5:return`ResolveStart(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case 10:return`RouteConfigLoadEnd(path: ${p.route.path})`;case 9:return`RouteConfigLoadStart(path: ${p.route.path})`;case 4:return`RoutesRecognized(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case 15:return`Scroll(anchor: '${p.anchor}', position: '${p.position?`${p.position[0]}, ${p.position[1]}`:null}')`}}(u)),console.log(u),console.groupEnd?.()})}}]:[],Wi(1,p)}const za=new R.OlP(Hn?"router preloader":"");function Fe(p){return Wi(0,[{provide:za,useExisting:ur},{provide:Ln,useExisting:p}])}const Pi=!1,Sa=new R.OlP(Pi?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),gi=[Ce.Ye,{provide:Ci,useClass:re},tt,Ri,{provide:us,useFactory:function Ws(p){return p.routerState.root},deps:[tt]},ot,Pi?{provide:vs,useValue:!0}:[]];function Br(){return new R.PXZ("Router",tt)}let Os=(()=>{class p{constructor(u){}static forRoot(u,_){return{ngModule:p,providers:[gi,Pi&&_?.enableTracing?ja().\u0275providers:[],{provide:Ct,multi:!0,useValue:u},{provide:Sa,useFactory:_l,deps:[[tt,new R.FiY,new R.tp0]]},{provide:Er,useValue:_||{}},_?.useHash?{provide:Ce.S$,useClass:Ce.Do}:{provide:Ce.S$,useClass:Ce.b0},{provide:_e,useFactory:()=>{const p=(0,R.f3M)(Ce.EM),m=(0,R.f3M)(R.R0b),u=(0,R.f3M)(Er),_=(0,R.f3M)(An),T=(0,R.f3M)(Ci);return u.scrollOffset&&p.setOffset(u.scrollOffset),new rr(T,_,p,m,u)}},_?.preloadingStrategy?Fe(_.preloadingStrategy).\u0275providers:[],{provide:R.PXZ,multi:!0,useFactory:Br},_?.initialNavigation?Ta(_):[],[{provide:yl,useFactory:vl},{provide:R.tb,multi:!0,useExisting:yl}]]}}static forChild(u){return{ngModule:p,providers:[{provide:Ct,multi:!0,useValue:u}]}}}return p.\u0275fac=function(u){return new(u||p)(R.LFG(Sa,8))},p.\u0275mod=R.oAB({type:p}),p.\u0275inj=R.cJS({imports:[Bs]}),p})();function _l(p){if(Pi&&p)throw new R.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ta(p){return["disabled"===p.initialNavigation?Wi(3,[{provide:R.ip1,multi:!0,useFactory:()=>{const m=(0,R.f3M)(tt);return()=>{m.setUpLocationChangeListener()}}},{provide:Yi,useValue:2}]).\u0275providers:[],"enabledBlocking"===p.initialNavigation?Wi(2,[{provide:Yi,useValue:0},{provide:R.ip1,multi:!0,deps:[R.zs3],useFactory:m=>{const u=m.get(Ce.V_,Promise.resolve());return()=>u.then(()=>new Promise(_=>{const T=m.get(tt),P=m.get(ua);(function Yr(p,m){p.events.pipe(Ht(u=>u instanceof xn||u instanceof sr||u instanceof ci||u instanceof Wn),(0,Oe.U)(u=>u instanceof xn||u instanceof Wn?an.COMPLETE:u instanceof sr&&(0===u.code||1===u.code)?an.REDIRECTING:an.FAILED),Ht(u=>u!==an.REDIRECTING),Tn(1)).subscribe(()=>{m()})})(T,()=>{_(!0)}),m.get(An).afterPreactivation=()=>(_(!0),P.closed?ue(void 0):P),T.initialNavigation()}))}}]).\u0275providers:[]]}const yl=new R.OlP(Pi?"Router Initializer":"")}},Vt=>{Vt(Vt.s=296)}]);